(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GI={exports:{}},um={},KI={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=Symbol.for("react.element"),D$=Symbol.for("react.portal"),R$=Symbol.for("react.fragment"),M$=Symbol.for("react.strict_mode"),$$=Symbol.for("react.profiler"),L$=Symbol.for("react.provider"),V$=Symbol.for("react.context"),F$=Symbol.for("react.forward_ref"),U$=Symbol.for("react.suspense"),B$=Symbol.for("react.memo"),z$=Symbol.for("react.lazy"),aE=Symbol.iterator;function W$(t){return t===null||typeof t!="object"?null:(t=aE&&t[aE]||t["@@iterator"],typeof t=="function"?t:null)}var YI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XI=Object.assign,QI={};function _l(t,e,n){this.props=t,this.context=e,this.refs=QI,this.updater=n||YI}_l.prototype.isReactComponent={};_l.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_l.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JI(){}JI.prototype=_l.prototype;function db(t,e,n){this.props=t,this.context=e,this.refs=QI,this.updater=n||YI}var hb=db.prototype=new JI;hb.constructor=db;XI(hb,_l.prototype);hb.isPureReactComponent=!0;var oE=Array.isArray,ZI=Object.prototype.hasOwnProperty,pb={current:null},eC={key:!0,ref:!0,__self:!0,__source:!0};function tC(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)ZI.call(e,r)&&!eC.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:mf,type:t,key:a,ref:o,props:i,_owner:pb.current}}function q$(t,e){return{$$typeof:mf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mb(t){return typeof t=="object"&&t!==null&&t.$$typeof===mf}function H$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sE=/\/+/g;function ny(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H$(""+t.key):e.toString(36)}function qd(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mf:case D$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ny(o,0):r,oE(i)?(n="",t!=null&&(n=t.replace(sE,"$&/")+"/"),qd(i,e,n,"",function(u){return u})):i!=null&&(mb(i)&&(i=q$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oE(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+ny(a,s);o+=qd(a,e,n,l,i)}else if(l=W$(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+ny(a,s++),o+=qd(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function id(t,e,n){if(t==null)return t;var r=[],i=0;return qd(t,r,"","",function(a){return e.call(n,a,i++)}),r}function G$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},Hd={transition:null},K$={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Hd,ReactCurrentOwner:pb};function nC(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:id,forEach:function(t,e,n){id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return id(t,function(){e++}),e},toArray:function(t){return id(t,function(e){return e})||[]},only:function(t){if(!mb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=_l;ke.Fragment=R$;ke.Profiler=$$;ke.PureComponent=db;ke.StrictMode=M$;ke.Suspense=U$;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K$;ke.act=nC;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XI({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=pb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)ZI.call(e,l)&&!eC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:mf,type:t.type,key:i,ref:a,props:r,_owner:o}};ke.createContext=function(t){return t={$$typeof:V$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:L$,_context:t},t.Consumer=t};ke.createElement=tC;ke.createFactory=function(t){var e=tC.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:F$,render:t}};ke.isValidElement=mb;ke.lazy=function(t){return{$$typeof:z$,_payload:{_status:-1,_result:t},_init:G$}};ke.memo=function(t,e){return{$$typeof:B$,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Hd.transition;Hd.transition={};try{t()}finally{Hd.transition=e}};ke.unstable_act=nC;ke.useCallback=function(t,e){return xn.current.useCallback(t,e)};ke.useContext=function(t){return xn.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};ke.useEffect=function(t,e){return xn.current.useEffect(t,e)};ke.useId=function(){return xn.current.useId()};ke.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return xn.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};ke.useRef=function(t){return xn.current.useRef(t)};ke.useState=function(t){return xn.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return xn.current.useTransition()};ke.version="18.3.1";KI.exports=ke;var L=KI.exports;const U=et(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y$=L,X$=Symbol.for("react.element"),Q$=Symbol.for("react.fragment"),J$=Object.prototype.hasOwnProperty,Z$=Y$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eL={key:!0,ref:!0,__self:!0,__source:!0};function rC(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J$.call(e,r)&&!eL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X$,type:t,key:a,ref:o,props:i,_owner:Z$.current}}um.Fragment=Q$;um.jsx=rC;um.jsxs=rC;GI.exports=um;var h=GI.exports,vv={},iC={exports:{}},Hn={},aC={exports:{}},oC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,M){var X=B.length;B.push(M);e:for(;0<X;){var H=X-1>>>1,V=B[H];if(0<i(V,M))B[H]=M,B[X]=V,X=H;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var M=B[0],X=B.pop();if(X!==M){B[0]=X;e:for(var H=0,V=B.length,G=V>>>1;H<G;){var me=2*(H+1)-1,ye=B[me],Ve=me+1,Be=B[Ve];if(0>i(ye,X))Ve<V&&0>i(Be,ye)?(B[H]=Be,B[Ve]=X,H=Ve):(B[H]=ye,B[me]=X,H=me);else if(Ve<V&&0>i(Be,X))B[H]=Be,B[Ve]=X,H=Ve;else break e}}return M}function i(B,M){var X=B.sortIndex-M.sortIndex;return X!==0?X:B.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=B)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function N(B){if(w=!1,E(B),!g)if(n(l)!==null)g=!0,W(A);else{var M=n(u);M!==null&&R(N,M.startTime-B)}}function A(B,M){g=!1,w&&(w=!1,b(v),v=-1),m=!0;var X=p;try{for(E(M),d=n(l);d!==null&&(!(d.expirationTime>M)||B&&!k());){var H=d.callback;if(typeof H=="function"){d.callback=null,p=d.priorityLevel;var V=H(d.expirationTime<=M);M=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),E(M)}else r(l);d=n(l)}if(d!==null)var G=!0;else{var me=n(u);me!==null&&R(N,me.startTime-M),G=!1}return G}finally{d=null,p=X,m=!1}}var P=!1,S=null,v=-1,T=5,O=-1;function k(){return!(t.unstable_now()-O<T)}function j(){if(S!==null){var B=t.unstable_now();O=B;var M=!0;try{M=S(!0,B)}finally{M?C():(P=!1,S=null)}}else P=!1}var C;if(typeof y=="function")C=function(){y(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=j,C=function(){F.postMessage(null)}}else C=function(){x(j,0)};function W(B){S=B,P||(P=!0,C())}function R(B,M){v=x(function(){B(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,W(A))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var X=p;p=M;try{return B()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,M){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=p;p=B;try{return M()}finally{p=X}},t.unstable_scheduleCallback=function(B,M,X){var H=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?H+X:H):X=H,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=X+V,B={id:c++,callback:M,priorityLevel:B,startTime:X,expirationTime:V,sortIndex:-1},X>H?(B.sortIndex=X,e(u,B),n(l)===null&&B===n(u)&&(w?(b(v),v=-1):w=!0,R(N,X-H))):(B.sortIndex=V,e(l,B),g||m||(g=!0,W(A))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var M=p;return function(){var X=p;p=M;try{return B.apply(this,arguments)}finally{p=X}}}})(oC);aC.exports=oC;var tL=aC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nL=L,Wn=tL;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sC=new Set,oc={};function jo(t,e){Ns(t,e),Ns(t+"Capture",e)}function Ns(t,e){for(oc[t]=e,t=0;t<e.length;t++)sC.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wv=Object.prototype.hasOwnProperty,rL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lE={},uE={};function iL(t){return wv.call(uE,t)?!0:wv.call(lE,t)?!1:rL.test(t)?uE[t]=!0:(lE[t]=!0,!1)}function aL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oL(t,e,n,r){if(e===null||typeof e>"u"||aL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var gb=/[\-:]([a-z])/g;function yb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gb,yb);Zt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gb,yb);Zt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gb,yb);Zt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function vb(t,e,n,r){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oL(e,n,i,r)&&(n=null),r||i===null?iL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=nL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),wb=Symbol.for("react.strict_mode"),bv=Symbol.for("react.profiler"),lC=Symbol.for("react.provider"),uC=Symbol.for("react.context"),bb=Symbol.for("react.forward_ref"),_v=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),_b=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),cC=Symbol.for("react.offscreen"),cE=Symbol.iterator;function iu(t){return t===null||typeof t!="object"?null:(t=cE&&t[cE]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,ry;function Au(t){if(ry===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ry=e&&e[1]||""}return`
`+ry+t}var iy=!1;function ay(t,e){if(!t||iy)return"";iy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{iy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Au(t):""}function sL(t){switch(t.tag){case 5:return Au(t.type);case 16:return Au("Lazy");case 13:return Au("Suspense");case 19:return Au("SuspenseList");case 0:case 2:case 15:return t=ay(t.type,!1),t;case 11:return t=ay(t.type.render,!1),t;case 1:return t=ay(t.type,!0),t;default:return""}}function Ev(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case is:return"Fragment";case rs:return"Portal";case bv:return"Profiler";case wb:return"StrictMode";case _v:return"Suspense";case xv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uC:return(t.displayName||"Context")+".Consumer";case lC:return(t._context.displayName||"Context")+".Provider";case bb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _b:return e=t.displayName||null,e!==null?e:Ev(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return Ev(t(e))}catch{}}return null}function lL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ev(e);case 8:return e===wb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uL(t){var e=fC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=uL(t))}function dC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sv(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hC(t,e){e=e.checked,e!=null&&vb(t,"checked",e,!1)}function Tv(t,e){hC(t,e);var n=wa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Av(t,e.type,n):e.hasOwnProperty("defaultValue")&&Av(t,e.type,wa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Av(t,e,n){(e!=="number"||mh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pu=Array.isArray;function ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Pu(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wa(n)}}function pC(t,e){var n=wa(e.value),r=wa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ov(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sd,gC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sd=sd||document.createElement("div"),sd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cL=["Webkit","ms","Moz","O"];Object.keys($u).forEach(function(t){cL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$u[e]=$u[t]})});function yC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$u.hasOwnProperty(t)&&$u[t]?(""+e).trim():e+"px"}function vC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fL=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iv(t,e){if(e){if(fL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kv=null;function xb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nv=null,bs=null,_s=null;function mE(t){if(t=vf(t)){if(typeof Nv!="function")throw Error(re(280));var e=t.stateNode;e&&(e=pm(e),Nv(t.stateNode,t.type,e))}}function wC(t){bs?_s?_s.push(t):_s=[t]:bs=t}function bC(){if(bs){var t=bs,e=_s;if(_s=bs=null,mE(t),e)for(t=0;t<e.length;t++)mE(e[t])}}function _C(t,e){return t(e)}function xC(){}var oy=!1;function EC(t,e,n){if(oy)return t(e,n);oy=!0;try{return _C(t,e,n)}finally{oy=!1,(bs!==null||_s!==null)&&(xC(),bC())}}function lc(t,e){var n=t.stateNode;if(n===null)return null;var r=pm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var jv=!1;if(bi)try{var au={};Object.defineProperty(au,"passive",{get:function(){jv=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{jv=!1}function dL(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Lu=!1,gh=null,yh=!1,Dv=null,hL={onError:function(t){Lu=!0,gh=t}};function pL(t,e,n,r,i,a,o,s,l){Lu=!1,gh=null,dL.apply(hL,arguments)}function mL(t,e,n,r,i,a,o,s,l){if(pL.apply(this,arguments),Lu){if(Lu){var u=gh;Lu=!1,gh=null}else throw Error(re(198));yh||(yh=!0,Dv=u)}}function Do(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gE(t){if(Do(t)!==t)throw Error(re(188))}function gL(t){var e=t.alternate;if(!e){if(e=Do(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return gE(i),t;if(a===r)return gE(i),e;a=a.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function TC(t){return t=gL(t),t!==null?AC(t):null}function AC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AC(t);if(e!==null)return e;t=t.sibling}return null}var PC=Wn.unstable_scheduleCallback,yE=Wn.unstable_cancelCallback,yL=Wn.unstable_shouldYield,vL=Wn.unstable_requestPaint,xt=Wn.unstable_now,wL=Wn.unstable_getCurrentPriorityLevel,Eb=Wn.unstable_ImmediatePriority,OC=Wn.unstable_UserBlockingPriority,vh=Wn.unstable_NormalPriority,bL=Wn.unstable_LowPriority,IC=Wn.unstable_IdlePriority,cm=null,Ur=null;function _L(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(cm,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:SL,xL=Math.log,EL=Math.LN2;function SL(t){return t>>>=0,t===0?32:31-(xL(t)/EL|0)|0}var ld=64,ud=4194304;function Ou(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Ou(s):(a&=o,a!==0&&(r=Ou(a)))}else o=n&~i,o!==0?r=Ou(o):a!==0&&(r=Ou(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function TL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Pr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=TL(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CC(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function sy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function PL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Sb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function kC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NC,Tb,jC,DC,RC,Mv=!1,cd=[],ia=null,aa=null,oa=null,uc=new Map,cc=new Map,Gi=[],OL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vE(t,e){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(e.pointerId)}}function ou(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=vf(e),e!==null&&Tb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IL(t,e,n,r,i){switch(e){case"focusin":return ia=ou(ia,t,e,n,r,i),!0;case"dragenter":return aa=ou(aa,t,e,n,r,i),!0;case"mouseover":return oa=ou(oa,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return uc.set(a,ou(uc.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,cc.set(a,ou(cc.get(a)||null,t,e,n,r,i)),!0}return!1}function MC(t){var e=Ja(t.target);if(e!==null){var n=Do(e);if(n!==null){if(e=n.tag,e===13){if(e=SC(n),e!==null){t.blockedOn=e,RC(t.priority,function(){jC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$v(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kv=r,n.target.dispatchEvent(r),kv=null}else return e=vf(n),e!==null&&Tb(e),t.blockedOn=n,!1;e.shift()}return!0}function wE(t,e,n){Gd(t)&&n.delete(e)}function CL(){Mv=!1,ia!==null&&Gd(ia)&&(ia=null),aa!==null&&Gd(aa)&&(aa=null),oa!==null&&Gd(oa)&&(oa=null),uc.forEach(wE),cc.forEach(wE)}function su(t,e){t.blockedOn===e&&(t.blockedOn=null,Mv||(Mv=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,CL)))}function fc(t){function e(i){return su(i,t)}if(0<cd.length){su(cd[0],t);for(var n=1;n<cd.length;n++){var r=cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ia!==null&&su(ia,t),aa!==null&&su(aa,t),oa!==null&&su(oa,t),uc.forEach(e),cc.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)MC(n),n.blockedOn===null&&Gi.shift()}var xs=Ni.ReactCurrentBatchConfig,bh=!0;function kL(t,e,n,r){var i=Ge,a=xs.transition;xs.transition=null;try{Ge=1,Ab(t,e,n,r)}finally{Ge=i,xs.transition=a}}function NL(t,e,n,r){var i=Ge,a=xs.transition;xs.transition=null;try{Ge=4,Ab(t,e,n,r)}finally{Ge=i,xs.transition=a}}function Ab(t,e,n,r){if(bh){var i=$v(t,e,n,r);if(i===null)yy(t,e,r,_h,n),vE(t,r);else if(IL(i,t,e,n,r))r.stopPropagation();else if(vE(t,r),e&4&&-1<OL.indexOf(t)){for(;i!==null;){var a=vf(i);if(a!==null&&NC(a),a=$v(t,e,n,r),a===null&&yy(t,e,r,_h,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else yy(t,e,r,null,n)}}var _h=null;function $v(t,e,n,r){if(_h=null,t=xb(r),t=Ja(t),t!==null)if(e=Do(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _h=t,null}function $C(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wL()){case Eb:return 1;case OC:return 4;case vh:case bL:return 16;case IC:return 536870912;default:return 16}default:return 16}}var ea=null,Pb=null,Kd=null;function LC(){if(Kd)return Kd;var t,e=Pb,n=e.length,r,i="value"in ea?ea.value:ea.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Kd=i.slice(t,1<r?1-r:void 0)}function Yd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fd(){return!0}function bE(){return!1}function Gn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fd:bE,this.isPropagationStopped=bE,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),e}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ob=Gn(xl),yf=mt({},xl,{view:0,detail:0}),jL=Gn(yf),ly,uy,lu,fm=mt({},yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ib,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lu&&(lu&&t.type==="mousemove"?(ly=t.screenX-lu.screenX,uy=t.screenY-lu.screenY):uy=ly=0,lu=t),ly)},movementY:function(t){return"movementY"in t?t.movementY:uy}}),_E=Gn(fm),DL=mt({},fm,{dataTransfer:0}),RL=Gn(DL),ML=mt({},yf,{relatedTarget:0}),cy=Gn(ML),$L=mt({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),LL=Gn($L),VL=mt({},xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FL=Gn(VL),UL=mt({},xl,{data:0}),xE=Gn(UL),BL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WL[t])?!!e[t]:!1}function Ib(){return qL}var HL=mt({},yf,{key:function(t){if(t.key){var e=BL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ib,charCode:function(t){return t.type==="keypress"?Yd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GL=Gn(HL),KL=mt({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EE=Gn(KL),YL=mt({},yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ib}),XL=Gn(YL),QL=mt({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),JL=Gn(QL),ZL=mt({},fm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e4=Gn(ZL),t4=[9,13,27,32],Cb=bi&&"CompositionEvent"in window,Vu=null;bi&&"documentMode"in document&&(Vu=document.documentMode);var n4=bi&&"TextEvent"in window&&!Vu,VC=bi&&(!Cb||Vu&&8<Vu&&11>=Vu),SE=" ",TE=!1;function FC(t,e){switch(t){case"keyup":return t4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function r4(t,e){switch(t){case"compositionend":return UC(e);case"keypress":return e.which!==32?null:(TE=!0,SE);case"textInput":return t=e.data,t===SE&&TE?null:t;default:return null}}function i4(t,e){if(as)return t==="compositionend"||!Cb&&FC(t,e)?(t=LC(),Kd=Pb=ea=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VC&&e.locale!=="ko"?null:e.data;default:return null}}var a4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a4[t.type]:e==="textarea"}function BC(t,e,n,r){wC(r),e=xh(e,"onChange"),0<e.length&&(n=new Ob("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fu=null,dc=null;function o4(t){ZC(t,0)}function dm(t){var e=ls(t);if(dC(e))return t}function s4(t,e){if(t==="change")return e}var zC=!1;if(bi){var fy;if(bi){var dy="oninput"in document;if(!dy){var PE=document.createElement("div");PE.setAttribute("oninput","return;"),dy=typeof PE.oninput=="function"}fy=dy}else fy=!1;zC=fy&&(!document.documentMode||9<document.documentMode)}function OE(){Fu&&(Fu.detachEvent("onpropertychange",WC),dc=Fu=null)}function WC(t){if(t.propertyName==="value"&&dm(dc)){var e=[];BC(e,dc,t,xb(t)),EC(o4,e)}}function l4(t,e,n){t==="focusin"?(OE(),Fu=e,dc=n,Fu.attachEvent("onpropertychange",WC)):t==="focusout"&&OE()}function u4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dm(dc)}function c4(t,e){if(t==="click")return dm(e)}function f4(t,e){if(t==="input"||t==="change")return dm(e)}function d4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:d4;function hc(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wv.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function IE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CE(t,e){var n=IE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IE(n)}}function qC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HC(){for(var t=window,e=mh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mh(t.document)}return e}function kb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h4(t){var e=HC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qC(n.ownerDocument.documentElement,n)){if(r!==null&&kb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=CE(n,a);var o=CE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p4=bi&&"documentMode"in document&&11>=document.documentMode,os=null,Lv=null,Uu=null,Vv=!1;function kE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vv||os==null||os!==mh(r)||(r=os,"selectionStart"in r&&kb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uu&&hc(Uu,r)||(Uu=r,r=xh(Lv,"onSelect"),0<r.length&&(e=new Ob("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=os)))}function dd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ss={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},hy={},GC={};bi&&(GC=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function hm(t){if(hy[t])return hy[t];if(!ss[t])return t;var e=ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GC)return hy[t]=e[n];return t}var KC=hm("animationend"),YC=hm("animationiteration"),XC=hm("animationstart"),QC=hm("transitionend"),JC=new Map,NE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(t,e){JC.set(t,e),jo(e,[t])}for(var py=0;py<NE.length;py++){var my=NE[py],m4=my.toLowerCase(),g4=my[0].toUpperCase()+my.slice(1);Oa(m4,"on"+g4)}Oa(KC,"onAnimationEnd");Oa(YC,"onAnimationIteration");Oa(XC,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(QC,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iu));function jE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mL(r,e,void 0,t),t.currentTarget=null}function ZC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jE(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jE(i,s,u),a=l}}}if(yh)throw t=Dv,yh=!1,Dv=null,t}function ot(t,e){var n=e[Wv];n===void 0&&(n=e[Wv]=new Set);var r=t+"__bubble";n.has(r)||(ek(e,t,2,!1),n.add(r))}function gy(t,e,n){var r=0;e&&(r|=4),ek(n,t,r,e)}var hd="_reactListening"+Math.random().toString(36).slice(2);function pc(t){if(!t[hd]){t[hd]=!0,sC.forEach(function(n){n!=="selectionchange"&&(y4.has(n)||gy(n,!1,t),gy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hd]||(e[hd]=!0,gy("selectionchange",!1,e))}}function ek(t,e,n,r){switch($C(e)){case 1:var i=kL;break;case 4:i=NL;break;default:i=Ab}n=i.bind(null,e,n,t),i=void 0,!jv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yy(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ja(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}EC(function(){var u=a,c=xb(n),d=[];e:{var p=JC.get(t);if(p!==void 0){var m=Ob,g=t;switch(t){case"keypress":if(Yd(n)===0)break e;case"keydown":case"keyup":m=GL;break;case"focusin":g="focus",m=cy;break;case"focusout":g="blur",m=cy;break;case"beforeblur":case"afterblur":m=cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_E;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=XL;break;case KC:case YC:case XC:m=LL;break;case QC:m=JL;break;case"scroll":m=jL;break;case"wheel":m=e4;break;case"copy":case"cut":case"paste":m=FL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=EE}var w=(e&4)!==0,x=!w&&t==="scroll",b=w?p!==null?p+"Capture":null:p;w=[];for(var y=u,E;y!==null;){E=y;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,b!==null&&(N=lc(y,b),N!=null&&w.push(mc(y,N,E)))),x)break;y=y.return}0<w.length&&(p=new m(p,g,null,n,c),d.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==kv&&(g=n.relatedTarget||n.fromElement)&&(Ja(g)||g[_i]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Ja(g):null,g!==null&&(x=Do(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(w=_E,N="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=EE,N="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?p:ls(m),E=g==null?p:ls(g),p=new w(N,y+"leave",m,n,c),p.target=x,p.relatedTarget=E,N=null,Ja(c)===u&&(w=new w(b,y+"enter",g,n,c),w.target=E,w.relatedTarget=x,N=w),x=N,m&&g)t:{for(w=m,b=g,y=0,E=w;E;E=Ho(E))y++;for(E=0,N=b;N;N=Ho(N))E++;for(;0<y-E;)w=Ho(w),y--;for(;0<E-y;)b=Ho(b),E--;for(;y--;){if(w===b||b!==null&&w===b.alternate)break t;w=Ho(w),b=Ho(b)}w=null}else w=null;m!==null&&DE(d,p,m,w,!1),g!==null&&x!==null&&DE(d,x,g,w,!0)}}e:{if(p=u?ls(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=s4;else if(AE(p))if(zC)A=f4;else{A=u4;var P=l4}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=c4);if(A&&(A=A(t,u))){BC(d,A,n,c);break e}P&&P(t,p,u),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Av(p,"number",p.value)}switch(P=u?ls(u):window,t){case"focusin":(AE(P)||P.contentEditable==="true")&&(os=P,Lv=u,Uu=null);break;case"focusout":Uu=Lv=os=null;break;case"mousedown":Vv=!0;break;case"contextmenu":case"mouseup":case"dragend":Vv=!1,kE(d,n,c);break;case"selectionchange":if(p4)break;case"keydown":case"keyup":kE(d,n,c)}var S;if(Cb)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else as?FC(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(VC&&n.locale!=="ko"&&(as||v!=="onCompositionStart"?v==="onCompositionEnd"&&as&&(S=LC()):(ea=c,Pb="value"in ea?ea.value:ea.textContent,as=!0)),P=xh(u,v),0<P.length&&(v=new xE(v,t,null,n,c),d.push({event:v,listeners:P}),S?v.data=S:(S=UC(n),S!==null&&(v.data=S)))),(S=n4?r4(t,n):i4(t,n))&&(u=xh(u,"onBeforeInput"),0<u.length&&(c=new xE("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}ZC(d,e)})}function mc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=lc(t,n),a!=null&&r.unshift(mc(t,a,i)),a=lc(t,e),a!=null&&r.push(mc(t,a,i))),t=t.return}return r}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DE(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=lc(n,a),l!=null&&o.unshift(mc(n,l,s))):i||(l=lc(n,a),l!=null&&o.push(mc(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var v4=/\r\n?/g,w4=/\u0000|\uFFFD/g;function RE(t){return(typeof t=="string"?t:""+t).replace(v4,`
`).replace(w4,"")}function pd(t,e,n){if(e=RE(e),RE(t)!==e&&n)throw Error(re(425))}function Eh(){}var Fv=null,Uv=null;function Bv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zv=typeof setTimeout=="function"?setTimeout:void 0,b4=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,_4=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(t){return ME.resolve(null).then(t).catch(x4)}:zv;function x4(t){setTimeout(function(){throw t})}function vy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fc(e)}function sa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $E(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var El=Math.random().toString(36).slice(2),Lr="__reactFiber$"+El,gc="__reactProps$"+El,_i="__reactContainer$"+El,Wv="__reactEvents$"+El,E4="__reactListeners$"+El,S4="__reactHandles$"+El;function Ja(t){var e=t[Lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[Lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$E(t);t!==null;){if(n=t[Lr])return n;t=$E(t)}return e}t=n,n=t.parentNode}return null}function vf(t){return t=t[Lr]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function pm(t){return t[gc]||null}var qv=[],us=-1;function Ia(t){return{current:t}}function ct(t){0>us||(t.current=qv[us],qv[us]=null,us--)}function it(t,e){us++,qv[us]=t.current,t.current=e}var ba={},pn=Ia(ba),Cn=Ia(!1),mo=ba;function js(t,e){var n=t.type.contextTypes;if(!n)return ba;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function Sh(){ct(Cn),ct(pn)}function LE(t,e,n){if(pn.current!==ba)throw Error(re(168));it(pn,e),it(Cn,n)}function tk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,lL(t)||"Unknown",i));return mt({},n,r)}function Th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ba,mo=pn.current,it(pn,t),it(Cn,Cn.current),!0}function VE(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=tk(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,ct(Cn),ct(pn),it(pn,t)):ct(Cn),it(Cn,n)}var oi=null,mm=!1,wy=!1;function nk(t){oi===null?oi=[t]:oi.push(t)}function T4(t){mm=!0,nk(t)}function Ca(){if(!wy&&oi!==null){wy=!0;var t=0,e=Ge;try{var n=oi;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,mm=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),PC(Eb,Ca),i}finally{Ge=e,wy=!1}}return null}var cs=[],fs=0,Ah=null,Ph=0,Qn=[],Jn=0,go=null,si=1,li="";function qa(t,e){cs[fs++]=Ph,cs[fs++]=Ah,Ah=t,Ph=e}function rk(t,e,n){Qn[Jn++]=si,Qn[Jn++]=li,Qn[Jn++]=go,go=t;var r=si;t=li;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var a=32-Pr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,si=1<<32-Pr(e)+i|n<<i|r,li=a+t}else si=1<<a|n<<i|r,li=t}function Nb(t){t.return!==null&&(qa(t,1),rk(t,1,0))}function jb(t){for(;t===Ah;)Ah=cs[--fs],cs[fs]=null,Ph=cs[--fs],cs[fs]=null;for(;t===go;)go=Qn[--Jn],Qn[Jn]=null,li=Qn[--Jn],Qn[Jn]=null,si=Qn[--Jn],Qn[Jn]=null}var zn=null,Un=null,ft=!1,xr=null;function ik(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Un=sa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:si,overflow:li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Un=null,!0):!1;default:return!1}}function Hv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gv(t){if(ft){var e=Un;if(e){var n=e;if(!FE(t,e)){if(Hv(t))throw Error(re(418));e=sa(n.nextSibling);var r=zn;e&&FE(t,e)?ik(r,n):(t.flags=t.flags&-4097|2,ft=!1,zn=t)}}else{if(Hv(t))throw Error(re(418));t.flags=t.flags&-4097|2,ft=!1,zn=t}}}function UE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function md(t){if(t!==zn)return!1;if(!ft)return UE(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bv(t.type,t.memoizedProps)),e&&(e=Un)){if(Hv(t))throw ak(),Error(re(418));for(;e;)ik(t,e),e=sa(e.nextSibling)}if(UE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Un=sa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=zn?sa(t.stateNode.nextSibling):null;return!0}function ak(){for(var t=Un;t;)t=sa(t.nextSibling)}function Ds(){Un=zn=null,ft=!1}function Db(t){xr===null?xr=[t]:xr.push(t)}var A4=Ni.ReactCurrentBatchConfig;function uu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BE(t){var e=t._init;return e(t._payload)}function ok(t){function e(b,y){if(t){var E=b.deletions;E===null?(b.deletions=[y],b.flags|=16):E.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=fa(b,y),b.index=0,b.sibling=null,b}function a(b,y,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<y?(b.flags|=2,y):E):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,y,E,N){return y===null||y.tag!==6?(y=Ay(E,b.mode,N),y.return=b,y):(y=i(y,E),y.return=b,y)}function l(b,y,E,N){var A=E.type;return A===is?c(b,y,E.props.children,N,E.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Wi&&BE(A)===y.type)?(N=i(y,E.props),N.ref=uu(b,y,E),N.return=b,N):(N=nh(E.type,E.key,E.props,null,b.mode,N),N.ref=uu(b,y,E),N.return=b,N)}function u(b,y,E,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Py(E,b.mode,N),y.return=b,y):(y=i(y,E.children||[]),y.return=b,y)}function c(b,y,E,N,A){return y===null||y.tag!==7?(y=so(E,b.mode,N,A),y.return=b,y):(y=i(y,E),y.return=b,y)}function d(b,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ay(""+y,b.mode,E),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ad:return E=nh(y.type,y.key,y.props,null,b.mode,E),E.ref=uu(b,null,y),E.return=b,E;case rs:return y=Py(y,b.mode,E),y.return=b,y;case Wi:var N=y._init;return d(b,N(y._payload),E)}if(Pu(y)||iu(y))return y=so(y,b.mode,E,null),y.return=b,y;gd(b,y)}return null}function p(b,y,E,N){var A=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return A!==null?null:s(b,y,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ad:return E.key===A?l(b,y,E,N):null;case rs:return E.key===A?u(b,y,E,N):null;case Wi:return A=E._init,p(b,y,A(E._payload),N)}if(Pu(E)||iu(E))return A!==null?null:c(b,y,E,N,null);gd(b,E)}return null}function m(b,y,E,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(E)||null,s(y,b,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ad:return b=b.get(N.key===null?E:N.key)||null,l(y,b,N,A);case rs:return b=b.get(N.key===null?E:N.key)||null,u(y,b,N,A);case Wi:var P=N._init;return m(b,y,E,P(N._payload),A)}if(Pu(N)||iu(N))return b=b.get(E)||null,c(y,b,N,A,null);gd(y,N)}return null}function g(b,y,E,N){for(var A=null,P=null,S=y,v=y=0,T=null;S!==null&&v<E.length;v++){S.index>v?(T=S,S=null):T=S.sibling;var O=p(b,S,E[v],N);if(O===null){S===null&&(S=T);break}t&&S&&O.alternate===null&&e(b,S),y=a(O,y,v),P===null?A=O:P.sibling=O,P=O,S=T}if(v===E.length)return n(b,S),ft&&qa(b,v),A;if(S===null){for(;v<E.length;v++)S=d(b,E[v],N),S!==null&&(y=a(S,y,v),P===null?A=S:P.sibling=S,P=S);return ft&&qa(b,v),A}for(S=r(b,S);v<E.length;v++)T=m(S,b,v,E[v],N),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?v:T.key),y=a(T,y,v),P===null?A=T:P.sibling=T,P=T);return t&&S.forEach(function(k){return e(b,k)}),ft&&qa(b,v),A}function w(b,y,E,N){var A=iu(E);if(typeof A!="function")throw Error(re(150));if(E=A.call(E),E==null)throw Error(re(151));for(var P=A=null,S=y,v=y=0,T=null,O=E.next();S!==null&&!O.done;v++,O=E.next()){S.index>v?(T=S,S=null):T=S.sibling;var k=p(b,S,O.value,N);if(k===null){S===null&&(S=T);break}t&&S&&k.alternate===null&&e(b,S),y=a(k,y,v),P===null?A=k:P.sibling=k,P=k,S=T}if(O.done)return n(b,S),ft&&qa(b,v),A;if(S===null){for(;!O.done;v++,O=E.next())O=d(b,O.value,N),O!==null&&(y=a(O,y,v),P===null?A=O:P.sibling=O,P=O);return ft&&qa(b,v),A}for(S=r(b,S);!O.done;v++,O=E.next())O=m(S,b,v,O.value,N),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?v:O.key),y=a(O,y,v),P===null?A=O:P.sibling=O,P=O);return t&&S.forEach(function(j){return e(b,j)}),ft&&qa(b,v),A}function x(b,y,E,N){if(typeof E=="object"&&E!==null&&E.type===is&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ad:e:{for(var A=E.key,P=y;P!==null;){if(P.key===A){if(A=E.type,A===is){if(P.tag===7){n(b,P.sibling),y=i(P,E.props.children),y.return=b,b=y;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Wi&&BE(A)===P.type){n(b,P.sibling),y=i(P,E.props),y.ref=uu(b,P,E),y.return=b,b=y;break e}n(b,P);break}else e(b,P);P=P.sibling}E.type===is?(y=so(E.props.children,b.mode,N,E.key),y.return=b,b=y):(N=nh(E.type,E.key,E.props,null,b.mode,N),N.ref=uu(b,y,E),N.return=b,b=N)}return o(b);case rs:e:{for(P=E.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(b,y.sibling),y=i(y,E.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=Py(E,b.mode,N),y.return=b,b=y}return o(b);case Wi:return P=E._init,x(b,y,P(E._payload),N)}if(Pu(E))return g(b,y,E,N);if(iu(E))return w(b,y,E,N);gd(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,E),y.return=b,b=y):(n(b,y),y=Ay(E,b.mode,N),y.return=b,b=y),o(b)):n(b,y)}return x}var Rs=ok(!0),sk=ok(!1),Oh=Ia(null),Ih=null,ds=null,Rb=null;function Mb(){Rb=ds=Ih=null}function $b(t){var e=Oh.current;ct(Oh),t._currentValue=e}function Kv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Es(t,e){Ih=t,Rb=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(Rb!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(Ih===null)throw Error(re(308));ds=t,Ih.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var Za=null;function Lb(t){Za===null?Za=[t]:Za.push(t)}function lk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lb(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function Vb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function la(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,Lb(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function Xd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sb(t,n)}}function zE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ch(t,e,n,r){var i=t.updateQueue;qi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,w=s;switch(p=e,m=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=mt({},d,p);break e;case 2:qi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);vo|=o,t.lanes=o,t.memoizedState=d}}function WE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var wf={},Br=Ia(wf),yc=Ia(wf),vc=Ia(wf);function eo(t){if(t===wf)throw Error(re(174));return t}function Fb(t,e){switch(it(vc,e),it(yc,t),it(Br,wf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ov(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ov(e,t)}ct(Br),it(Br,e)}function Ms(){ct(Br),ct(yc),ct(vc)}function ck(t){eo(vc.current);var e=eo(Br.current),n=Ov(e,t.type);e!==n&&(it(yc,t),it(Br,n))}function Ub(t){yc.current===t&&(ct(Br),ct(yc))}var ht=Ia(0);function kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function Bb(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var Qd=Ni.ReactCurrentDispatcher,_y=Ni.ReactCurrentBatchConfig,yo=0,pt=null,Rt=null,Bt=null,Nh=!1,Bu=!1,wc=0,P4=0;function rn(){throw Error(re(321))}function zb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function Wb(t,e,n,r,i,a){if(yo=a,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qd.current=t===null||t.memoizedState===null?k4:N4,t=n(r,i),Bu){a=0;do{if(Bu=!1,wc=0,25<=a)throw Error(re(301));a+=1,Bt=Rt=null,e.updateQueue=null,Qd.current=j4,t=n(r,i)}while(Bu)}if(Qd.current=jh,e=Rt!==null&&Rt.next!==null,yo=0,Bt=Rt=pt=null,Nh=!1,e)throw Error(re(300));return t}function qb(){var t=wc!==0;return wc=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?pt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function ur(){if(Rt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Bt===null?pt.memoizedState:Bt.next;if(e!==null)Bt=e,Rt=t;else{if(t===null)throw Error(re(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Bt===null?pt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function bc(t,e){return typeof e=="function"?e(t):e}function xy(t){var e=ur(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,pt.lanes|=c,vo|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Cr(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,pt.lanes|=a,vo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ey(t){var e=ur(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Cr(a,e.memoizedState)||(On=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function fk(){}function dk(t,e){var n=pt,r=ur(),i=e(),a=!Cr(r.memoizedState,i);if(a&&(r.memoizedState=i,On=!0),r=r.queue,Hb(mk.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,_c(9,pk.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(re(349));yo&30||hk(n,e,i)}return i}function hk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pk(t,e,n,r){e.value=n,e.getSnapshot=r,gk(e)&&yk(t)}function mk(t,e,n){return n(function(){gk(e)&&yk(t)})}function gk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function yk(t){var e=xi(t,1);e!==null&&Or(e,t,1,-1)}function qE(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:t},e.queue=t,t=t.dispatch=C4.bind(null,pt,t),[e.memoizedState,t]}function _c(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vk(){return ur().memoizedState}function Jd(t,e,n,r){var i=Mr();pt.flags|=t,i.memoizedState=_c(1|e,n,void 0,r===void 0?null:r)}function gm(t,e,n,r){var i=ur();r=r===void 0?null:r;var a=void 0;if(Rt!==null){var o=Rt.memoizedState;if(a=o.destroy,r!==null&&zb(r,o.deps)){i.memoizedState=_c(e,n,a,r);return}}pt.flags|=t,i.memoizedState=_c(1|e,n,a,r)}function HE(t,e){return Jd(8390656,8,t,e)}function Hb(t,e){return gm(2048,8,t,e)}function wk(t,e){return gm(4,2,t,e)}function bk(t,e){return gm(4,4,t,e)}function _k(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xk(t,e,n){return n=n!=null?n.concat([t]):null,gm(4,4,_k.bind(null,e,t),n)}function Gb(){}function Ek(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sk(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Tk(t,e,n){return yo&21?(Cr(n,e)||(n=CC(),pt.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function O4(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=_y.transition;_y.transition={};try{t(!1),e()}finally{Ge=n,_y.transition=r}}function Ak(){return ur().memoizedState}function I4(t,e,n){var r=ca(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pk(t))Ok(e,n);else if(n=lk(t,e,n,r),n!==null){var i=_n();Or(n,t,r,i),Ik(n,e,r)}}function C4(t,e,n){var r=ca(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pk(t))Ok(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Cr(s,o)){var l=e.interleaved;l===null?(i.next=i,Lb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lk(t,e,i,r),n!==null&&(i=_n(),Or(n,t,r,i),Ik(n,e,r))}}function Pk(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function Ok(t,e){Bu=Nh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ik(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sb(t,n)}}var jh={readContext:lr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},k4={readContext:lr,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:HE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jd(4194308,4,_k.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jd(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=I4.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:qE,useDebugValue:Gb,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=qE(!1),e=t[0];return t=O4.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Mr();if(ft){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),zt===null)throw Error(re(349));yo&30||hk(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,HE(mk.bind(null,r,a,t),[t]),r.flags|=2048,_c(9,pk.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Mr(),e=zt.identifierPrefix;if(ft){var n=li,r=si;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N4={readContext:lr,useCallback:Ek,useContext:lr,useEffect:Hb,useImperativeHandle:xk,useInsertionEffect:wk,useLayoutEffect:bk,useMemo:Sk,useReducer:xy,useRef:vk,useState:function(){return xy(bc)},useDebugValue:Gb,useDeferredValue:function(t){var e=ur();return Tk(e,Rt.memoizedState,t)},useTransition:function(){var t=xy(bc)[0],e=ur().memoizedState;return[t,e]},useMutableSource:fk,useSyncExternalStore:dk,useId:Ak,unstable_isNewReconciler:!1},j4={readContext:lr,useCallback:Ek,useContext:lr,useEffect:Hb,useImperativeHandle:xk,useInsertionEffect:wk,useLayoutEffect:bk,useMemo:Sk,useReducer:Ey,useRef:vk,useState:function(){return Ey(bc)},useDebugValue:Gb,useDeferredValue:function(t){var e=ur();return Rt===null?e.memoizedState=t:Tk(e,Rt.memoizedState,t)},useTransition:function(){var t=Ey(bc)[0],e=ur().memoizedState;return[t,e]},useMutableSource:fk,useSyncExternalStore:dk,useId:Ak,unstable_isNewReconciler:!1};function yr(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ym={isMounted:function(t){return(t=t._reactInternals)?Do(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=ca(t),a=pi(r,i);a.payload=e,n!=null&&(a.callback=n),e=la(t,a,i),e!==null&&(Or(e,t,i,r),Xd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=ca(t),a=pi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=la(t,a,i),e!==null&&(Or(e,t,i,r),Xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=ca(t),i=pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=la(t,i,r),e!==null&&(Or(e,t,r,n),Xd(e,t,r))}};function GE(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!hc(n,r)||!hc(i,a):!0}function Ck(t,e,n){var r=!1,i=ba,a=e.contextType;return typeof a=="object"&&a!==null?a=lr(a):(i=kn(e)?mo:pn.current,r=e.contextTypes,a=(r=r!=null)?js(t,i):ba),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ym,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function KE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ym.enqueueReplaceState(e,e.state,null)}function Xv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vb(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=lr(a):(a=kn(e)?mo:pn.current,i.context=js(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Yv(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ym.enqueueReplaceState(i,i.state,null),Ch(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e){try{var n="",r=e;do n+=sL(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Sy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var D4=typeof WeakMap=="function"?WeakMap:Map;function kk(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rh||(Rh=!0,s0=r),Qv(t,e)},n}function Nk(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Qv(t,e),typeof r!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function YE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new D4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=K4.bind(null,t,e,n),e.then(t,t))}function XE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,la(n,e,1))),n.lanes|=1),t)}var R4=Ni.ReactCurrentOwner,On=!1;function wn(t,e,n,r){e.child=t===null?sk(e,null,n,r):Rs(e,t.child,n,r)}function JE(t,e,n,r,i){n=n.render;var a=e.ref;return Es(e,i),r=Wb(t,e,n,r,a,i),n=qb(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ft&&n&&Nb(e),e.flags|=1,wn(t,e,r,i),e.child)}function ZE(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!t_(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,jk(t,e,a,r,i)):(t=nh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:hc,n(o,r)&&t.ref===e.ref)return Ei(t,e,i)}return e.flags|=1,t=fa(a,r),t.ref=e.ref,t.return=e,e.child=t}function jk(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(hc(a,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Ei(t,e,i)}return Jv(t,e,n,r,i)}function Dk(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ps,Ln),Ln|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(ps,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,it(ps,Ln),Ln|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,it(ps,Ln),Ln|=r;return wn(t,e,i,n),e.child}function Rk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jv(t,e,n,r,i){var a=kn(n)?mo:pn.current;return a=js(e,a),Es(e,i),n=Wb(t,e,n,r,a,i),r=qb(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ft&&r&&Nb(e),e.flags|=1,wn(t,e,n,i),e.child)}function eS(t,e,n,r,i){if(kn(n)){var a=!0;Th(e)}else a=!1;if(Es(e,i),e.stateNode===null)Zd(t,e),Ck(e,n,r),Xv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=kn(n)?mo:pn.current,u=js(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&KE(e,o,r,u),qi=!1;var p=e.memoizedState;o.state=p,Ch(e,r,o,i),l=e.memoizedState,s!==r||p!==l||Cn.current||qi?(typeof c=="function"&&(Yv(e,n,c,r),l=e.memoizedState),(s=qi||GE(e,n,s,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uk(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:yr(e.type,s),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=kn(n)?mo:pn.current,l=js(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||p!==l)&&KE(e,o,r,l),qi=!1,p=e.memoizedState,o.state=p,Ch(e,r,o,i);var g=e.memoizedState;s!==d||p!==g||Cn.current||qi?(typeof m=="function"&&(Yv(e,n,m,r),g=e.memoizedState),(u=qi||GE(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Zv(t,e,n,r,a,i)}function Zv(t,e,n,r,i,a){Rk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&VE(e,n,!1),Ei(t,e,a);r=e.stateNode,R4.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rs(e,t.child,null,a),e.child=Rs(e,null,s,a)):wn(t,e,s,a),e.memoizedState=r.state,i&&VE(e,n,!0),e.child}function Mk(t){var e=t.stateNode;e.pendingContext?LE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LE(t,e.context,!1),Fb(t,e.containerInfo)}function tS(t,e,n,r,i){return Ds(),Db(i),e.flags|=256,wn(t,e,n,r),e.child}var e0={dehydrated:null,treeContext:null,retryLane:0};function t0(t){return{baseLanes:t,cachePool:null,transitions:null}}function $k(t,e,n){var r=e.pendingProps,i=ht.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(ht,i&1),t===null)return Gv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=bm(o,r,0,null),t=so(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=t0(n),e.memoizedState=e0,t):Kb(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return M4(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=fa(s,a):(a=so(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?t0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=e0,r}return a=t.child,t=a.sibling,r=fa(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kb(t,e){return e=bm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yd(t,e,n,r){return r!==null&&Db(r),Rs(e,t.child,null,n),t=Kb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M4(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Sy(Error(re(422))),yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=bm({mode:"visible",children:r.children},i,0,null),a=so(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Rs(e,t.child,null,o),e.child.memoizedState=t0(o),e.memoizedState=e0,a);if(!(e.mode&1))return yd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(re(419)),r=Sy(a,r,void 0),yd(t,e,o,r)}if(s=(o&t.childLanes)!==0,On||s){if(r=zt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xi(t,i),Or(r,t,i,-1))}return e_(),r=Sy(Error(re(421))),yd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y4.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Un=sa(i.nextSibling),zn=e,ft=!0,xr=null,t!==null&&(Qn[Jn++]=si,Qn[Jn++]=li,Qn[Jn++]=go,si=t.id,li=t.overflow,go=e),e=Kb(e,r.children),e.flags|=4096,e)}function nS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kv(t.return,e,n)}function Ty(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Lk(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(wn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nS(t,n,e);else if(t.tag===19)nS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ty(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ty(e,!0,n,null,a);break;case"together":Ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=fa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $4(t,e,n){switch(e.tag){case 3:Mk(e),Ds();break;case 5:ck(e);break;case 1:kn(e.type)&&Th(e);break;case 4:Fb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;it(Oh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?$k(t,e,n):(it(ht,ht.current&1),t=Ei(t,e,n),t!==null?t.sibling:null);it(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Lk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,Dk(t,e,n)}return Ei(t,e,n)}var Vk,n0,Fk,Uk;Vk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};n0=function(){};Fk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,eo(Br.current);var a=null;switch(n){case"input":i=Sv(t,i),r=Sv(t,r),a=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),a=[];break;case"textarea":i=Pv(t,i),r=Pv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Eh)}Iv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Uk=function(t,e,n,r){n!==r&&(e.flags|=4)};function cu(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function L4(t,e,n){var r=e.pendingProps;switch(jb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return kn(e.type)&&Sh(),an(e),null;case 3:return r=e.stateNode,Ms(),ct(Cn),ct(pn),Bb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(c0(xr),xr=null))),n0(t,e),an(e),null;case 5:Ub(e);var i=eo(vc.current);if(n=e.type,t!==null&&e.stateNode!=null)Fk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return an(e),null}if(t=eo(Br.current),md(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Lr]=e,r[gc]=a,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(i=0;i<Iu.length;i++)ot(Iu[i],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":fE(r,a),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ot("invalid",r);break;case"textarea":hE(r,a),ot("invalid",r)}Iv(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&pd(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&pd(r.textContent,s,t),i=["children",""+s]):oc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":od(r),dE(r,a,!0);break;case"textarea":od(r),pE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Eh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Lr]=e,t[gc]=r,Vk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cv(n,r),n){case"dialog":ot("cancel",t),ot("close",t),i=r;break;case"iframe":case"object":case"embed":ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<Iu.length;i++)ot(Iu[i],t);i=r;break;case"source":ot("error",t),i=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=r;break;case"details":ot("toggle",t),i=r;break;case"input":fE(t,r),i=Sv(t,r),ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),ot("invalid",t);break;case"textarea":hE(t,r),i=Pv(t,r),ot("invalid",t);break;default:i=r}Iv(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?vC(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gC(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sc(t,l):typeof l=="number"&&sc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ot("scroll",t):l!=null&&vb(t,a,l,o))}switch(n){case"input":od(t),dE(t,r,!1);break;case"textarea":od(t),pE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wa(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ws(t,!!r.multiple,a,!1):r.defaultValue!=null&&ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)Uk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=eo(vc.current),eo(Br.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lr]=e,(a=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lr]=e,e.stateNode=r}return an(e),null;case 13:if(ct(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Un!==null&&e.mode&1&&!(e.flags&128))ak(),Ds(),e.flags|=98560,a=!1;else if(a=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(re(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[Lr]=e}else Ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),a=!1}else xr!==null&&(c0(xr),xr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Mt===0&&(Mt=3):e_())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Ms(),n0(t,e),t===null&&pc(e.stateNode.containerInfo),an(e),null;case 10:return $b(e.type._context),an(e),null;case 17:return kn(e.type)&&Sh(),an(e),null;case 19:if(ct(ht),a=e.memoizedState,a===null)return an(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)cu(a,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kh(t),o!==null){for(e.flags|=128,cu(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(ht,ht.current&1|2),e.child}t=t.sibling}a.tail!==null&&xt()>Ls&&(e.flags|=128,r=!0,cu(a,!1),e.lanes=4194304)}else{if(!r)if(t=kh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ft)return an(e),null}else 2*xt()-a.renderingStartTime>Ls&&n!==1073741824&&(e.flags|=128,r=!0,cu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=xt(),e.sibling=null,n=ht.current,it(ht,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return Zb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function V4(t,e){switch(jb(e),e.tag){case 1:return kn(e.type)&&Sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ms(),ct(Cn),ct(pn),Bb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ub(e),null;case 13:if(ct(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(ht),null;case 4:return Ms(),null;case 10:return $b(e.type._context),null;case 22:case 23:return Zb(),null;case 24:return null;default:return null}}var vd=!1,un=!1,F4=typeof WeakSet=="function"?WeakSet:Set,de=null;function hs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function r0(t,e,n){try{n()}catch(r){vt(t,e,r)}}var rS=!1;function U4(t,e){if(Fv=bh,t=HC(),kb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++u===i&&(s=o),p===a&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uv={focusedElem:t,selectionRange:n},bh=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,x=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:yr(e.type,w),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(N){vt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return g=rS,rS=!1,g}function zu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&r0(e,n,a)}i=i.next}while(i!==r)}}function vm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function i0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bk(t){var e=t.alternate;e!==null&&(t.alternate=null,Bk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lr],delete e[gc],delete e[Wv],delete e[E4],delete e[S4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zk(t){return t.tag===5||t.tag===3||t.tag===4}function iS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Eh));else if(r!==4&&(t=t.child,t!==null))for(a0(t,e,n),t=t.sibling;t!==null;)a0(t,e,n),t=t.sibling}function o0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(o0(t,e,n),t=t.sibling;t!==null;)o0(t,e,n),t=t.sibling}var Gt=null,vr=!1;function Ui(t,e,n){for(n=n.child;n!==null;)Wk(t,e,n),n=n.sibling}function Wk(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(cm,n)}catch{}switch(n.tag){case 5:un||hs(n,e);case 6:var r=Gt,i=vr;Gt=null,Ui(t,e,n),Gt=r,vr=i,Gt!==null&&(vr?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(vr?(t=Gt,n=n.stateNode,t.nodeType===8?vy(t.parentNode,n):t.nodeType===1&&vy(t,n),fc(t)):vy(Gt,n.stateNode));break;case 4:r=Gt,i=vr,Gt=n.stateNode.containerInfo,vr=!0,Ui(t,e,n),Gt=r,vr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&r0(n,e,o),i=i.next}while(i!==r)}Ui(t,e,n);break;case 1:if(!un&&(hs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){vt(n,e,s)}Ui(t,e,n);break;case 21:Ui(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Ui(t,e,n),un=r):Ui(t,e,n);break;default:Ui(t,e,n)}}function aS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F4),e.forEach(function(r){var i=X4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Gt=s.stateNode,vr=!1;break e;case 3:Gt=s.stateNode.containerInfo,vr=!0;break e;case 4:Gt=s.stateNode.containerInfo,vr=!0;break e}s=s.return}if(Gt===null)throw Error(re(160));Wk(a,o,i),Gt=null,vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qk(e,t),e=e.sibling}function qk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),Rr(t),r&4){try{zu(3,t,t.return),vm(3,t)}catch(w){vt(t,t.return,w)}try{zu(5,t,t.return)}catch(w){vt(t,t.return,w)}}break;case 1:mr(e,t),Rr(t),r&512&&n!==null&&hs(n,n.return);break;case 5:if(mr(e,t),Rr(t),r&512&&n!==null&&hs(n,n.return),t.flags&32){var i=t.stateNode;try{sc(i,"")}catch(w){vt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&hC(i,a),Cv(s,o);var u=Cv(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?vC(i,d):c==="dangerouslySetInnerHTML"?gC(i,d):c==="children"?sc(i,d):vb(i,c,d,u)}switch(s){case"input":Tv(i,a);break;case"textarea":pC(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ws(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?ws(i,!!a.multiple,a.defaultValue,!0):ws(i,!!a.multiple,a.multiple?[]:"",!1))}i[gc]=a}catch(w){vt(t,t.return,w)}}break;case 6:if(mr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(w){vt(t,t.return,w)}}break;case 3:if(mr(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fc(e.containerInfo)}catch(w){vt(t,t.return,w)}break;case 4:mr(e,t),Rr(t);break;case 13:mr(e,t),Rr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Qb=xt())),r&4&&aS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(un=(u=un)||c,mr(e,t),un=u):mr(e,t),Rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(de=t,c=t.child;c!==null;){for(d=de=c;de!==null;){switch(p=de,m=p.child,p.tag){case 0:case 11:case 14:case 15:zu(4,p,p.return);break;case 1:hs(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){vt(r,n,w)}}break;case 5:hs(p,p.return);break;case 22:if(p.memoizedState!==null){sS(d);continue}}m!==null?(m.return=p,de=m):sS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=yC("display",o))}catch(w){vt(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){vt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mr(e,t),Rr(t),r&4&&aS(t);break;case 21:break;default:mr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zk(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sc(i,""),r.flags&=-33);var a=iS(t);o0(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=iS(t);a0(t,s,o);break;default:throw Error(re(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B4(t,e,n){de=t,Hk(t)}function Hk(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vd;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||un;s=vd;var u=un;if(vd=o,(un=l)&&!u)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?lS(i):l!==null?(l.return=o,de=l):lS(i);for(;a!==null;)de=a,Hk(a),a=a.sibling;de=i,vd=s,un=u}oS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,de=a):oS(t)}}function oS(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||vm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&WE(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}WE(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&fc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}un||e.flags&512&&i0(e)}catch(p){vt(e,e.return,p)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function sS(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function lS(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vm(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var a=e.return;try{i0(e)}catch(l){vt(e,a,l)}break;case 5:var o=e.return;try{i0(e)}catch(l){vt(e,o,l)}}}catch(l){vt(e,e.return,l)}if(e===t){de=null;break}var s=e.sibling;if(s!==null){s.return=e.return,de=s;break}de=e.return}}var z4=Math.ceil,Dh=Ni.ReactCurrentDispatcher,Yb=Ni.ReactCurrentOwner,ir=Ni.ReactCurrentBatchConfig,$e=0,zt=null,Ot=null,Qt=0,Ln=0,ps=Ia(0),Mt=0,xc=null,vo=0,wm=0,Xb=0,Wu=null,An=null,Qb=0,Ls=1/0,ai=null,Rh=!1,s0=null,ua=null,wd=!1,ta=null,Mh=0,qu=0,l0=null,eh=-1,th=0;function _n(){return $e&6?xt():eh!==-1?eh:eh=xt()}function ca(t){return t.mode&1?$e&2&&Qt!==0?Qt&-Qt:A4.transition!==null?(th===0&&(th=CC()),th):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:$C(t.type)),t):1}function Or(t,e,n,r){if(50<qu)throw qu=0,l0=null,Error(re(185));gf(t,n,r),(!($e&2)||t!==zt)&&(t===zt&&(!($e&2)&&(wm|=n),Mt===4&&Ki(t,Qt)),Nn(t,r),n===1&&$e===0&&!(e.mode&1)&&(Ls=xt()+500,mm&&Ca()))}function Nn(t,e){var n=t.callbackNode;AL(t,e);var r=wh(t,t===zt?Qt:0);if(r===0)n!==null&&yE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yE(n),e===1)t.tag===0?T4(uS.bind(null,t)):nk(uS.bind(null,t)),_4(function(){!($e&6)&&Ca()}),n=null;else{switch(kC(r)){case 1:n=Eb;break;case 4:n=OC;break;case 16:n=vh;break;case 536870912:n=IC;break;default:n=vh}n=eN(n,Gk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gk(t,e){if(eh=-1,th=0,$e&6)throw Error(re(327));var n=t.callbackNode;if(Ss()&&t.callbackNode!==n)return null;var r=wh(t,t===zt?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$h(t,r);else{e=r;var i=$e;$e|=2;var a=Yk();(zt!==t||Qt!==e)&&(ai=null,Ls=xt()+500,oo(t,e));do try{H4();break}catch(s){Kk(t,s)}while(!0);Mb(),Dh.current=a,$e=i,Ot!==null?e=0:(zt=null,Qt=0,e=Mt)}if(e!==0){if(e===2&&(i=Rv(t),i!==0&&(r=i,e=u0(t,i))),e===1)throw n=xc,oo(t,0),Ki(t,r),Nn(t,xt()),n;if(e===6)Ki(t,r);else{if(i=t.current.alternate,!(r&30)&&!W4(i)&&(e=$h(t,r),e===2&&(a=Rv(t),a!==0&&(r=a,e=u0(t,a))),e===1))throw n=xc,oo(t,0),Ki(t,r),Nn(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Ha(t,An,ai);break;case 3:if(Ki(t,r),(r&130023424)===r&&(e=Qb+500-xt(),10<e)){if(wh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zv(Ha.bind(null,t,An,ai),e);break}Ha(t,An,ai);break;case 4:if(Ki(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*z4(r/1960))-r,10<r){t.timeoutHandle=zv(Ha.bind(null,t,An,ai),r);break}Ha(t,An,ai);break;case 5:Ha(t,An,ai);break;default:throw Error(re(329))}}}return Nn(t,xt()),t.callbackNode===n?Gk.bind(null,t):null}function u0(t,e){var n=Wu;return t.current.memoizedState.isDehydrated&&(oo(t,e).flags|=256),t=$h(t,e),t!==2&&(e=An,An=n,e!==null&&c0(e)),t}function c0(t){An===null?An=t:An.push.apply(An,t)}function W4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Cr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e){for(e&=~Xb,e&=~wm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function uS(t){if($e&6)throw Error(re(327));Ss();var e=wh(t,0);if(!(e&1))return Nn(t,xt()),null;var n=$h(t,e);if(t.tag!==0&&n===2){var r=Rv(t);r!==0&&(e=r,n=u0(t,r))}if(n===1)throw n=xc,oo(t,0),Ki(t,e),Nn(t,xt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ha(t,An,ai),Nn(t,xt()),null}function Jb(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(Ls=xt()+500,mm&&Ca())}}function wo(t){ta!==null&&ta.tag===0&&!($e&6)&&Ss();var e=$e;$e|=1;var n=ir.transition,r=Ge;try{if(ir.transition=null,Ge=1,t)return t()}finally{Ge=r,ir.transition=n,$e=e,!($e&6)&&Ca()}}function Zb(){Ln=ps.current,ct(ps)}function oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,b4(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(jb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sh();break;case 3:Ms(),ct(Cn),ct(pn),Bb();break;case 5:Ub(r);break;case 4:Ms();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:$b(r.type._context);break;case 22:case 23:Zb()}n=n.return}if(zt=t,Ot=t=fa(t.current,null),Qt=Ln=e,Mt=0,xc=null,Xb=wm=vo=0,An=Wu=null,Za!==null){for(e=0;e<Za.length;e++)if(n=Za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Za=null}return t}function Kk(t,e){do{var n=Ot;try{if(Mb(),Qd.current=jh,Nh){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nh=!1}if(yo=0,Bt=Rt=pt=null,Bu=!1,wc=0,Yb.current=null,n===null||n.return===null){Mt=1,xc=e,Ot=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=XE(o);if(m!==null){m.flags&=-257,QE(m,o,s,a,e),m.mode&1&&YE(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){YE(a,u,e),e_();break e}l=Error(re(426))}}else if(ft&&s.mode&1){var x=XE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),QE(x,o,s,a,e),Db($s(l,s));break e}}a=l=$s(l,s),Mt!==4&&(Mt=2),Wu===null?Wu=[a]:Wu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=kk(a,l,e);zE(a,b);break e;case 1:s=l;var y=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ua===null||!ua.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=Nk(a,s,e);zE(a,N);break e}}a=a.return}while(a!==null)}Qk(n)}catch(A){e=A,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function Yk(){var t=Dh.current;return Dh.current=jh,t===null?jh:t}function e_(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(vo&268435455)&&!(wm&268435455)||Ki(zt,Qt)}function $h(t,e){var n=$e;$e|=2;var r=Yk();(zt!==t||Qt!==e)&&(ai=null,oo(t,e));do try{q4();break}catch(i){Kk(t,i)}while(!0);if(Mb(),$e=n,Dh.current=r,Ot!==null)throw Error(re(261));return zt=null,Qt=0,Mt}function q4(){for(;Ot!==null;)Xk(Ot)}function H4(){for(;Ot!==null&&!yL();)Xk(Ot)}function Xk(t){var e=Zk(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?Qk(t):Ot=e,Yb.current=null}function Qk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=V4(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,Ot=null;return}}else if(n=L4(n,e,Ln),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Mt===0&&(Mt=5)}function Ha(t,e,n){var r=Ge,i=ir.transition;try{ir.transition=null,Ge=1,G4(t,e,n,r)}finally{ir.transition=i,Ge=r}return null}function G4(t,e,n,r){do Ss();while(ta!==null);if($e&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(PL(t,a),t===zt&&(Ot=zt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wd||(wd=!0,eN(vh,function(){return Ss(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ir.transition,ir.transition=null;var o=Ge;Ge=1;var s=$e;$e|=4,Yb.current=null,U4(t,n),qk(n,t),h4(Uv),bh=!!Fv,Uv=Fv=null,t.current=n,B4(n),vL(),$e=s,Ge=o,ir.transition=a}else t.current=n;if(wd&&(wd=!1,ta=t,Mh=i),a=t.pendingLanes,a===0&&(ua=null),_L(n.stateNode),Nn(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rh)throw Rh=!1,t=s0,s0=null,t;return Mh&1&&t.tag!==0&&Ss(),a=t.pendingLanes,a&1?t===l0?qu++:(qu=0,l0=t):qu=0,Ca(),null}function Ss(){if(ta!==null){var t=kC(Mh),e=ir.transition,n=Ge;try{if(ir.transition=null,Ge=16>t?16:t,ta===null)var r=!1;else{if(t=ta,ta=null,Mh=0,$e&6)throw Error(re(331));var i=$e;for($e|=4,de=t.current;de!==null;){var a=de,o=a.child;if(de.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:zu(8,c,a)}var d=c.child;if(d!==null)d.return=c,de=d;else for(;de!==null;){c=de;var p=c.sibling,m=c.return;if(Bk(c),c===u){de=null;break}if(p!==null){p.return=m,de=p;break}de=m}}}var g=a.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}de=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,de=o;else e:for(;de!==null;){if(a=de,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zu(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,de=b;break e}de=a.return}}var y=t.current;for(de=y;de!==null;){o=de;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,de=E;else e:for(o=y;de!==null;){if(s=de,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:vm(9,s)}}catch(A){vt(s,s.return,A)}if(s===o){de=null;break e}var N=s.sibling;if(N!==null){N.return=s.return,de=N;break e}de=s.return}}if($e=i,Ca(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(cm,t)}catch{}r=!0}return r}finally{Ge=n,ir.transition=e}}return!1}function cS(t,e,n){e=$s(n,e),e=kk(t,e,1),t=la(t,e,1),e=_n(),t!==null&&(gf(t,1,e),Nn(t,e))}function vt(t,e,n){if(t.tag===3)cS(t,t,n);else for(;e!==null;){if(e.tag===3){cS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ua===null||!ua.has(r))){t=$s(n,t),t=Nk(e,t,1),e=la(e,t,1),t=_n(),e!==null&&(gf(e,1,t),Nn(e,t));break}}e=e.return}}function K4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Qt&n)===n&&(Mt===4||Mt===3&&(Qt&130023424)===Qt&&500>xt()-Qb?oo(t,0):Xb|=n),Nn(t,e)}function Jk(t,e){e===0&&(t.mode&1?(e=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):e=1);var n=_n();t=xi(t,e),t!==null&&(gf(t,e,n),Nn(t,n))}function Y4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jk(t,n)}function X4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),Jk(t,n)}var Zk;Zk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,$4(t,e,n);On=!!(t.flags&131072)}else On=!1,ft&&e.flags&1048576&&rk(e,Ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zd(t,e),t=e.pendingProps;var i=js(e,pn.current);Es(e,n),i=Wb(null,e,r,t,i,n);var a=qb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(a=!0,Th(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vb(e),i.updater=ym,e.stateNode=i,i._reactInternals=e,Xv(e,r,t,n),e=Zv(null,e,r,!0,a,n)):(e.tag=0,ft&&a&&Nb(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=J4(r),t=yr(r,t),i){case 0:e=Jv(null,e,r,t,n);break e;case 1:e=eS(null,e,r,t,n);break e;case 11:e=JE(null,e,r,t,n);break e;case 14:e=ZE(null,e,r,yr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),Jv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),eS(t,e,r,i,n);case 3:e:{if(Mk(e),t===null)throw Error(re(387));r=e.pendingProps,a=e.memoizedState,i=a.element,uk(t,e),Ch(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=$s(Error(re(423)),e),e=tS(t,e,r,n,i);break e}else if(r!==i){i=$s(Error(re(424)),e),e=tS(t,e,r,n,i);break e}else for(Un=sa(e.stateNode.containerInfo.firstChild),zn=e,ft=!0,xr=null,n=sk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),r===i){e=Ei(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return ck(e),t===null&&Gv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Bv(r,i)?o=null:a!==null&&Bv(r,a)&&(e.flags|=32),Rk(t,e),wn(t,e,o,n),e.child;case 6:return t===null&&Gv(e),null;case 13:return $k(t,e,n);case 4:return Fb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rs(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),JE(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,it(Oh,r._currentValue),r._currentValue=o,a!==null)if(Cr(a.value,o)){if(a.children===i.children&&!Cn.current){e=Ei(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=pi(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Kv(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(re(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Kv(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Es(e,n),i=lr(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=yr(r,e.pendingProps),i=yr(r.type,i),ZE(t,e,r,i,n);case 15:return jk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),Zd(t,e),e.tag=1,kn(r)?(t=!0,Th(e)):t=!1,Es(e,n),Ck(e,r,i),Xv(e,r,i,n),Zv(null,e,r,!0,t,n);case 19:return Lk(t,e,n);case 22:return Dk(t,e,n)}throw Error(re(156,e.tag))};function eN(t,e){return PC(t,e)}function Q4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new Q4(t,e,n,r)}function t_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J4(t){if(typeof t=="function")return t_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bb)return 11;if(t===_b)return 14}return 2}function fa(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nh(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")t_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case is:return so(n.children,i,a,e);case wb:o=8,i|=8;break;case bv:return t=nr(12,n,e,i|2),t.elementType=bv,t.lanes=a,t;case _v:return t=nr(13,n,e,i),t.elementType=_v,t.lanes=a,t;case xv:return t=nr(19,n,e,i),t.elementType=xv,t.lanes=a,t;case cC:return bm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lC:o=10;break e;case uC:o=9;break e;case bb:o=11;break e;case _b:o=14;break e;case Wi:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=nr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function so(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function bm(t,e,n,r){return t=nr(22,t,r,e),t.elementType=cC,t.lanes=n,t.stateNode={isHidden:!1},t}function Ay(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function Py(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sy(0),this.expirationTimes=sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function n_(t,e,n,r,i,a,o,s,l){return t=new Z4(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=nr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vb(a),t}function eV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tN(t){if(!t)return ba;t=t._reactInternals;e:{if(Do(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(kn(n))return tk(t,n,e)}return e}function nN(t,e,n,r,i,a,o,s,l){return t=n_(n,r,!0,t,i,a,o,s,l),t.context=tN(null),n=t.current,r=_n(),i=ca(n),a=pi(r,i),a.callback=e??null,la(n,a,i),t.current.lanes=i,gf(t,i,r),Nn(t,r),t}function _m(t,e,n,r){var i=e.current,a=_n(),o=ca(i);return n=tN(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=la(i,e,o),t!==null&&(Or(t,i,o,a),Xd(t,i,o)),o}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function r_(t,e){fS(t,e),(t=t.alternate)&&fS(t,e)}function tV(){return null}var rN=typeof reportError=="function"?reportError:function(t){console.error(t)};function i_(t){this._internalRoot=t}xm.prototype.render=i_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));_m(t,e,null,null)};xm.prototype.unmount=i_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){_m(null,t,null,null)}),e[_i]=null}};function xm(t){this._internalRoot=t}xm.prototype.unstable_scheduleHydration=function(t){if(t){var e=DC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&MC(t)}};function a_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dS(){}function nV(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Lh(o);a.call(u)}}var o=nN(e,r,t,0,null,!1,!1,"",dS);return t._reactRootContainer=o,t[_i]=o.current,pc(t.nodeType===8?t.parentNode:t),wo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Lh(l);s.call(u)}}var l=n_(t,0,!1,null,null,!1,!1,"",dS);return t._reactRootContainer=l,t[_i]=l.current,pc(t.nodeType===8?t.parentNode:t),wo(function(){_m(e,l,n,r)}),l}function Sm(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Lh(o);s.call(l)}}_m(e,o,t,i)}else o=nV(n,e,t,i,r);return Lh(o)}NC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ou(e.pendingLanes);n!==0&&(Sb(e,n|1),Nn(e,xt()),!($e&6)&&(Ls=xt()+500,Ca()))}break;case 13:wo(function(){var r=xi(t,1);if(r!==null){var i=_n();Or(r,t,1,i)}}),r_(t,1)}};Tb=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=_n();Or(e,t,134217728,n)}r_(t,134217728)}};jC=function(t){if(t.tag===13){var e=ca(t),n=xi(t,e);if(n!==null){var r=_n();Or(n,t,e,r)}r_(t,e)}};DC=function(){return Ge};RC=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};Nv=function(t,e,n){switch(e){case"input":if(Tv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pm(r);if(!i)throw Error(re(90));dC(r),Tv(r,i)}}}break;case"textarea":pC(t,n);break;case"select":e=n.value,e!=null&&ws(t,!!n.multiple,e,!1)}};_C=Jb;xC=wo;var rV={usingClientEntryPoint:!1,Events:[vf,ls,pm,wC,bC,Jb]},fu={findFiberByHostInstance:Ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iV={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TC(t),t===null?null:t.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||tV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{cm=bd.inject(iV),Ur=bd}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rV;Hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a_(e))throw Error(re(200));return eV(t,e,null,n)};Hn.createRoot=function(t,e){if(!a_(t))throw Error(re(299));var n=!1,r="",i=rN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=n_(t,1,!1,null,null,n,!1,r,i),t[_i]=e.current,pc(t.nodeType===8?t.parentNode:t),new i_(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=TC(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return wo(t)};Hn.hydrate=function(t,e,n){if(!Em(e))throw Error(re(200));return Sm(null,t,e,!0,n)};Hn.hydrateRoot=function(t,e,n){if(!a_(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=rN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nN(e,null,t,1,n??null,i,!1,a,o),t[_i]=e.current,pc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xm(e)};Hn.render=function(t,e,n){if(!Em(e))throw Error(re(200));return Sm(null,t,e,!1,n)};Hn.unmountComponentAtNode=function(t){if(!Em(t))throw Error(re(40));return t._reactRootContainer?(wo(function(){Sm(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};Hn.unstable_batchedUpdates=Jb;Hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Em(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Sm(t,e,n,!1,r)};Hn.version="18.3.1-next-f1338f8080-20240426";function iN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iN)}catch(t){console.error(t)}}iN(),iC.exports=Hn;var aV=iC.exports,hS=aV;vv.createRoot=hS.createRoot,vv.hydrateRoot=hS.hydrateRoot;var oV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lV=(t,e)=>{const n=L.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:s,...l},u)=>L.createElement("svg",{ref:u,...oV,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${sV(t)}`,...l},[...e.map(([c,d])=>L.createElement(c,d)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${t}`,n};var Te=lV;const hn=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Vh=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),uV=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),pS=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Oy=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Tm=Te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Hu=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),aN=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),oN=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),f0=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),d0=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),cV=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),fV=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Gu=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dV=Te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),hV=Te("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),pV=Te("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),mV=Te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),h0=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),gV=Te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),o_=Te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),mS=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),yV=Te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),vV=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),wV=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),bV=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),_V=Te("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Vs=Te("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),rh=Te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),xV=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),EV=Te("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Vr=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ku=Te("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),bf=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),SV=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),TV=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Zn=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Fs=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Am=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),bo=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),AV=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),PV=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),OV=Te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),_o=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),IV=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),CV=()=>{};var gS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},lN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[c],n[d],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new NV;const p=a<<2|s>>4;if(r.push(p),u!==64){const m=s<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jV=function(t){const e=sN(t);return lN.encodeByteArray(e,!0)},Fh=function(t){return jV(t).replace(/\./g,"")},uN=function(t){try{return lN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=()=>DV().__FIREBASE_DEFAULTS__,MV=()=>{if(typeof process>"u"||typeof gS>"u")return;const t=gS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$V=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uN(t[1]);return e&&JSON.parse(e)},Pm=()=>{try{return CV()||RV()||MV()||$V()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cN=t=>{var e,n;return(n=(e=Pm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},LV=t=>{const e=cN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fN=()=>{var t;return(t=Pm())==null?void 0:t.config},dN=t=>{var e;return(e=Pm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fh(JSON.stringify(n)),Fh(JSON.stringify(o)),""].join(".")}const Yu={};function UV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yu))Yu[e]?t.emulator.push(e):t.prod.push(e);return t}function BV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yS=!1;function pN(t,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||Yu[t]===e||Yu[t]||yS)return;Yu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=UV().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{yS=!0,o()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=BV(r),m=n("text"),g=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),b=n("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;s(E),c(x,w);const N=u();l(y,b),E.append(y,g,x,N),document.body.appendChild(E)}a?(g.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function WV(){var e;const t=(e=Pm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KV(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YV(){return!WV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XV(){try{return typeof indexedDB=="object"}catch{return!1}}function QV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JV,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?ZV(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ji(i,s,r)}}function ZV(t,e){return t.replace(eF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eF=/\{\$([^}]+)}/g;function tF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(vS(a)&&vS(o)){if(!xo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nF(t,e){const n=new rF(t,e);return n.subscribe.bind(n)}class rF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Iy),i.error===void 0&&(i.error=Iy),i.complete===void 0&&(i.complete=Iy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Iy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sF(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oF(t){return t===Ga?void 0:t}function sF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const uF={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},cF=Ne.INFO,fF={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},dF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s_{constructor(e){this.name=e,this._logLevel=cF,this._logHandler=dF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const hF=(t,e)=>e.some(n=>t instanceof n);let wS,bS;function pF(){return wS||(wS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mF(){return bS||(bS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mN=new WeakMap,p0=new WeakMap,gN=new WeakMap,Cy=new WeakMap,l_=new WeakMap;function gF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(da(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mN.set(n,t)}).catch(()=>{}),l_.set(e,t),e}function yF(t){if(p0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});p0.set(t,e)}let m0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vF(t){m0=t(m0)}function wF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ky(this),e,...n);return gN.set(r,e.sort?e.sort():[e]),da(r)}:mF().includes(t)?function(...e){return t.apply(ky(this),e),da(mN.get(this))}:function(...e){return da(t.apply(ky(this),e))}}function bF(t){return typeof t=="function"?wF(t):(t instanceof IDBTransaction&&yF(t),hF(t,pF())?new Proxy(t,m0):t)}function da(t){if(t instanceof IDBRequest)return gF(t);if(Cy.has(t))return Cy.get(t);const e=bF(t);return e!==t&&(Cy.set(t,e),l_.set(e,t)),e}const ky=t=>l_.get(t);function _F(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=da(o);return r&&o.addEventListener("upgradeneeded",l=>{r(da(o.result),l.oldVersion,l.newVersion,da(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const xF=["get","getKey","getAll","getAllKeys","count"],EF=["put","add","delete","clear"],Ny=new Map;function _S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ny.get(e))return Ny.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xF.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Ny.set(e,a),a}vF(t=>({...t,get:(e,n,r)=>_S(e,n)||t.get(e,n,r),has:(e,n)=>!!_S(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const g0="@firebase/app",xS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new s_("@firebase/app"),AF="@firebase/app-compat",PF="@firebase/analytics-compat",OF="@firebase/analytics",IF="@firebase/app-check-compat",CF="@firebase/app-check",kF="@firebase/auth",NF="@firebase/auth-compat",jF="@firebase/database",DF="@firebase/data-connect",RF="@firebase/database-compat",MF="@firebase/functions",$F="@firebase/functions-compat",LF="@firebase/installations",VF="@firebase/installations-compat",FF="@firebase/messaging",UF="@firebase/messaging-compat",BF="@firebase/performance",zF="@firebase/performance-compat",WF="@firebase/remote-config",qF="@firebase/remote-config-compat",HF="@firebase/storage",GF="@firebase/storage-compat",KF="@firebase/firestore",YF="@firebase/ai",XF="@firebase/firestore-compat",QF="firebase",JF="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="[DEFAULT]",ZF={[g0]:"fire-core",[AF]:"fire-core-compat",[OF]:"fire-analytics",[PF]:"fire-analytics-compat",[CF]:"fire-app-check",[IF]:"fire-app-check-compat",[kF]:"fire-auth",[NF]:"fire-auth-compat",[jF]:"fire-rtdb",[DF]:"fire-data-connect",[RF]:"fire-rtdb-compat",[MF]:"fire-fn",[$F]:"fire-fn-compat",[LF]:"fire-iid",[VF]:"fire-iid-compat",[FF]:"fire-fcm",[UF]:"fire-fcm-compat",[BF]:"fire-perf",[zF]:"fire-perf-compat",[WF]:"fire-rc",[qF]:"fire-rc-compat",[HF]:"fire-gcs",[GF]:"fire-gcs-compat",[KF]:"fire-fst",[XF]:"fire-fst-compat",[YF]:"fire-vertex","fire-js":"fire-js",[QF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,e3=new Map,v0=new Map;function ES(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(v0.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;v0.set(e,t);for(const n of Uh.values())ES(n,t);for(const n of e3.values())ES(n,t);return!0}function u_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new _f("app","Firebase",t3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=JF;function yN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:y0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ha.create("bad-app-name",{appName:String(i)});if(n||(n=fN()),!n)throw ha.create("no-options");const a=Uh.get(i);if(a){if(xo(n,a.options)&&xo(r,a.config))return a;throw ha.create("duplicate-app",{appName:i})}const o=new lF(i);for(const l of v0.values())o.addComponent(l);const s=new n3(n,r,o);return Uh.set(i,s),s}function vN(t=y0){const e=Uh.get(t);if(!e&&t===y0&&fN())return yN();if(!e)throw ha.create("no-app",{appName:t});return e}function pa(t,e,n){let r=ZF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(o.join(" "));return}Us(new Eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="firebase-heartbeat-database",i3=1,Ec="firebase-heartbeat-store";let jy=null;function wN(){return jy||(jy=_F(r3,i3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),jy}async function a3(t){try{const n=(await wN()).transaction(Ec),r=await n.objectStore(Ec).get(bN(t));return await n.done,r}catch(e){if(e instanceof ji)Si.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function SS(t,e){try{const r=(await wN()).transaction(Ec,"readwrite");await r.objectStore(Ec).put(e,bN(t)),await r.done}catch(n){if(n instanceof ji)Si.warn(n.message);else{const r=ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function bN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=1024,s3=30;class l3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=TS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>s3){const o=f3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TS(),{heartbeatsToSend:r,unsentEntries:i}=u3(this._heartbeatsCache.heartbeats),a=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Si.warn(n),""}}}function TS(){return new Date().toISOString().substring(0,10)}function u3(t,e=o3){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),AS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class c3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XV()?QV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function AS(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}function f3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){Us(new Eo("platform-logger",e=>new SF(e),"PRIVATE")),Us(new Eo("heartbeat",e=>new l3(e),"PRIVATE")),pa(g0,xS,t),pa(g0,xS,"esm2020"),pa("fire-js","")}d3("");function _N(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h3=_N,xN=new _f("auth","Firebase",_N());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new s_("@firebase/auth");function p3(t,...e){Bh.logLevel<=Ne.WARN&&Bh.warn(`Auth (${Tl}): ${t}`,...e)}function ih(t,...e){Bh.logLevel<=Ne.ERROR&&Bh.error(`Auth (${Tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw c_(t,...e)}function zr(t,...e){return c_(t,...e)}function EN(t,e,n){const r={...h3(),[e]:n};return new _f("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return EN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xN.create(t,...e)}function be(t,e,...n){if(!t)throw c_(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function Ti(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function m3(){return PS()==="http:"||PS()==="https:"}function PS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m3()||HV()||"connection"in navigator)?navigator.onLine:!0}function y3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=zV()||GV()}get(){return g3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b3=new Ef(3e4,6e4);function Di(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zr(t,e,n,r,i={}){return TN(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=xf({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return qV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Sl(t.emulatorConfig.host)&&(u.credentials="include"),SN.fetch()(await AN(t,t.config.apiHost,n,s),u)})}async function TN(t,e,n){t._canInitEmulator=!1;const r={...v3,...e};try{const i=new x3(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw _d(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _d(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _d(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw EN(t,c,u);kr(t,c)}}catch(i){if(i instanceof ji)throw i;kr(t,"network-request-failed",{message:String(i)})}}async function Sf(t,e,n,r,i={}){const a=await Zr(t,e,n,r,i);return"mfaPendingCredential"in a&&kr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function AN(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?f_(t.config,i):`${t.config.apiScheme}://${i}`;return w3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function _3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),b3.get())})}}function _d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function OS(t){return t!==void 0&&t.enterprise!==void 0}class E3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S3(t,e){return Zr(t,"GET","/v2/recaptchaConfig",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e){return Zr(t,"POST","/v1/accounts:delete",e)}async function zh(t,e){return Zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A3(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=d_(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xu(Dy(i.auth_time)),issuedAtTime:Xu(Dy(i.iat)),expirationTime:Xu(Dy(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Dy(t){return Number(t)*1e3}function d_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=uN(n);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IS(t){const e=d_(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&P3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function P3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Bs(t,zh(e,{idToken:n}));be(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?PN(i.providerUserInfo):[],o=C3(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new b0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function I3(t){const e=Nt(t);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e){const n=await TN(t,{},async()=>{const r=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await AN(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Sl(t.emulatorConfig.host)&&(l.credentials="include"),SN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N3(t,e){return Zr(t,"POST","/v2/accounts:revokeToken",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=IS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await k3(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Ts;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(be(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ts,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new O3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new b0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bs(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A3(this,e)}reload(){return I3(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await Bs(this,T3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:m,providerData:g,stsTokenManager:w}=n;be(d&&w,e,"internal-error");const x=Ts.fromJSON(this.name,w);be(typeof d=="string",e,"internal-error"),Bi(r,e.name),Bi(i,e.name),be(typeof p=="boolean",e,"internal-error"),be(typeof m=="boolean",e,"internal-error"),Bi(a,e.name),Bi(o,e.name),Bi(s,e.name),Bi(l,e.name),Bi(u,e.name),Bi(c,e.name);const b=new Tr({uid:d,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:x,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(b.providerData=g.map(y=>({...y}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ts;i.updateFromServerResponse(n);const a=new Tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Ts;s.updateFromIdToken(r);const l=new Tr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new b0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Map;function ci(t){Ti(t instanceof Function,"Expected a class definition");let e=CS.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ON.type="NONE";const kS=ON;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e,n){return`firebase:${t}:${e}:${n}`}class As{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ah(this.userKey,i.apiKey,a),this.fullPersistenceKey=ah("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?Tr._fromGetAccountInfoResponse(this.auth,n,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new As(ci(kS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||ci(kS);const o=ah(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const p=await zh(e,{idToken:c}).catch(()=>{});if(!p)break;d=await Tr._fromGetAccountInfoResponse(e,p,c)}else d=Tr._fromJSON(e,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new As(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new As(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DN(e))return"Blackberry";if(RN(e))return"Webos";if(CN(e))return"Safari";if((e.includes("chrome/")||kN(e))&&!e.includes("edge/"))return"Chrome";if(jN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IN(t=mn()){return/firefox\//i.test(t)}function CN(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kN(t=mn()){return/crios\//i.test(t)}function NN(t=mn()){return/iemobile/i.test(t)}function jN(t=mn()){return/android/i.test(t)}function DN(t=mn()){return/blackberry/i.test(t)}function RN(t=mn()){return/webos/i.test(t)}function h_(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j3(t=mn()){var e;return h_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function D3(){return KV()&&document.documentMode===10}function MN(t=mn()){return h_(t)||jN(t)||RN(t)||DN(t)||/windows phone/i.test(t)||NN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e=[]){let n;switch(t){case"Browser":n=NS(mn());break;case"Worker":n=`${NS(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e={}){return Zr(t,"GET","/v2/passwordPolicy",Di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=6;class L3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jS(this),this.idTokenSubscription=new jS(this),this.beforeStateQueue=new R3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await As.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(mi(this));const n=e?Nt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M3(this),n=new L3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await N3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await As.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$N(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&p3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ka(t){return Nt(t)}class jS{constructor(e){this.auth=e,this.observer=null,this.addObserver=nF(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F3(t){Om=t}function LN(t){return Om.loadJS(t)}function U3(){return Om.recaptchaEnterpriseScript}function B3(){return Om.gapiScript}function z3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class W3{constructor(){this.enterprise=new q3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class q3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const H3="recaptcha-enterprise",VN="NO_RECAPTCHA";class G3{constructor(e){this.type=H3,this.auth=ka(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{S3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new E3(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;OS(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(VN)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W3().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&OS(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=U3();l.length!==0&&(l+=s),LN(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function DS(t,e,n,r=!1,i=!1){const a=new G3(t);let o;if(i)o=VN;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function qh(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await DS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await DS(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e){const n=u_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(xo(a,e??{}))return i;kr(i,"already-initialized")}return n.initialize({options:e})}function Y3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function X3(t,e,n){const r=ka(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=FN(e),{host:o,port:s}=Q3(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(xo(u,r.config.emulator)&&xo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Sl(o)?(hN(`${a}//${o}${l}`),pN("Auth",!0)):J3()}function FN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q3(t){const e=FN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:RS(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:RS(o)}}}function RS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function J3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function Z3(t,e){return Zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return Sf(t,"POST","/v1/accounts:signInWithPassword",Di(t,e))}async function t6(t,e){return Zr(t,"POST","/v1/accounts:sendOobCode",Di(t,e))}async function n6(t,e){return t6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e){return Sf(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}async function i6(t,e){return Sf(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends p_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qh(e,n,"signInWithPassword",e6);case"emailLink":return r6(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qh(e,r,"signUpPassword",Z3);case"emailLink":return i6(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(t,e){return Sf(t,"POST","/v1/accounts:signInWithIdp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="http://localhost";class So extends p_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new So(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ps(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ps(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ps(e,n)}buildRequest(){const e={requestUri:a6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s6(t){const e=Cu(ku(t)).link,n=e?Cu(ku(e)).deep_link_id:null,r=Cu(ku(t)).deep_link_id;return(r?Cu(ku(r)).link:null)||r||n||e||t}class m_{constructor(e){const n=Cu(ku(e)),r=n.apiKey??null,i=n.oobCode??null,a=o6(n.mode??null);be(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=s6(e);try{return new m_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,n){return Sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=m_.parseLink(n);return be(r,"argument-error"),Sc._fromEmailAndCode(e,r.code,r.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends UN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Tf{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return So._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Tf{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Tf{constructor(){super("twitter.com")}static credential(e,n){return So._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e){return Sf(t,"POST","/v1/accounts:signUp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Tr._fromIdTokenResponse(e,r,i),o=MS(r);return new To({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=MS(r);return new To({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function MS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends ji{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hh(e,n,r,i)}}function BN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(t,a,e,r):a})}async function u6(t,e,n=!1){const r=await Bs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const a=await Bs(t,BN(r,i,e,t),n);be(a.idToken,r,"internal-error");const o=d_(a.idToken);be(o,r,"internal-error");const{sub:s}=o;return be(t.uid===s,r,"user-mismatch"),To._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e,n=!1){if(er(t.app))return Promise.reject(mi(t));const r="signIn",i=await BN(t,r,e),a=await To._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function f6(t,e){return zN(ka(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t){const e=ka(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d6(t,e,n){const r=ka(t);await qh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",n6)}async function h6(t,e,n){if(er(t.app))return Promise.reject(mi(t));const r=ka(t),o=await qh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&WN(t),l}),s=await To._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function p6(t,e,n){return er(t.app)?Promise.reject(mi(t)):f6(Nt(t),Al.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e){return Zr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Bs(r,m6(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function y6(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function v6(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function w6(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function b6(t){return Nt(t).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=1e3,x6=10;class HN extends qN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);D3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,x6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HN.type="LOCAL";const E6=HN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends qN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GN.type="SESSION";const KN=GN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await S6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=g_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(p.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function A6(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function P6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function I6(){return YN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebaseLocalStorageDb",C6=1,Kh="firebaseLocalStorage",QN="fbase_key";class Af{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cm(t,e){return t.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function k6(){const t=indexedDB.deleteDatabase(XN);return new Af(t).toPromise()}function _0(){const t=indexedDB.open(XN,C6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kh,{keyPath:QN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),await k6(),e(await _0()))})})}async function $S(t,e,n){const r=Cm(t,!0).put({[QN]:e,value:n});return new Af(r).toPromise()}async function N6(t,e){const n=Cm(t,!1).get(e),r=await new Af(n).toPromise();return r===void 0?null:r.value}function LS(t,e){const n=Cm(t,!0).delete(e);return new Af(n).toPromise()}const j6=800,D6=3;class JN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(I6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await P6(),!this.activeServiceWorker)return;this.sender=new T6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _0();return await $S(e,Gh,"1"),await LS(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$S(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Cm(i,!1).getAll();return new Af(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JN.type="LOCAL";const R6=JN;new Ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t,e){return e?ci(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends p_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $6(t){return zN(t.auth,new y_(t),t.bypassAuthState)}function L6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),c6(n,new y_(t),t.bypassAuthState)}async function V6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),u6(n,new y_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $6;case"linkViaPopup":case"linkViaRedirect":return V6;case"reauthViaPopup":case"reauthViaRedirect":return L6;default:kr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=new Ef(2e3,1e4);class ms extends ZN{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=g_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F6.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="pendingRedirect",oh=new Map;class B6 extends ZN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await z6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z6(t,e){const n=H6(e),r=q6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W6(t,e){oh.set(t._key(),e)}function q6(t){return ci(t._redirectPersistence)}function H6(t){return ah(U6,t.config.apiKey,t.name)}async function G6(t,e,n=!1){if(er(t.app))return Promise.reject(mi(t));const r=ka(t),i=M6(r,e),o=await new B6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=10*60*1e3;class Y6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!e2(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K6&&this.cachedEventUids.clear(),this.cachedEventUids.has(VS(e))}saveEventToCache(e){this.cachedEventUids.add(VS(e)),this.lastProcessedEventTime=Date.now()}}function VS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function e2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e={}){return Zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z6=/^https?/;async function eU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q6(t);for(const n of e)try{if(tU(n))return}catch{}kr(t,"unauthorized-domain")}function tU(t){const e=w0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Z6.test(n))return!1;if(J6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new Ef(3e4,6e4);function FS(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rU(t){return new Promise((e,n)=>{var i,a,o;function r(){FS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FS(),n(zr(t,"network-request-failed"))},timeout:nU.get()})}if((a=(i=Wr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Wr().gapi)!=null&&o.load)r();else{const s=z3("iframefcb");return Wr()[s]=()=>{gapi.load?r():n(zr(t,"network-request-failed"))},LN(`${B3()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw sh=null,e})}let sh=null;function iU(t){return sh=sh||rU(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new Ef(5e3,15e3),oU="__/auth/iframe",sU="emulator/auth/iframe",lU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cU(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f_(e,sU):`https://${t.config.authDomain}/${oU}`,r={apiKey:e.apiKey,appName:t.name,v:Tl},i=uU.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${xf(r).slice(1)}`}async function fU(t){const e=await iU(t),n=Wr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:cU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lU,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=zr(t,"network-request-failed"),s=Wr().setTimeout(()=>{a(o)},aU.get());function l(){Wr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hU=500,pU=600,mU="_blank",gU="http://localhost";class US{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yU(t,e,n,r=hU,i=pU){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...dU,width:r.toString(),height:i.toString(),top:a,left:o},u=mn().toLowerCase();n&&(s=kN(u)?mU:n),IN(u)&&(e=e||gU,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(j3(u)&&s!=="_self")return vU(e||"",s),new US(null);const d=window.open(e||"",s,c);be(d,t,"popup-blocked");try{d.focus()}catch{}return new US(d)}function vU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="__/auth/handler",bU="emulator/auth/handler",_U=encodeURIComponent("fac");async function BS(t,e,n,r,i,a){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tl,eventId:i};if(e instanceof UN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Tf){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${_U}=${encodeURIComponent(l)}`:"";return`${xU(t)}?${xf(s).slice(1)}${u}`}function xU({config:t}){return t.emulator?f_(t,bU):`https://${t.authDomain}/${wU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="webStorageSupport";class EU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KN,this._completeRedirectFn=G6,this._overrideRedirectResult=W6}async _openPopup(e,n,r,i){var o;Ti((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await BS(e,n,r,w0(),i);return yU(e,a,g_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await BS(e,n,r,w0(),i);return A6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fU(e),r=new Y6(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ry,{type:Ry},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Ry];a!==void 0&&n(!!a),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MN()||CN()||h_()}}const SU=EU;var zS="@firebase/auth",WS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PU(t){Us(new Eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$N(t)},u=new V3(r,i,a,l);return Y3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new Eo("auth-internal",e=>{const n=ka(e.getProvider("auth").getImmediate());return(r=>new TU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pa(zS,WS,AU(t)),pa(zS,WS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=5*60,IU=dN("authIdTokenMaxAge")||OU;let qS=null;const CU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IU)return;const i=n==null?void 0:n.token;qS!==i&&(qS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kU(t=vN()){const e=u_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=K3(t,{popupRedirectResolver:SU,persistence:[R6,E6,KN]}),r=dN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=CU(a.toString());v6(n,o,()=>o(n.currentUser)),y6(n,s=>o(s))}}const i=cN("auth");return i&&X3(n,`http://${i}`),n}function NU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}F3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=zr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",NU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PU("Browser");var jU="firebase",DU="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pa(jU,DU,"app");var HS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,t2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function T(){}T.prototype=v.prototype,S.D=v.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(O,k,j){for(var C=Array(arguments.length-2),$=2;$<arguments.length;$++)C[$-2]=arguments[$];return v.prototype[k].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,T){T||(T=0);var O=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)O[k]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(k=0;16>k;++k)O[k]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=S.g[0],T=S.g[1],k=S.g[2];var j=S.g[3],C=v+(j^T&(k^j))+O[0]+3614090360&4294967295;v=T+(C<<7&4294967295|C>>>25),C=j+(k^v&(T^k))+O[1]+3905402710&4294967295,j=v+(C<<12&4294967295|C>>>20),C=k+(T^j&(v^T))+O[2]+606105819&4294967295,k=j+(C<<17&4294967295|C>>>15),C=T+(v^k&(j^v))+O[3]+3250441966&4294967295,T=k+(C<<22&4294967295|C>>>10),C=v+(j^T&(k^j))+O[4]+4118548399&4294967295,v=T+(C<<7&4294967295|C>>>25),C=j+(k^v&(T^k))+O[5]+1200080426&4294967295,j=v+(C<<12&4294967295|C>>>20),C=k+(T^j&(v^T))+O[6]+2821735955&4294967295,k=j+(C<<17&4294967295|C>>>15),C=T+(v^k&(j^v))+O[7]+4249261313&4294967295,T=k+(C<<22&4294967295|C>>>10),C=v+(j^T&(k^j))+O[8]+1770035416&4294967295,v=T+(C<<7&4294967295|C>>>25),C=j+(k^v&(T^k))+O[9]+2336552879&4294967295,j=v+(C<<12&4294967295|C>>>20),C=k+(T^j&(v^T))+O[10]+4294925233&4294967295,k=j+(C<<17&4294967295|C>>>15),C=T+(v^k&(j^v))+O[11]+2304563134&4294967295,T=k+(C<<22&4294967295|C>>>10),C=v+(j^T&(k^j))+O[12]+1804603682&4294967295,v=T+(C<<7&4294967295|C>>>25),C=j+(k^v&(T^k))+O[13]+4254626195&4294967295,j=v+(C<<12&4294967295|C>>>20),C=k+(T^j&(v^T))+O[14]+2792965006&4294967295,k=j+(C<<17&4294967295|C>>>15),C=T+(v^k&(j^v))+O[15]+1236535329&4294967295,T=k+(C<<22&4294967295|C>>>10),C=v+(k^j&(T^k))+O[1]+4129170786&4294967295,v=T+(C<<5&4294967295|C>>>27),C=j+(T^k&(v^T))+O[6]+3225465664&4294967295,j=v+(C<<9&4294967295|C>>>23),C=k+(v^T&(j^v))+O[11]+643717713&4294967295,k=j+(C<<14&4294967295|C>>>18),C=T+(j^v&(k^j))+O[0]+3921069994&4294967295,T=k+(C<<20&4294967295|C>>>12),C=v+(k^j&(T^k))+O[5]+3593408605&4294967295,v=T+(C<<5&4294967295|C>>>27),C=j+(T^k&(v^T))+O[10]+38016083&4294967295,j=v+(C<<9&4294967295|C>>>23),C=k+(v^T&(j^v))+O[15]+3634488961&4294967295,k=j+(C<<14&4294967295|C>>>18),C=T+(j^v&(k^j))+O[4]+3889429448&4294967295,T=k+(C<<20&4294967295|C>>>12),C=v+(k^j&(T^k))+O[9]+568446438&4294967295,v=T+(C<<5&4294967295|C>>>27),C=j+(T^k&(v^T))+O[14]+3275163606&4294967295,j=v+(C<<9&4294967295|C>>>23),C=k+(v^T&(j^v))+O[3]+4107603335&4294967295,k=j+(C<<14&4294967295|C>>>18),C=T+(j^v&(k^j))+O[8]+1163531501&4294967295,T=k+(C<<20&4294967295|C>>>12),C=v+(k^j&(T^k))+O[13]+2850285829&4294967295,v=T+(C<<5&4294967295|C>>>27),C=j+(T^k&(v^T))+O[2]+4243563512&4294967295,j=v+(C<<9&4294967295|C>>>23),C=k+(v^T&(j^v))+O[7]+1735328473&4294967295,k=j+(C<<14&4294967295|C>>>18),C=T+(j^v&(k^j))+O[12]+2368359562&4294967295,T=k+(C<<20&4294967295|C>>>12),C=v+(T^k^j)+O[5]+4294588738&4294967295,v=T+(C<<4&4294967295|C>>>28),C=j+(v^T^k)+O[8]+2272392833&4294967295,j=v+(C<<11&4294967295|C>>>21),C=k+(j^v^T)+O[11]+1839030562&4294967295,k=j+(C<<16&4294967295|C>>>16),C=T+(k^j^v)+O[14]+4259657740&4294967295,T=k+(C<<23&4294967295|C>>>9),C=v+(T^k^j)+O[1]+2763975236&4294967295,v=T+(C<<4&4294967295|C>>>28),C=j+(v^T^k)+O[4]+1272893353&4294967295,j=v+(C<<11&4294967295|C>>>21),C=k+(j^v^T)+O[7]+4139469664&4294967295,k=j+(C<<16&4294967295|C>>>16),C=T+(k^j^v)+O[10]+3200236656&4294967295,T=k+(C<<23&4294967295|C>>>9),C=v+(T^k^j)+O[13]+681279174&4294967295,v=T+(C<<4&4294967295|C>>>28),C=j+(v^T^k)+O[0]+3936430074&4294967295,j=v+(C<<11&4294967295|C>>>21),C=k+(j^v^T)+O[3]+3572445317&4294967295,k=j+(C<<16&4294967295|C>>>16),C=T+(k^j^v)+O[6]+76029189&4294967295,T=k+(C<<23&4294967295|C>>>9),C=v+(T^k^j)+O[9]+3654602809&4294967295,v=T+(C<<4&4294967295|C>>>28),C=j+(v^T^k)+O[12]+3873151461&4294967295,j=v+(C<<11&4294967295|C>>>21),C=k+(j^v^T)+O[15]+530742520&4294967295,k=j+(C<<16&4294967295|C>>>16),C=T+(k^j^v)+O[2]+3299628645&4294967295,T=k+(C<<23&4294967295|C>>>9),C=v+(k^(T|~j))+O[0]+4096336452&4294967295,v=T+(C<<6&4294967295|C>>>26),C=j+(T^(v|~k))+O[7]+1126891415&4294967295,j=v+(C<<10&4294967295|C>>>22),C=k+(v^(j|~T))+O[14]+2878612391&4294967295,k=j+(C<<15&4294967295|C>>>17),C=T+(j^(k|~v))+O[5]+4237533241&4294967295,T=k+(C<<21&4294967295|C>>>11),C=v+(k^(T|~j))+O[12]+1700485571&4294967295,v=T+(C<<6&4294967295|C>>>26),C=j+(T^(v|~k))+O[3]+2399980690&4294967295,j=v+(C<<10&4294967295|C>>>22),C=k+(v^(j|~T))+O[10]+4293915773&4294967295,k=j+(C<<15&4294967295|C>>>17),C=T+(j^(k|~v))+O[1]+2240044497&4294967295,T=k+(C<<21&4294967295|C>>>11),C=v+(k^(T|~j))+O[8]+1873313359&4294967295,v=T+(C<<6&4294967295|C>>>26),C=j+(T^(v|~k))+O[15]+4264355552&4294967295,j=v+(C<<10&4294967295|C>>>22),C=k+(v^(j|~T))+O[6]+2734768916&4294967295,k=j+(C<<15&4294967295|C>>>17),C=T+(j^(k|~v))+O[13]+1309151649&4294967295,T=k+(C<<21&4294967295|C>>>11),C=v+(k^(T|~j))+O[4]+4149444226&4294967295,v=T+(C<<6&4294967295|C>>>26),C=j+(T^(v|~k))+O[11]+3174756917&4294967295,j=v+(C<<10&4294967295|C>>>22),C=k+(v^(j|~T))+O[2]+718787259&4294967295,k=j+(C<<15&4294967295|C>>>17),C=T+(j^(k|~v))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var T=v-this.blockSize,O=this.B,k=this.h,j=0;j<v;){if(k==0)for(;j<=T;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<v;)if(O[k++]=S.charCodeAt(j++),k==this.blockSize){i(this,O),k=0;break}}else for(;j<v;)if(O[k++]=S[j++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var T=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=T&255,T/=256;for(this.u(S),S=Array(16),v=T=0;4>v;++v)for(var O=0;32>O;O+=8)S[T++]=this.g[v]>>>O&255;return S};function a(S,v){var T=s;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=v(S)}function o(S,v){this.h=v;for(var T=[],O=!0,k=S.length-1;0<=k;k--){var j=S[k]|0;O&&j==v||(T[k]=j,O=!1)}this.g=T}var s={};function l(S){return-128<=S&&128>S?a(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return x(u(-S));for(var v=[],T=1,O=0;S>=T;O++)v[O]=S/T|0,T*=4294967296;return new o(v,0)}function c(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return x(c(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(v,8)),O=d,k=0;k<S.length;k+=8){var j=Math.min(8,S.length-k),C=parseInt(S.substring(k,k+j),v);8>j?(j=u(Math.pow(v,j)),O=O.j(j).add(u(C))):(O=O.j(T),O=O.add(u(C)))}return O}var d=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();for(var S=0,v=1,T=0;T<this.g.length;T++){var O=this.i(T);S+=(0<=O?O:4294967296+O)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(w(this))return"-"+x(this).toString(S);for(var v=u(Math.pow(S,6)),T=this,O="";;){var k=N(T,v).g;T=b(T,k.j(v));var j=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=k,g(T))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=b(this,S),w(S)?-1:g(S)?0:1};function x(S){for(var v=S.g.length,T=[],O=0;O<v;O++)T[O]=~S.g[O];return new o(T,~S.h).add(p)}t.abs=function(){return w(this)?x(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],O=0,k=0;k<=v;k++){var j=O+(this.i(k)&65535)+(S.i(k)&65535),C=(j>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);O=C>>>16,j&=65535,C&=65535,T[k]=C<<16|j}return new o(T,T[T.length-1]&-2147483648?-1:0)};function b(S,v){return S.add(x(v))}t.j=function(S){if(g(this)||g(S))return d;if(w(this))return w(S)?x(this).j(x(S)):x(x(this).j(S));if(w(S))return x(this.j(x(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var v=this.g.length+S.g.length,T=[],O=0;O<2*v;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<S.g.length;k++){var j=this.i(O)>>>16,C=this.i(O)&65535,$=S.i(k)>>>16,F=S.i(k)&65535;T[2*O+2*k]+=C*F,y(T,2*O+2*k),T[2*O+2*k+1]+=j*F,y(T,2*O+2*k+1),T[2*O+2*k+1]+=C*$,y(T,2*O+2*k+1),T[2*O+2*k+2]+=j*$,y(T,2*O+2*k+2)}for(O=0;O<v;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=v;O<2*v;O++)T[O]=0;return new o(T,0)};function y(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function E(S,v){this.g=S,this.h=v}function N(S,v){if(g(v))throw Error("division by zero");if(g(S))return new E(d,d);if(w(S))return v=N(x(S),v),new E(x(v.g),x(v.h));if(w(v))return v=N(S,x(v)),new E(x(v.g),v.h);if(30<S.g.length){if(w(S)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var T=p,O=v;0>=O.l(S);)T=A(T),O=A(O);var k=P(T,1),j=P(O,1);for(O=P(O,2),T=P(T,2);!g(O);){var C=j.add(O);0>=C.l(S)&&(k=k.add(T),j=C),O=P(O,1),T=P(T,1)}return v=b(S,k.j(v)),new E(k,v)}for(k=d;0<=S.l(v);){for(T=Math.max(1,Math.floor(S.m()/v.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=u(T),C=j.j(v);w(C)||0<C.l(S);)T-=O,j=u(T),C=j.j(v);g(j)&&(j=p),k=k.add(j),S=b(S,C)}return new E(k,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],O=0;O<v;O++)T[O]=this.i(O)&S.i(O);return new o(T,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],O=0;O<v;O++)T[O]=this.i(O)|S.i(O);return new o(T,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],O=0;O<v;O++)T[O]=this.i(O)^S.i(O);return new o(T,this.h^S.h)};function A(S){for(var v=S.g.length+1,T=[],O=0;O<v;O++)T[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(T,S.h)}function P(S,v){var T=v>>5;v%=32;for(var O=S.g.length-T,k=[],j=0;j<O;j++)k[j]=0<v?S.i(j+T)>>>v|S.i(j+T+1)<<32-v:S.i(j+T);return new o(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,t2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ma=o}).apply(typeof HS<"u"?HS:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n2,Nu,r2,lh,x0,i2,a2,o2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,I){return f==Array.prototype||f==Object.prototype||(f[_]=I.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var _=0;_<f.length;++_){var I=f[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(f,_){if(_)e:{var I=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var z=f[D];if(!(z in I))break e;I=I[z]}f=f[f.length-1],D=I[f],_=_(D),_!=D&&_!=null&&e(I,f,{configurable:!0,writable:!0,value:_})}}function a(f,_){f instanceof String&&(f+="");var I=0,D=!1,z={next:function(){if(!D&&I<f.length){var K=I++;return{value:_(K,f[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(f){return f||function(){return a(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function c(f,_,I){return f.call.apply(f.bind,arguments)}function d(f,_,I){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,D),f.apply(_,z)}}return function(){return f.apply(_,arguments)}}function p(f,_,I){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,p.apply(null,arguments)}function m(f,_){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function g(f,_){function I(){}I.prototype=_.prototype,f.aa=_.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(D,z,K){for(var ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ae[Je-2]=arguments[Je];return _.prototype[z].apply(D,ae)}}function w(f){const _=f.length;if(0<_){const I=Array(_);for(let D=0;D<_;D++)I[D]=f[D];return I}return[]}function x(f,_){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(l(D)){const z=f.length||0,K=D.length||0;f.length=z+K;for(let ae=0;ae<K;ae++)f[z+ae]=D[ae]}else f.push(D)}}class b{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function N(f){return N[" "](f),f}N[" "]=function(){};var A=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function P(f,_,I){for(const D in f)_.call(I,f[D],D,f)}function S(f,_){for(const I in f)_.call(void 0,f[I],I,f)}function v(f){const _={};for(const I in f)_[I]=f[I];return _}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,_){let I,D;for(let z=1;z<arguments.length;z++){D=arguments[z];for(I in D)f[I]=D[I];for(let K=0;K<T.length;K++)I=T[K],Object.prototype.hasOwnProperty.call(D,I)&&(f[I]=D[I])}}function k(f){var _=1;f=f.split(":");const I=[];for(;0<_&&f.length;)I.push(f.shift()),_--;return f.length&&I.push(f.join(":")),I}function j(f){s.setTimeout(()=>{throw f},0)}function C(){var f=M;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,I){const D=F.get();D.set(_,I),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new b(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let R,B=!1,M=new $,X=()=>{const f=s.Promise.resolve(void 0);R=()=>{f.then(H)}};var H=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(I){j(I)}var _=F;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}B=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};s.addEventListener("test",I,_),s.removeEventListener("test",I,_)}catch{}return f}();function ye(f,_){if(G.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(A){e:{try{N(_.nodeName);var z=!0;break e}catch{}z=!1}z||(_=null)}}else I=="mouseover"?_=f.fromElement:I=="mouseout"&&(_=f.toElement);this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ve[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ye.aa.h.call(this)}}g(ye,G);var Ve={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),ie=0;function J(f,_,I,D,z){this.listener=f,this.proxy=null,this.src=_,this.type=I,this.capture=!!D,this.ha=z,this.key=++ie,this.da=this.fa=!1}function se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,_,I,D,z){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var ae=Pe(f,_,D,z);return-1<ae?(_=f[ae],I||(_.fa=!1)):(_=new J(_,this.src,K,!!D,z),_.fa=I,f.push(_)),_};function ee(f,_){var I=_.type;if(I in f.g){var D=f.g[I],z=Array.prototype.indexOf.call(D,_,void 0),K;(K=0<=z)&&Array.prototype.splice.call(D,z,1),K&&(se(_),f.g[I].length==0&&(delete f.g[I],f.h--))}}function Pe(f,_,I,D){for(var z=0;z<f.length;++z){var K=f[z];if(!K.da&&K.listener==_&&K.capture==!!I&&K.ha==D)return z}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),ze={};function Qe(f,_,I,D,z){if(Array.isArray(_)){for(var K=0;K<_.length;K++)Qe(f,_[K],I,D,z);return null}return I=Oe(I),f&&f[Be]?f.K(_,I,u(D)?!!D.capture:!1,z):Tt(f,_,I,!1,D,z)}function Tt(f,_,I,D,z,K){if(!_)throw Error("Invalid event type");var ae=u(z)?!!z.capture:!!z,Je=te(f);if(Je||(f[xe]=Je=new ge(f)),I=Je.add(_,I,D,ae,K),I.proxy)return I;if(D=Dn(),I.proxy=D,D.src=f,D.listener=I,f.addEventListener)me||(z=ae),z===void 0&&(z=!1),f.addEventListener(_.toString(),D,z);else if(f.attachEvent)f.attachEvent(ue(_.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Dn(){function f(I){return _.call(f.src,f.listener,I)}const _=q;return f}function gn(f,_,I,D,z){if(Array.isArray(_))for(var K=0;K<_.length;K++)gn(f,_[K],I,D,z);else D=u(D)?!!D.capture:!!D,I=Oe(I),f&&f[Be]?(f=f.i,_=String(_).toString(),_ in f.g&&(K=f.g[_],I=Pe(K,I,D,z),-1<I&&(se(K[I]),Array.prototype.splice.call(K,I,1),K.length==0&&(delete f.g[_],f.h--)))):f&&(f=te(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Pe(_,I,D,z)),(I=-1<f?_[f]:null)&&ne(I))}function ne(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Be])ee(_.i,f);else{var I=f.type,D=f.proxy;_.removeEventListener?_.removeEventListener(I,D,f.capture):_.detachEvent?_.detachEvent(ue(I),D):_.addListener&&_.removeListener&&_.removeListener(D),(I=te(_))?(ee(I,f),I.h==0&&(I.src=null,_[xe]=null)):se(f)}}}function ue(f){return f in ze?ze[f]:ze[f]="on"+f}function q(f,_){if(f.da)f=!0;else{_=new ye(_,this);var I=f.listener,D=f.ha||f.src;f.fa&&ne(f),f=I.call(D,_)}return f}function te(f){return f=f[xe],f instanceof ge?f:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(f){return typeof f=="function"?f:(f[pe]||(f[pe]=function(_){return f.handleEvent(_)}),f[pe])}function ce(){V.call(this),this.i=new ge(this),this.M=this,this.F=null}g(ce,V),ce.prototype[Be]=!0,ce.prototype.removeEventListener=function(f,_,I,D){gn(this,f,_,I,D)};function Ee(f,_){var I,D=f.F;if(D)for(I=[];D;D=D.F)I.push(D);if(f=f.M,D=_.type||_,typeof _=="string")_=new G(_,f);else if(_ instanceof G)_.target=_.target||f;else{var z=_;_=new G(D,f),O(_,z)}if(z=!0,I)for(var K=I.length-1;0<=K;K--){var ae=_.g=I[K];z=tt(ae,D,!0,_)&&z}if(ae=_.g=f,z=tt(ae,D,!0,_)&&z,z=tt(ae,D,!1,_)&&z,I)for(K=0;K<I.length;K++)ae=_.g=I[K],z=tt(ae,D,!1,_)&&z}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var I=f.g[_],D=0;D<I.length;D++)se(I[D]);delete f.g[_],f.h--}}this.F=null},ce.prototype.K=function(f,_,I,D){return this.i.add(String(f),_,!1,I,D)},ce.prototype.L=function(f,_,I,D){return this.i.add(String(f),_,!0,I,D)};function tt(f,_,I,D){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,K=0;K<_.length;++K){var ae=_[K];if(ae&&!ae.da&&ae.capture==I){var Je=ae.listener,qt=ae.ha||ae.src;ae.fa&&ee(f.i,ae),z=Je.call(qt,D)!==!1&&z}}return z&&!D.defaultPrevented}function yn(f,_,I){if(typeof f=="function")I&&(f=p(f,I));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:s.setTimeout(f,_||0)}function ql(f){f.g=yn(()=>{f.g=null,f.i&&(f.i=!1,ql(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Vg extends V{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(f){V.call(this),this.h=f,this.g={}}g(hr,V);var dx=[];function hx(f){P(f.g,function(_,I){this.g.hasOwnProperty(I)&&ne(_)},f),f.g={}}hr.prototype.N=function(){hr.aa.N.call(this),hx(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fg=s.JSON.stringify,u$=s.JSON.parse,c$=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Ug(){}Ug.prototype.h=null;function px(f){return f.h||(f.h=f.i())}function mx(){}var Hl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bg(){G.call(this,"d")}g(Bg,G);function zg(){G.call(this,"c")}g(zg,G);var Fa={},gx=null;function Bf(){return gx=gx||new ce}Fa.La="serverreachability";function yx(f){G.call(this,Fa.La,f)}g(yx,G);function Gl(f){const _=Bf();Ee(_,new yx(_))}Fa.STAT_EVENT="statevent";function vx(f,_){G.call(this,Fa.STAT_EVENT,f),this.stat=_}g(vx,G);function vn(f){const _=Bf();Ee(_,new vx(_,f))}Fa.Ma="timingevent";function wx(f,_){G.call(this,Fa.Ma,f),this.size=_}g(wx,G);function Kl(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},_)}function Yl(){this.g=!0}Yl.prototype.xa=function(){this.g=!1};function f$(f,_,I,D,z,K){f.info(function(){if(f.g)if(K)for(var ae="",Je=K.split("&"),qt=0;qt<Je.length;qt++){var Fe=Je[qt].split("=");if(1<Fe.length){var tn=Fe[0];Fe=Fe[1];var nn=tn.split("_");ae=2<=nn.length&&nn[1]=="type"?ae+(tn+"="+Fe+"&"):ae+(tn+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+D+") [attempt "+z+"]: "+_+`
`+I+`
`+ae})}function d$(f,_,I,D,z,K,ae){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+z+"]: "+_+`
`+I+`
`+K+" "+ae})}function Bo(f,_,I,D){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+p$(f,I)+(D?" "+D:"")})}function h$(f,_){f.info(function(){return"TIMEOUT: "+_})}Yl.prototype.info=function(){};function p$(f,_){if(!f.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var D=I[f];if(!(2>D.length)){var z=D[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Fg(I)}catch{return _}}var zf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wg;function Wf(){}g(Wf,Ug),Wf.prototype.g=function(){return new XMLHttpRequest},Wf.prototype.i=function(){return{}},Wg=new Wf;function Li(f,_,I,D){this.j=f,this.i=_,this.l=I,this.R=D||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _x}function _x(){this.i=null,this.g="",this.h=!1}var xx={},qg={};function Hg(f,_,I){f.L=1,f.v=Kf(ti(_)),f.m=I,f.P=!0,Ex(f,null)}function Ex(f,_){f.F=Date.now(),qf(f),f.A=ti(f.v);var I=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),$x(I.i,"t",D),f.C=0,I=f.j.J,f.h=new _x,f.g=tE(f.j,I?_:null,!f.m),0<f.O&&(f.M=new Vg(p(f.Y,f,f.g),f.O)),_=f.U,I=f.g,D=f.ca;var z="readystatechange";Array.isArray(z)||(z&&(dx[0]=z.toString()),z=dx);for(var K=0;K<z.length;K++){var ae=Qe(I,z[K],D||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=f.H?v(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Gl(),f$(f.i,f.u,f.A,f.l,f.R,f.m)}Li.prototype.ca=function(f){f=f.target;const _=this.M;_&&ni(f)==3?_.j():this.Y(f)},Li.prototype.Y=function(f){try{if(f==this.g)e:{const nn=ni(this.g);var _=this.g.Ba();const qo=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Wx(this.g)))){this.J||nn!=4||_==7||(_==8||0>=qo?Gl(3):Gl(2)),Gg(this);var I=this.g.Z();this.X=I;t:if(Sx(this)){var D=Wx(this.g);f="";var z=D.length,K=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ua(this),Xl(this);var ae="";break t}this.h.i=new s.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,f+=this.h.i.decode(D[_],{stream:!(K&&_==z-1)});D.length=0,this.h.g+=f,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=I==200,d$(this.i,this.u,this.A,this.l,this.R,nn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,qt=this.g;if((Je=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Je)){var Fe=Je;break t}}Fe=null}if(I=Fe)Bo(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kg(this,I);else{this.o=!1,this.s=3,vn(12),Ua(this),Xl(this);break e}}if(this.P){I=!0;let pr;for(;!this.J&&this.C<ae.length;)if(pr=m$(this,ae),pr==qg){nn==4&&(this.s=4,vn(14),I=!1),Bo(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==xx){this.s=4,vn(15),Bo(this.i,this.l,ae,"[Invalid Chunk]"),I=!1;break}else Bo(this.i,this.l,pr,null),Kg(this,pr);if(Sx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ae.length!=0||this.h.h||(this.s=1,vn(16),I=!1),this.o=this.o&&I,!I)Bo(this.i,this.l,ae,"[Invalid Chunked Response]"),Ua(this),Xl(this);else if(0<ae.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ey(tn),tn.M=!0,vn(11))}}else Bo(this.i,this.l,ae,null),Kg(this,ae);nn==4&&Ua(this),this.o&&!this.J&&(nn==4?Qx(this.j,this):(this.o=!1,qf(this)))}else N$(this.g),I==400&&0<ae.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Ua(this),Xl(this)}}}catch{}finally{}};function Sx(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function m$(f,_){var I=f.C,D=_.indexOf(`
`,I);return D==-1?qg:(I=Number(_.substring(I,D)),isNaN(I)?xx:(D+=1,D+I>_.length?qg:(_=_.slice(D,D+I),f.C=D+I,_)))}Li.prototype.cancel=function(){this.J=!0,Ua(this)};function qf(f){f.S=Date.now()+f.I,Tx(f,f.I)}function Tx(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Kl(p(f.ba,f),_)}function Gg(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Li.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(h$(this.i,this.A),this.L!=2&&(Gl(),vn(17)),Ua(this),this.s=2,Xl(this)):Tx(this,this.S-f)};function Xl(f){f.j.G==0||f.J||Qx(f.j,f)}function Ua(f){Gg(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,hx(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Kg(f,_){try{var I=f.j;if(I.G!=0&&(I.g==f||Yg(I.h,f))){if(!f.K&&Yg(I.h,f)&&I.G==3){try{var D=I.Da.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var z=D;if(z[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)ed(I),Jf(I);else break e;Zg(I),vn(18)}}else I.za=z[1],0<I.za-I.T&&37500>z[2]&&I.F&&I.v==0&&!I.C&&(I.C=Kl(p(I.Za,I),6e3));if(1>=Ox(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else za(I,11)}else if((f.K||I.g==f)&&ed(I),!y(_))for(z=I.Da.g.parse(_),_=0;_<z.length;_++){let Fe=z[_];if(I.T=Fe[0],Fe=Fe[1],I.G==2)if(Fe[0]=="c"){I.K=Fe[1],I.ia=Fe[2];const tn=Fe[3];tn!=null&&(I.la=tn,I.j.info("VER="+I.la));const nn=Fe[4];nn!=null&&(I.Aa=nn,I.j.info("SVER="+I.Aa));const qo=Fe[5];qo!=null&&typeof qo=="number"&&0<qo&&(D=1.5*qo,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const pr=f.g;if(pr){const nd=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nd){var K=D.h;K.g||nd.indexOf("spdy")==-1&&nd.indexOf("quic")==-1&&nd.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Xg(K,K.h),K.h=null))}if(D.D){const ty=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;ty&&(D.ya=ty,at(D.I,D.D,ty))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var ae=f;if(D.qa=eE(D,D.J?D.ia:null,D.W),ae.K){Ix(D.h,ae);var Je=ae,qt=D.L;qt&&(Je.I=qt),Je.B&&(Gg(Je),qf(Je)),D.g=ae}else Yx(D);0<I.i.length&&Zf(I)}else Fe[0]!="stop"&&Fe[0]!="close"||za(I,7);else I.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?za(I,7):Jg(I):Fe[0]!="noop"&&I.l&&I.l.ta(Fe),I.v=0)}}Gl(4)}catch{}}var g$=class{constructor(f,_){this.g=f,this.map=_}};function Ax(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Px(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ox(f){return f.h?1:f.g?f.g.size:0}function Yg(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Xg(f,_){f.g?f.g.add(_):f.h=_}function Ix(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Ax.prototype.cancel=function(){if(this.i=Cx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Cx(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const I of f.g.values())_=_.concat(I.D);return _}return w(f.i)}function y$(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],I=f.length,D=0;D<I;D++)_.push(f[D]);return _}_=[],I=0;for(D in f)_[I++]=f[D];return _}function v$(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var I=0;I<f;I++)_.push(I);return _}_=[],I=0;for(const D in f)_[I++]=D;return _}}}function kx(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var I=v$(f),D=y$(f),z=D.length,K=0;K<z;K++)_.call(void 0,D[K],I&&I[K],f)}var Nx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w$(f,_){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var D=f[I].indexOf("="),z=null;if(0<=D){var K=f[I].substring(0,D);z=f[I].substring(D+1)}else K=f[I];_(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ba(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ba){this.h=f.h,Hf(this,f.j),this.o=f.o,this.g=f.g,Gf(this,f.s),this.l=f.l;var _=f.i,I=new Zl;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),jx(this,I),this.m=f.m}else f&&(_=String(f).match(Nx))?(this.h=!1,Hf(this,_[1]||"",!0),this.o=Ql(_[2]||""),this.g=Ql(_[3]||"",!0),Gf(this,_[4]),this.l=Ql(_[5]||"",!0),jx(this,_[6]||"",!0),this.m=Ql(_[7]||"")):(this.h=!1,this.i=new Zl(null,this.h))}Ba.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Jl(_,Dx,!0),":");var I=this.g;return(I||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Jl(_,Dx,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(Jl(I,I.charAt(0)=="/"?x$:_$,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",Jl(I,S$)),f.join("")};function ti(f){return new Ba(f)}function Hf(f,_,I){f.j=I?Ql(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Gf(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function jx(f,_,I){_ instanceof Zl?(f.i=_,T$(f.i,f.h)):(I||(_=Jl(_,E$)),f.i=new Zl(_,f.h))}function at(f,_,I){f.i.set(_,I)}function Kf(f){return at(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ql(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Jl(f,_,I){return typeof f=="string"?(f=encodeURI(f).replace(_,b$),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function b$(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Dx=/[#\/\?@]/g,_$=/[#\?:]/g,x$=/[#\?]/g,E$=/[#\?@]/g,S$=/#/g;function Zl(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Vi(f){f.g||(f.g=new Map,f.h=0,f.i&&w$(f.i,function(_,I){f.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=Zl.prototype,t.add=function(f,_){Vi(this),this.i=null,f=zo(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(_),this.h+=1,this};function Rx(f,_){Vi(f),_=zo(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Mx(f,_){return Vi(f),_=zo(f,_),f.g.has(_)}t.forEach=function(f,_){Vi(this),this.g.forEach(function(I,D){I.forEach(function(z){f.call(_,z,D,this)},this)},this)},t.na=function(){Vi(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let D=0;D<_.length;D++){const z=f[D];for(let K=0;K<z.length;K++)I.push(_[D])}return I},t.V=function(f){Vi(this);let _=[];if(typeof f=="string")Mx(this,f)&&(_=_.concat(this.g.get(zo(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)_=_.concat(f[I])}return _},t.set=function(f,_){return Vi(this),this.i=null,f=zo(this,f),Mx(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function $x(f,_,I){Rx(f,_),0<I.length&&(f.i=null,f.g.set(zo(f,_),w(I)),f.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var D=_[I];const K=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var z=K;ae[D]!==""&&(z+="="+encodeURIComponent(String(ae[D]))),f.push(z)}}return this.i=f.join("&")};function zo(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function T$(f,_){_&&!f.j&&(Vi(f),f.i=null,f.g.forEach(function(I,D){var z=D.toLowerCase();D!=z&&(Rx(this,D),$x(this,z,I))},f)),f.j=_}function A$(f,_){const I=new Yl;if(s.Image){const D=new Image;D.onload=m(Fi,I,"TestLoadImage: loaded",!0,_,D),D.onerror=m(Fi,I,"TestLoadImage: error",!1,_,D),D.onabort=m(Fi,I,"TestLoadImage: abort",!1,_,D),D.ontimeout=m(Fi,I,"TestLoadImage: timeout",!1,_,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else _(!1)}function P$(f,_){const I=new Yl,D=new AbortController,z=setTimeout(()=>{D.abort(),Fi(I,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:D.signal}).then(K=>{clearTimeout(z),K.ok?Fi(I,"TestPingServer: ok",!0,_):Fi(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),Fi(I,"TestPingServer: error",!1,_)})}function Fi(f,_,I,D,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),D(I)}catch{}}function O$(){this.g=new c$}function I$(f,_,I){const D=I||"";try{kx(f,function(z,K){let ae=z;u(z)&&(ae=Fg(z)),_.push(D+K+"="+encodeURIComponent(ae))})}catch(z){throw _.push(D+"type="+encodeURIComponent("_badmap")),z}}function Yf(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Yf,Ug),Yf.prototype.g=function(){return new Xf(this.l,this.j)},Yf.prototype.i=function(f){return function(){return f}}({});function Xf(f,_){ce.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Xf,ce),t=Xf.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,tu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||s).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,tu(this)),this.g&&(this.readyState=3,tu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lx(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lx(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?eu(this):tu(this),this.readyState==3&&Lx(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,eu(this))},t.Qa=function(f){this.g&&(this.response=f,eu(this))},t.ga=function(){this.g&&eu(this)};function eu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,tu(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=_.next();return f.join(`\r
`)};function tu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vx(f){let _="";return P(f,function(I,D){_+=D,_+=":",_+=I,_+=`\r
`}),_}function Qg(f,_,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=Vx(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):at(f,_,I))}function yt(f){ce.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(yt,ce);var C$=/^https?$/i,k$=["POST","PUT"];t=yt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wg.g(),this.v=this.o?px(this.o):px(Wg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(K){Fx(this,K);return}if(f=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var z in D)I.set(z,D[z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())I.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(K=>K.toLowerCase()=="content-type"),z=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(k$,_,void 0))||D||z||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of I)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zx(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){Fx(this,K)}};function Fx(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Ux(f),Qf(f)}function Ux(f){f.A||(f.A=!0,Ee(f,"complete"),Ee(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ee(this,"complete"),Ee(this,"abort"),Qf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qf(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bx(this):this.bb())},t.bb=function(){Bx(this)};function Bx(f){if(f.h&&typeof o<"u"&&(!f.v[1]||ni(f)!=4||f.Z()!=2)){if(f.u&&ni(f)==4)yn(f.Ea,0,f);else if(Ee(f,"readystatechange"),ni(f)==4){f.h=!1;try{const ae=f.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var D;if(D=ae===0){var z=String(f.D).match(Nx)[1]||null;!z&&s.self&&s.self.location&&(z=s.self.location.protocol.slice(0,-1)),D=!C$.test(z?z.toLowerCase():"")}I=D}if(I)Ee(f,"complete"),Ee(f,"success");else{f.m=6;try{var K=2<ni(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",Ux(f)}}finally{Qf(f)}}}}function Qf(f,_){if(f.g){zx(f);const I=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Ee(f,"ready");try{I.onreadystatechange=D}catch{}}}function zx(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ni(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),u$(_)}};function Wx(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function N$(f){const _={};f=(f.g&&2<=ni(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(y(f[D]))continue;var I=k(f[D]);const z=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const K=_[z]||[];_[z]=K,K.push(I)}S(_,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nu(f,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||_}function qx(f){this.Aa=0,this.i=[],this.j=new Yl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nu("baseRetryDelayMs",5e3,f),this.cb=nu("retryDelaySeedMs",1e4,f),this.Wa=nu("forwardChannelMaxRetries",2,f),this.wa=nu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ax(f&&f.concurrentRequestLimit),this.Da=new O$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qx.prototype,t.la=8,t.G=1,t.connect=function(f,_,I,D){vn(0),this.W=f,this.H=_||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=eE(this,null,this.W),Zf(this)};function Jg(f){if(Hx(f),f.G==3){var _=f.U++,I=ti(f.I);if(at(I,"SID",f.K),at(I,"RID",_),at(I,"TYPE","terminate"),ru(f,I),_=new Li(f,f.j,_),_.L=2,_.v=Kf(ti(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&s.Image&&(new Image().src=_.v,I=!0),I||(_.g=tE(_.j,null),_.g.ea(_.v)),_.F=Date.now(),qf(_)}Zx(f)}function Jf(f){f.g&&(ey(f),f.g.cancel(),f.g=null)}function Hx(f){Jf(f),f.u&&(s.clearTimeout(f.u),f.u=null),ed(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Zf(f){if(!Px(f.h)&&!f.s){f.s=!0;var _=f.Ga;R||X(),B||(R(),B=!0),M.add(_,f),f.B=0}}function j$(f,_){return Ox(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Kl(p(f.Ga,f,_),Jx(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const z=new Li(this,this.j,f);let K=this.o;if(this.S&&(K?(K=v(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=Kx(this,z,_),I=ti(this.I),at(I,"RID",f),at(I,"CVER",22),this.D&&at(I,"X-HTTP-Session-Id",this.D),ru(this,I),K&&(this.O?_="headers="+encodeURIComponent(String(Vx(K)))+"&"+_:this.m&&Qg(I,this.m,K)),Xg(this.h,z),this.Ua&&at(I,"TYPE","init"),this.P?(at(I,"$req",_),at(I,"SID","null"),z.T=!0,Hg(z,I,null)):Hg(z,I,_),this.G=2}}else this.G==3&&(f?Gx(this,f):this.i.length==0||Px(this.h)||Gx(this))};function Gx(f,_){var I;_?I=_.l:I=f.U++;const D=ti(f.I);at(D,"SID",f.K),at(D,"RID",I),at(D,"AID",f.T),ru(f,D),f.m&&f.o&&Qg(D,f.m,f.o),I=new Li(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Kx(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Xg(f.h,I),Hg(I,D,_)}function ru(f,_){f.H&&P(f.H,function(I,D){at(_,D,I)}),f.l&&kx({},function(I,D){at(_,D,I)})}function Kx(f,_,I){I=Math.min(f.i.length,I);var D=f.l?p(f.l.Na,f.l,f):null;e:{var z=f.i;let K=-1;for(;;){const ae=["count="+I];K==-1?0<I?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Je=!0;for(let qt=0;qt<I;qt++){let Fe=z[qt].g;const tn=z[qt].map;if(Fe-=K,0>Fe)K=Math.max(0,z[qt].g-100),Je=!1;else try{I$(tn,ae,"req"+Fe+"_")}catch{D&&D(tn)}}if(Je){D=ae.join("&");break e}}}return f=f.i.splice(0,I),_.D=f,D}function Yx(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;R||X(),B||(R(),B=!0),M.add(_,f),f.v=0}}function Zg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Kl(p(f.Fa,f),Jx(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Xx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Kl(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Jf(this),Xx(this))};function ey(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function Xx(f){f.g=new Li(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=ti(f.qa);at(_,"RID","rpc"),at(_,"SID",f.K),at(_,"AID",f.T),at(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&at(_,"TO",f.ja),at(_,"TYPE","xmlhttp"),ru(f,_),f.m&&f.o&&Qg(_,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=Kf(ti(_)),I.m=null,I.P=!0,Ex(I,f)}t.Za=function(){this.C!=null&&(this.C=null,Jf(this),Zg(this),vn(19))};function ed(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function Qx(f,_){var I=null;if(f.g==_){ed(f),ey(f),f.g=null;var D=2}else if(Yg(f.h,_))I=_.D,Ix(f.h,_),D=1;else return;if(f.G!=0){if(_.o)if(D==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var z=f.B;D=Bf(),Ee(D,new wx(D,I)),Zf(f)}else Yx(f);else if(z=_.s,z==3||z==0&&0<_.X||!(D==1&&j$(f,_)||D==2&&Zg(f)))switch(I&&0<I.length&&(_=f.h,_.i=_.i.concat(I)),z){case 1:za(f,5);break;case 4:za(f,10);break;case 3:za(f,6);break;default:za(f,2)}}}function Jx(f,_){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*_}function za(f,_){if(f.j.info("Error code "+_),_==2){var I=p(f.fb,f),D=f.Xa;const z=!D;D=new Ba(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Hf(D,"https"),Kf(D),z?A$(D.toString(),I):P$(D.toString(),I)}else vn(2);f.G=0,f.l&&f.l.sa(_),Zx(f),Hx(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function Zx(f){if(f.G=0,f.ka=[],f.l){const _=Cx(f.h);(_.length!=0||f.i.length!=0)&&(x(f.ka,_),x(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function eE(f,_,I){var D=I instanceof Ba?ti(I):new Ba(I);if(D.g!="")_&&(D.g=_+"."+D.g),Gf(D,D.s);else{var z=s.location;D=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var K=new Ba(null);D&&Hf(K,D),_&&(K.g=_),z&&Gf(K,z),I&&(K.l=I),D=K}return I=f.D,_=f.ya,I&&_&&at(D,I,_),at(D,"VER",f.la),ru(f,D),D}function tE(f,_,I){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new yt(new Yf({eb:I})):new yt(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nE(){}t=nE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function td(){}td.prototype.g=function(f,_){return new Rn(f,_)};function Rn(f,_){ce.call(this),this.g=new qx(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!y(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Wo(this)}g(Rn,ce),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Jg(this.g)},Rn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=Fg(f),f=I);_.i.push(new g$(_.Ya++,f)),_.G==3&&Zf(_)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Jg(this.g),delete this.g,Rn.aa.N.call(this)};function rE(f){Bg.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const I in _){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}g(rE,Bg);function iE(){zg.call(this),this.status=1}g(iE,zg);function Wo(f){this.g=f}g(Wo,nE),Wo.prototype.ua=function(){Ee(this.g,"a")},Wo.prototype.ta=function(f){Ee(this.g,new rE(f))},Wo.prototype.sa=function(f){Ee(this.g,new iE)},Wo.prototype.ra=function(){Ee(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,o2=function(){return new td},a2=function(){return Bf()},i2=Fa,x0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zf.NO_ERROR=0,zf.TIMEOUT=8,zf.HTTP_ERROR=6,lh=zf,bx.COMPLETE="complete",r2=bx,mx.EventType=Hl,Hl.OPEN="a",Hl.CLOSE="b",Hl.ERROR="c",Hl.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Nu=mx,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,n2=yt}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const GS="@firebase/firestore",KS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new s_("@firebase/firestore");function Zo(){return Ao.logLevel}function fe(t,...e){if(Ao.logLevel<=Ne.DEBUG){const n=e.map(v_);Ao.debug(`Firestore (${Pl}): ${t}`,...n)}}function Ai(t,...e){if(Ao.logLevel<=Ne.ERROR){const n=e.map(v_);Ao.error(`Firestore (${Pl}): ${t}`,...n)}}function zs(t,...e){if(Ao.logLevel<=Ne.WARN){const n=e.map(v_);Ao.warn(`Firestore (${Pl}): ${t}`,...n)}}function v_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,s2(t,r,n)}function s2(t,e,n){let r=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ai(r),new Error(r)}function qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||s2(e,i,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class MU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $U{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new l2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class LU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new LU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new YS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function E0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return My(i)===My(a)?je(i,a):My(i)?1:-1}return je(t.length,e.length)}const BU=55296,zU=57343;function My(t){const e=t.charCodeAt(0);return e>=BU&&e<=zU}function Ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="__name__";class $r{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=$r.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return je(e.length,n.length)}static compareSegments(e,n){const r=$r.isNumericId(e),i=$r.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$r.extractNumericId(e).compare($r.extractNumericId(n)):E0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class rt extends $r{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const WU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends $r{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return WU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XS}static keyField(){return new Yt([XS])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(rt.fromString(e))}static fromName(e){return new ve(rt.fromString(e).popFirst(5))}static empty(){return new ve(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qU(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QS(t){if(!ve.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JS(t){if(ve.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pf(t,e){if(!c2(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=-62135596800,eT=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eT);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ZS)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pf(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ct("string",ut._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ut(0,0))}static max(){return new Se(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=-1;function HU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new _a(i,ve.empty(),e)}function GU(t){return new _a(t.readTime,t.key,Tc)}class _a{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _a(Se.min(),ve.empty(),Tc)}static max(){return new _a(Se.max(),ve.empty(),Tc)}}function KU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==YU)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Z((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function QU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=-1;function jm(t){return t==null}function Yh(t){return t===0&&1/t==-1/0}function JU(t){return typeof t=="number"&&Number.isInteger(t)&&!Yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="";function ZU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tT(e)),e=eB(t.get(n),e);return tT(e)}function eB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case f2:n+="";break;default:n+=a}}return n}function tT(t){return t+f2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(e){return new rT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class rT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Lt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new h2("Invalid base64 string: "+a):a}}(e);return new en(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const tB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=tB.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ea(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="server_timestamp",m2="__type__",g2="__previous_value__",y2="__local_write_time__";function __(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[m2])==null?void 0:r.stringValue)===p2}function Dm(t){const e=t.mapValue.fields[g2];return __(e)?Dm(e):e}function Ac(t){const e=xa(t.mapValue.fields[y2].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n,r,i,a,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Xh="(default)";class Pc{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="__type__",rB="__max__",Sd={mapValue:{}},w2="__vector__",Qh="value";function Sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:aB(t)?9007199254740991:iB(t)?10:11:_e(28295,{value:t})}function Qr(t,e){if(t===e)return!0;const n=Sa(t);if(n!==Sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ac(t).isEqual(Ac(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=xa(i.timestampValue),s=xa(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ea(i.bytesValue).isEqual(Ea(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return _t(i.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return _t(i.integerValue)===_t(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=_t(i.doubleValue),s=_t(a.doubleValue);return o===s?Yh(o)===Yh(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(nT(o)!==nT(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Qr(o[l],s[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function Oc(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function qs(t,e){if(t===e)return 0;const n=Sa(t),r=Sa(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=_t(a.integerValue||a.doubleValue),l=_t(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return iT(t.timestampValue,e.timestampValue);case 4:return iT(Ac(t),Ac(e));case 5:return E0(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Ea(a),l=Ea(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=je(s[u],l[u]);if(c!==0)return c}return je(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=je(_t(a.latitude),_t(o.latitude));return s!==0?s:je(_t(a.longitude),_t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aT(t.arrayValue,e.arrayValue);case 10:return function(a,o){var p,m,g,w;const s=a.fields||{},l=o.fields||{},u=(p=s[Qh])==null?void 0:p.arrayValue,c=(m=l[Qh])==null?void 0:m.arrayValue,d=je(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((w=c==null?void 0:c.values)==null?void 0:w.length)||0);return d!==0?d:aT(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Sd.mapValue&&o===Sd.mapValue)return 0;if(a===Sd.mapValue)return 1;if(o===Sd.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=E0(l[d],c[d]);if(p!==0)return p;const m=qs(s[l[d]],u[c[d]]);if(m!==0)return m}return je(l.length,c.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function iT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=xa(t),r=xa(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function aT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=qs(n[i],r[i]);if(a)return a}return je(n.length,r.length)}function Hs(t){return S0(t)}function S0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ea(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=S0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${S0(n.fields[o])}`;return i+"}"}(t.mapValue):_e(61005,{value:t})}function uh(t){switch(Sa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dm(t);return e?16+uh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ea(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+uh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Na(r.fields,(a,o)=>{i+=a.length+uh(o)}),i}(t.mapValue);default:throw _e(13486,{value:t})}}function oT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T0(t){return!!t&&"integerValue"in t}function x_(t){return!!t&&"arrayValue"in t}function sT(t){return!!t&&"nullValue"in t}function lT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function iB(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[v2])==null?void 0:r.stringValue)===w2}function Qu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Na(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qu(t.arrayValue.values[n]);return e}return{...t}}function aB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=Qu(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Na(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Pn(Qu(this.value))}}function b2(t){const e=[];return Na(t.fields,(n,r)=>{const i=new Yt([n]);if(ch(r)){const a=b2(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new cn(e,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.position=e,this.inclusive=n}}function uT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),n.key):r=qs(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function cT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function oB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{}class It extends _2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lB(e,n,r):n==="array-contains"?new fB(e,r):n==="in"?new dB(e,r):n==="not-in"?new hB(e,r):n==="array-contains-any"?new pB(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uB(e,r):new cB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qs(n,this.value)):n!==null&&Sa(this.value)===Sa(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends _2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nr(e,n)}matches(e){return x2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x2(t){return t.op==="and"}function E2(t){return sB(t)&&x2(t)}function sB(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function A0(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+Hs(t.value);if(E2(t))return t.filters.map(e=>A0(e)).join(",");{const e=t.filters.map(n=>A0(n)).join(",");return`${t.op}(${e})`}}function S2(t,e){return t instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&S2(o,i.filters[s]),!0):!1}(t,e):void _e(19439)}function T2(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${Hs(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(T2).join(" ,")+"}"}(t):"Filter"}class lB extends It{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class uB extends It{constructor(e,n){super(e,"in",n),this.keys=A2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cB extends It{constructor(e,n){super(e,"not-in",n),this.keys=A2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function A2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class fB extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x_(n)&&Oc(n.arrayValue,this.value)}}class dB extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}}class hB extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oc(this.value.arrayValue,n)}}class pB extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function fT(t,e=null,n=[],r=[],i=null,a=null,o=null){return new mB(t,e,n,r,i,a,o)}function E_(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>A0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),jm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hs(r)).join(",")),e.Te=n}return e.Te}function S_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cT(t.startAt,e.startAt)&&cT(t.endAt,e.endAt)}function P0(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gB(t,e,n,r,i,a,o,s){return new Cl(t,e,n,r,i,a,o,s)}function Rm(t){return new Cl(t)}function dT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P2(t){return t.collectionGroup!==null}function Ju(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Lt(Yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ic(a,r))}),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Ic(Yt.keyField(),r))}return e.Ie}function qr(t){const e=Ae(t);return e.Ee||(e.Ee=yB(e,Ju(t))),e.Ee}function yB(t,e){if(t.limitType==="F")return fT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ic(i.field,a)});const n=t.endAt?new Jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jh(t.startAt.position,t.startAt.inclusive):null;return fT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function O0(t,e){const n=t.filters.concat([e]);return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function I0(t,e,n){return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mm(t,e){return S_(qr(t),qr(e))&&t.limitType===e.limitType}function O2(t){return`${E_(qr(t))}|lt:${t.limitType}`}function es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>T2(i)).join(", ")}]`),jm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hs(i)).join(",")),`Target(${r})`}(qr(t))}; limitType=${t.limitType})`}function $m(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Ju(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=uT(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,Ju(r),i)||r.endAt&&!function(o,s,l){const u=uT(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,Ju(r),i))}(t,e)}function vB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I2(t){return(e,n)=>{let r=!1;for(const i of Ju(t)){const a=wB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function wB(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?qs(l,u):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return d2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new gt(ve.comparator);function Pi(){return bB}const C2=new gt(ve.comparator);function ju(...t){let e=C2;for(const n of t)e=e.insert(n.key,n);return e}function k2(t){let e=C2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function to(){return Zu()}function N2(){return Zu()}function Zu(){return new Ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const _B=new gt(ve.comparator),xB=new Lt(ve.comparator);function De(...t){let e=xB;for(const n of t)e=e.add(n);return e}const EB=new Lt(je);function SB(){return EB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function j2(t){return{integerValue:""+t}}function TB(t,e){return JU(e)?j2(e):T_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this._=void 0}}function AB(t,e,n){return t instanceof Zh?function(i,a){const o={fields:{[m2]:{stringValue:p2},[y2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&__(a)&&(a=Dm(a)),a&&(o.fields[g2]=a),{mapValue:o}}(n,e):t instanceof Cc?R2(t,e):t instanceof kc?M2(t,e):function(i,a){const o=D2(i,a),s=hT(o)+hT(i.Ae);return T0(o)&&T0(i.Ae)?j2(s):T_(i.serializer,s)}(t,e)}function PB(t,e,n){return t instanceof Cc?R2(t,e):t instanceof kc?M2(t,e):n}function D2(t,e){return t instanceof ep?function(r){return T0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Zh extends Lm{}class Cc extends Lm{constructor(e){super(),this.elements=e}}function R2(t,e){const n=$2(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class kc extends Lm{constructor(e){super(),this.elements=e}}function M2(t,e){let n=$2(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class ep extends Lm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hT(t){return _t(t.integerValue||t.doubleValue)}function $2(t){return x_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cc&&i instanceof Cc||r instanceof kc&&i instanceof kc?Ws(r.elements,i.elements,Qr):r instanceof ep&&i instanceof ep?Qr(r.Ae,i.Ae):r instanceof Zh&&i instanceof Zh}(t.transform,e.transform)}class IB{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vm{}function L2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new A_(t.key,Ir.none()):new Of(t.key,t.data,Ir.none());{const n=t.data,r=Pn.empty();let i=new Lt(Yt.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new ja(t.key,r,new Bn(i.toArray()),Ir.none())}}function CB(t,e,n){t instanceof Of?function(i,a,o){const s=i.value.clone(),l=mT(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ja?function(i,a,o){if(!fh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=mT(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(V2(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n,r){return t instanceof Of?function(a,o,s,l){if(!fh(a.precondition,o))return s;const u=a.value.clone(),c=gT(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ja?function(a,o,s,l){if(!fh(a.precondition,o))return s;const u=gT(a.fieldTransforms,l,o),c=o.data;return c.setAll(V2(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return fh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function kB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=D2(r.transform,i||null);a!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,a))}return n||null}function pT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ws(r,i,(a,o)=>OB(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Of extends Vm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ja extends Vm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function V2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mT(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,PB(o,s,n[i]))}return r}function gT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,AB(a,o,e))}return r}class A_ extends Vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NB extends Vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&CB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=N2();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=L2(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,r)=>pT(n,r))&&Ws(this.baseMutations,e.baseMutations,(n,r)=>pT(n,r))}}class P_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return _B}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new P_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Me;function MB(t){switch(t){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function F2(t){if(t===void 0)return Ai("GRPC error has no .code"),Q.UNKNOWN;switch(t){case At.OK:return Q.OK;case At.CANCELLED:return Q.CANCELLED;case At.UNKNOWN:return Q.UNKNOWN;case At.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case At.INTERNAL:return Q.INTERNAL;case At.UNAVAILABLE:return Q.UNAVAILABLE;case At.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case At.NOT_FOUND:return Q.NOT_FOUND;case At.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case At.ABORTED:return Q.ABORTED;case At.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case At.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:t})}}(Me=At||(At={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=new ma([4294967295,4294967295],0);function yT(t){const e=$B().encode(t),n=new t2;return n.update(e),new Uint8Array(n.digest())}function vT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ma([n,r],0),new ma([i,a],0)]}class O_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Du(`Invalid padding: ${n}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Du(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ma.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ma.fromNumber(r)));return i.compare(LB)===1&&(i=new ma([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yT(e),[r,i]=vT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new O_(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const n=yT(e),[r,i]=vT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,If.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fm(Se.min(),i,new gt(je),Pi(),De())}}class If{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new If(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class U2{constructor(e,n){this.targetId=e,this.Ce=n}}class B2{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wT{constructor(){this.ve=0,this.Fe=bT(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),r=De();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}}),new If(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=Td(),this.He=Td(),this.Ye=new gt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(P0(a))if(r===0){const o=new ve(a.path);this.et(n,o,cn.newNoDocument(o,Se.min()))}else qe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Ea(r).toUint8Array()}catch(l){if(l instanceof h2)return zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new O_(o,i,a)}catch(l){return zs(l instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&P0(s.target)){const l=new ve(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,cn.newNoDocument(l,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let r=De();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new Fm(e,n,this.Ye,this.je,r);return this.je=Pi(),this.Je=Td(),this.He=Td(),this.Ye=new gt(je),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Td(){return new gt(ve.comparator)}function bT(){return new gt(ve.comparator)}const FB={asc:"ASCENDING",desc:"DESCENDING"},UB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BB={and:"AND",or:"OR"};class zB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C0(t,e){return t.useProto3Json||jm(e)?e:{value:e}}function tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WB(t,e){return tp(t,e.toTimestamp())}function Hr(t){return qe(!!t,49232),Se.fromTimestamp(function(n){const r=xa(n);return new ut(r.seconds,r.nanos)}(t))}function I_(t,e){return k0(t,e).canonicalString()}function k0(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function W2(t){const e=rt.fromString(t);return qe(Y2(e),10190,{key:e.toString()}),e}function N0(t,e){return I_(t.databaseId,e.path)}function $y(t,e){const n=W2(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(H2(n))}function q2(t,e){return I_(t.databaseId,e)}function qB(t){const e=W2(t);return e.length===4?rt.emptyPath():H2(e)}function j0(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H2(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _T(t,e,n){return{name:N0(t,e),fields:n.value.mapValue.fields}}function HB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(qe(c===void 0||typeof c=="string",58123),en.fromBase64String(c||"")):(qe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),en.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?Q.UNKNOWN:F2(u.code);return new le(c,u.message||"")}(o);n=new B2(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$y(t,r.document.name),a=Hr(r.document.updateTime),o=r.document.createTime?Hr(r.document.createTime):Se.min(),s=new Pn({mapValue:{fields:r.document.fields}}),l=cn.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new dh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$y(t,r.document),a=r.readTime?Hr(r.readTime):Se.min(),o=cn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new dh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$y(t,r.document),a=r.removedTargetIds||[];n=new dh([],a,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new RB(i,a),s=r.targetId;n=new U2(s,o)}}return n}function GB(t,e){let n;if(e instanceof Of)n={update:_T(t,e.key,e.value)};else if(e instanceof A_)n={delete:N0(t,e.key)};else if(e instanceof ja)n={update:_T(t,e.key,e.data),updateMask:n9(e.fieldMask)};else{if(!(e instanceof NB))return _e(16599,{Vt:e.type});n={verify:N0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Zh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof kc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ep)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:WB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)}(t,e.precondition)),n}function KB(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Hr(i.updateTime):Hr(a);return o.isEqual(Se.min())&&(o=Hr(a)),new IB(o,i.transformResults||[])}(n,e))):[]}function YB(t,e){return{documents:[q2(t,e.path)]}}function XB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q2(t,i);const a=function(u){if(u.length!==0)return K2(Nr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:ts(p.field),direction:ZB(p.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=C0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function QB(t){let e=qB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(d){const p=G2(d);return p instanceof Nr&&E2(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(g){return new Ic(ns(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let s=null;n.limit&&(s=function(d){let p;return p=typeof d=="object"?d.value:d,jm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new Jh(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new Jh(m,p)}(n.endAt)),gB(e,i,o,a,s,"F",l,u)}function JB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ns(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ns(n.unaryFilter.field);return It.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ns(n.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ns(n.unaryFilter.field);return It.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return It.create(ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>G2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function ZB(t){return FB[t]}function e9(t){return UB[t]}function t9(t){return BB[t]}function ts(t){return{fieldPath:t.canonicalString()}}function ns(t){return Yt.fromServerFormat(t.fieldPath)}function K2(t){return t instanceof It?function(n){if(n.op==="=="){if(lT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(sT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(sT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:e9(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>K2(i));return r.length===1?r[0]:{compositeFilter:{op:t9(n.op),filters:r}}}(t):_e(54877,{filter:t})}function n9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r,i,a=Se.min(),o=Se.min(),s=en.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.yt=e}}function i9(t){const e=QB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?I0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.Cn=new o9}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(_a.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class o9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(rt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X2=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(X2,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gs(0)}static cr(){return new Gs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="LruGarbageCollector",s9=1048576;function ST([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class l9{constructor(e){this.Ir=e,this.buffer=new Lt(ST),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ST(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(ET,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Il(n)?fe(ET,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)})}}class c9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Nm.ce);const r=new l9(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(xT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Zo()<=Ne.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function f9(t,e){return new c9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this.changes=new Ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ec(r.mutation,i,Bn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=to();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=ju();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=to();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Pi();const o=Zu(),s=function(){return Zu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ja)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ec(c.mutation,u,c.mutation.getFieldMask(),ut.now())):o.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>s.set(u,new h9(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=Zu();let i=new gt((o,s)=>o-s),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||De()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=N2();c.forEach(p=>{if(!a.has(p)){const m=L2(n.get(p),r.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Z.resolve(to());let s=Tc,l=a;return o.next(u=>Z.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?Z.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,De())).next(c=>({batchId:s,changes:k2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=ju();return this.indexManager.getCollectionParents(e,a).next(s=>Z.forEach(s,l=>{const u=function(d,p){return new Cl(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,cn.newInvalidDocument(c)))});let s=ju();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&ec(c.mutation,u,Bn.empty(),ut.now()),$m(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hr(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:i9(i.bundledQuery),readTime:Hr(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.overlays=new gt(ve.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=to();return Z.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=to(),a=n.length+1,o=new ve(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new gt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=to(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=to(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Z.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DB(n,r));let a=this.qr.get(n);a===void 0&&(a=De(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.Qr=new Lt(Ft.$r),this.Ur=new Lt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ve(new rt([])),r=new Ft(n,e),i=new Ft(n,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new rt([])),r=new Ft(n,e),i=new Ft(n,e+1);let a=De();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Ft.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jB(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Ft(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?b_:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(je);return n.forEach(i=>{const a=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{r=r.add(s.Yr)})}),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const o=new Ft(new ve(a),0);let s=new Lt(je);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),Z.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,i=>{const a=new Ft(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.ri=e,this.docs=function(){return new gt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Pi();const o=n.path,s=new ve(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KU(GU(c),r)<=0||(i.has(c.key)||$m(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new b9(this)}getSize(e){return Z.resolve(this.size)}}class b9 extends d9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.persistence=e,this.si=new Ro(n=>E_(n),S_),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new C_,this.targetCount=0,this.ai=Gs.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Gs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(a).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nm(0),this.li=!1,this.li=!0,this.hi=new y9,this.referenceDelegate=e(this),this.Pi=new _9(this),this.indexManager=new a9,this.remoteDocumentCache=function(i){return new w9(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new r9(n),this.Ii=new m9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new v9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new x9(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return Z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class x9 extends XU{constructor(e){super(),this.currentSequenceNumber=e}}class k_{constructor(e){this.persistence=e,this.Ri=new C_,this.Vi=null}static mi(e){return new k_(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,r=>{const i=ve.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,Se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class np{constructor(e,n){this.persistence=e,this.pi=new Ro(r=>ZU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=f9(this,n)}static mi(e,n){return new np(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?Z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(s=>{s||(r++,a.removeEntry(o,Se.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}br(e,n,r){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=De(),i=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new N_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YV()?8:QU(mn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new E9;return this.Ss(e,n,o).next(s=>{if(a.result=s,this.Vs)return this.bs(e,n,o,s.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Zo()<=Ne.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Zo()<=Ne.DEBUG&&fe("QueryEngine","Query:",es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Zo()<=Ne.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):Z.resolve())}ys(e,n){if(dT(n))return Z.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=I0(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=De(...a);return this.ps.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,o,l.readTime)?this.ys(e,I0(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return dT(n)||i.isEqual(Se.min())?Z.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?Z.resolve(null):(Zo()<=Ne.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(n)),this.vs(e,o,n,HU(i,Tc)).next(s=>s))})}Ds(e,n){let r=new Lt(I2(e));return n.forEach((i,a)=>{$m(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Zo()<=Ne.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",es(n)),this.ps.getDocumentsMatchingQuery(e,n,_a.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="LocalStore",T9=3e8;class A9{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new gt(je),this.xs=new Ro(a=>E_(a),S_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function P9(t,e,n,r){return new A9(t,e,n,r)}async function J2(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=De();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function O9(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,p=d.keys();let m=Z.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(w=>{const x=u.docVersions.get(g);qe(x!==null,48541),w.version.compareTo(x)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=De();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Z2(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function I9(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;s.push(n.Pi.removeMatchingKeys(a,c.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(a,c.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(en.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(w,x,b){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=T9?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,c)&&s.push(n.Pi.updateTargetData(a,m))});let l=Pi(),u=De();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(C9(a,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(Se.min())){const c=n.Pi.getLastRemoteSnapshotVersion(a).next(d=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return Z.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function C9(t,e,n){let r=De(),i=De();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Pi();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):fe(j_,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function k9(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=b_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N9(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,Z.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new na(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function D0(t,e,n){const r=Ae(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Il(o))throw o;fe(j_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function TT(t,e,n){const r=Ae(t);let i=Se.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ae(l),p=d.xs.get(c);return p!==void 0?Z.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,c)}(r,o,qr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?a:De())).next(s=>(j9(r,vB(e),s),{documents:s,Qs:a})))}function j9(t,e,n){let r=t.Os.get(e)||Se.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class AT{constructor(){this.activeTargetIds=SB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D9{constructor(){this.Mo=new AT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="ConnectivityMonitor";class OT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(PT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(PT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function R0(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="RestConnection",M9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=R0(),s=this.zo(e,n.toUriEncodedString());fe(Ly,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),c=Sl(u);return this.Jo(e,s,l,r,c).then(d=>(fe(Ly,`Received RPC '${e}' ${o}: `,d),d),d=>{throw zs(Ly,`RPC '${e}' ${o} failed with error: `,d,"url: ",s,"request:",r),d})}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=M9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class V9 extends $9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=R0();return new Promise((s,l)=>{const u=new n2;u.setWithCredentials(!0),u.listenOnce(r2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lh.NO_ERROR:const d=u.getResponseJson();fe(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case lh.TIMEOUT:fe(on,`RPC '${e}' ${o} timed out`),l(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const p=u.getStatus();if(fe(on,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(y)>=0?y:Q.UNKNOWN}(g.status);l(new le(w,g.message))}else l(new le(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{fe(on,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);fe(on,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=R0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o2(),s=a2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");fe(on,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let p=!1,m=!1;const g=new L9({Yo:x=>{m?fe(on,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(fe(on,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),fe(on,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},Zo:()=>d.close()}),w=(x,b,y)=>{x.listen(b,E=>{try{y(E)}catch(N){setTimeout(()=>{throw N},0)}})};return w(d,Nu.EventType.OPEN,()=>{m||(fe(on,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),w(d,Nu.EventType.CLOSE,()=>{m||(m=!0,fe(on,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(d))}),w(d,Nu.EventType.ERROR,x=>{m||(m=!0,zs(on,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),g.a_(new le(Q.UNAVAILABLE,"The operation could not be completed")))}),w(d,Nu.EventType.MESSAGE,x=>{var b;if(!m){const y=x.data[0];qe(!!y,16349);const E=y,N=(E==null?void 0:E.error)||((b=E[0])==null?void 0:b.error);if(N){fe(on,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let P=function(T){const O=At[T];if(O!==void 0)return F2(O)}(A),S=N.message;P===void 0&&(P=Q.INTERNAL,S="Unknown error status: "+A+" with message "+N.message),m=!0,g.a_(new le(P,S)),d.close()}else fe(on,`RPC '${e}' stream ${i} received:`,y),g.u_(y)}}),w(s,i2.STAT_EVENT,x=>{x.stat===x0.PROXY?fe(on,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===x0.NOPROXY&&fe(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){return new zB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="PersistentStream";class tj{constructor(e,n,r,i,a,o,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ej(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F9 extends tj{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HB(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Hr(o.readTime):Se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=j0(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=P0(l)?{documents:YB(a,l)}:{query:XB(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=z2(a,o.resumeToken);const u=C0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){s.readTime=tp(a,o.snapshotVersion.toTimestamp());const u=C0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=JB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=j0(this.serializer),n.removeTarget=e,this.q_(n)}}class U9 extends tj{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KB(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=j0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{}class z9 extends B9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,k0(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(e,k0(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Q.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class W9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="RemoteStore";class q9{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Mo(this)&&(fe(Po,"Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.Ea.add(4),await Cf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Bm(u)}(this))})}),this.Ra=new W9(r,i)}}async function Bm(t){if(Mo(t))for(const e of t.da)await e(!0)}async function Cf(t){for(const e of t.da)await e(!1)}function nj(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$_(n)?M_(n):kl(n).O_()&&R_(n,e))}function D_(t,e){const n=Ae(t),r=kl(n);n.Ia.delete(e),r.O_()&&rj(n,e),n.Ia.size===0&&(r.O_()?r.L_():Mo(n)&&n.Ra.set("Unknown"))}function R_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).Y_(e)}function rj(t,e){t.Va.Ue(e),kl(t).Z_(e)}function M_(t){t.Va=new VB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Ra.ua()}function $_(t){return Mo(t)&&!kl(t).x_()&&t.Ia.size>0}function Mo(t){return Ae(t).Ea.size===0}function ij(t){t.Va=void 0}async function H9(t){t.Ra.set("Online")}async function G9(t){t.Ia.forEach((e,n)=>{R_(t,e)})}async function K9(t,e){ij(t),$_(t)?(t.Ra.ha(e),M_(t)):t.Ra.set("Unknown")}async function Y9(t,e,n){if(t.Ra.set("Online"),e instanceof B2&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){fe(Po,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rp(t,r)}else if(e instanceof dh?t.Va.Ze(e):e instanceof U2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const r=await Z2(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(en.EMPTY_BYTE_STRING,c.snapshotVersion)),rj(a,l);const d=new na(c.target,l,u,c.sequenceNumber);R_(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){fe(Po,"Failed to raise snapshot:",r),await rp(t,r)}}async function rp(t,e,n){if(!Il(e))throw e;t.Ea.add(1),await Cf(t),t.Ra.set("Offline"),n||(n=()=>Z2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Po,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bm(t)})}function aj(t,e){return e().catch(n=>rp(t,n,e))}async function zm(t){const e=Ae(t),n=Ta(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:b_;for(;X9(e);)try{const i=await k9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Q9(e,i)}catch(i){await rp(e,i)}oj(e)&&sj(e)}function X9(t){return Mo(t)&&t.Ta.length<10}function Q9(t,e){t.Ta.push(e);const n=Ta(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oj(t){return Mo(t)&&!Ta(t).x_()&&t.Ta.length>0}function sj(t){Ta(t).start()}async function J9(t){Ta(t).ra()}async function Z9(t){const e=Ta(t);for(const n of t.Ta)e.ea(n.mutations)}async function e5(t,e,n){const r=t.Ta.shift(),i=P_.from(r,e,n);await aj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zm(t)}async function t5(t,e){e&&Ta(t).X_&&await async function(r,i){if(function(o){return MB(o)&&o!==Q.ABORTED}(i.code)){const a=r.Ta.shift();Ta(r).B_(),await aj(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await zm(r)}}(t,e),oj(t)&&sj(t)}async function CT(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),fe(Po,"RemoteStore received new credentials");const r=Mo(n);n.Ea.add(3),await Cf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bm(n)}async function n5(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Bm(n)):e||(n.Ea.add(2),await Cf(n),n.Ra.set("Unknown"))}function kl(t){return t.ma||(t.ma=function(n,r,i){const a=Ae(n);return a.sa(),new F9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:H9.bind(null,t),t_:G9.bind(null,t),r_:K9.bind(null,t),H_:Y9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),$_(t)?M_(t):t.Ra.set("Unknown")):(await t.ma.stop(),ij(t))})),t.ma}function Ta(t){return t.fa||(t.fa=function(n,r,i){const a=Ae(n);return a.sa(),new U9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:J9.bind(null,t),r_:t5.bind(null,t),ta:Z9.bind(null,t),na:e5.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await zm(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Po,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new L_(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),Il(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{static emptySet(e){return new Os(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=ju(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Os;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.ga=new gt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ks{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Ks(e,n,Os.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class i5{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ae(n),a=i.queries;i.queries=NT(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function NT(){return new Ro(t=>O2(t),Mm)}async function F_(t,e){const n=Ae(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new r5,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=V_(o,`Initialization of query '${es(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&B_(n)}async function U_(t,e){const n=Ae(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a5(t,e){const n=Ae(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(r=!0);o.wa=i}}r&&B_(n)}function o5(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function B_(t){t.Ca.forEach(e=>{e.next()})}var M0,jT;(jT=M0||(M0={})).Ma="default",jT.Cache="cache";class z_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==M0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.key=e}}class uj{constructor(e){this.key=e}}class s5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=I2(e),this.tu=new Os(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new kT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const p=i.get(c),m=$m(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?g!==w&&(r.track({type:3,doc:m}),x=!0):this.su(p,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(s=!0)),x&&(m?(o=o.add(m),a=w?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Cs:s,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,d)=>function(m,g){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:x})}};return w(m)-w(g)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Ks(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new uj(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new lj(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ks.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const W_="SyncEngine";class l5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class u5{constructor(e){this.key=e,this.hu=!1}}class c5{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ro(s=>O2(s),Mm),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ve.comparator),this.Au=new Map,this.Ru=new C_,this.Vu={},this.mu=new Map,this.fu=Gs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f5(t,e,n=!0){const r=mj(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await cj(r,e,n,!0),i}async function d5(t,e){const n=mj(t);await cj(n,e,!0,!1)}async function cj(t,e,n,r){const i=await N9(t.localStore,qr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await h5(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&nj(t.remoteStore,i),s}async function h5(t,e,n,r,i){t.pu=(d,p,m)=>async function(w,x,b,y){let E=x.view.ru(b);E.Cs&&(E=await TT(w.localStore,x.query,!1).then(({documents:S})=>x.view.ru(S,E)));const N=y&&y.targetChanges.get(x.targetId),A=y&&y.targetMismatches.get(x.targetId)!=null,P=x.view.applyChanges(E,w.isPrimaryClient,N,A);return RT(w,x.targetId,P.au),P.snapshot}(t,d,p,m);const a=await TT(t.localStore,e,!0),o=new s5(e,a.Qs),s=o.ru(a.documents),l=If.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);RT(t,n,u.au);const c=new l5(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function p5(t,e,n){const r=Ae(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!Mm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await D0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&D_(r.remoteStore,i.targetId),$0(r,i.targetId)}).catch(Ol)):($0(r,i.targetId),await D0(r.localStore,i.targetId,!0))}async function m5(t,e){const n=Ae(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),D_(n.remoteStore,r.targetId))}async function g5(t,e,n){const r=E5(t);try{const i=await function(o,s){const l=Ae(o),u=ut.now(),c=s.reduce((m,g)=>m.add(g.key),De());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Pi(),w=De();return l.Ns.getEntries(m,c).next(x=>{g=x,g.forEach((b,y)=>{y.isValidDocument()||(w=w.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(x=>{d=x;const b=[];for(const y of s){const E=kB(y,d.get(y.key).overlayedDocument);E!=null&&b.push(new ja(y.key,E,b2(E.value.mapValue),Ir.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,s)}).next(x=>{p=x;const b=x.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(m,x.batchId,b)})}).then(()=>({batchId:p.batchId,changes:k2(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new gt(je)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await kf(r,i.changes),await zm(r.remoteStore)}catch(i){const a=V_(i,"Failed to persist write");n.reject(a)}}async function fj(t,e){const n=Ae(t);try{const r=await I9(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?qe(o.hu,14607):i.removedDocuments.size>0&&(qe(o.hu,42227),o.hu=!1))}),await kf(n,r,e)}catch(r){await Ol(r)}}function DT(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Ae(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.Sa)p.va(s)&&(u=!0)}),u&&B_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y5(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new gt(ve.comparator);o=o.insert(a,cn.newNoDocument(a,Se.min()));const s=De().add(a),l=new Fm(Se.min(),new Map,new gt(je),o,s);await fj(r,l),r.du=r.du.remove(a),r.Au.delete(e),q_(r)}else await D0(r.localStore,e,!1).then(()=>$0(r,e,n)).catch(Ol)}async function v5(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await O9(n.localStore,e);hj(n,r,null),dj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kf(n,i)}catch(i){await Ol(i)}}async function w5(t,e,n){const r=Ae(t);try{const i=await function(o,s){const l=Ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(qe(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);hj(r,e,n),dj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kf(r,i)}catch(i){await Ol(i)}}function dj(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function hj(t,e,n){const r=Ae(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function $0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||pj(t,r)})}function pj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(D_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),q_(t))}function RT(t,e,n){for(const r of n)r instanceof lj?(t.Ru.addReference(r.key,e),b5(t,r)):r instanceof uj?(fe(W_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||pj(t,r.key)):_e(19791,{wu:r})}function b5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(W_,"New document in limbo: "+n),t.Eu.add(r),q_(t))}function q_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new u5(n)),t.du=t.du.insert(n,r),nj(t.remoteStore,new na(qr(Rm(n.path)),r,"TargetPurposeLimboResolution",Nm.ce))}}async function kf(t,e,n){const r=Ae(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=N_.As(l.targetId,u);a.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const c=Ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Z.forEach(u,p=>Z.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>Z.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Il(d))throw d;fe(j_,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,w)}}}(r.localStore,a))}async function _5(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){fe(W_,"User change. New user:",e.toKey());const r=await J2(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new le(Q.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kf(n,r.Ls)}}function x5(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return De().add(r.key);{let i=De();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function mj(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y5.bind(null,e),e.Pu.H_=a5.bind(null,e.eventManager),e.Pu.yu=o5.bind(null,e.eventManager),e}function E5(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w5.bind(null,e),e}class ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Um(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return P9(this.persistence,new S9,e.initialUser,this.serializer)}Cu(e){return new Q2(k_.mi,this.serializer)}Du(e){return new D9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ip.provider={build:()=>new ip};class S5 extends ip{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof np,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new u9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Q2(r=>np.mi(r,n),this.serializer)}}class L0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_5.bind(null,this.syncEngine),await n5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i5}()}createDatastore(e){const n=Um(e.databaseInfo.databaseId),r=function(a){return new V9(a)}(e.databaseInfo);return function(a,o,s,l){return new z9(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new q9(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>DT(this.syncEngine,n,0),function(){return OT.v()?new OT:new R9}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const d=new c5(i,a,o,s,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ae(i);fe(Po,"RemoteStore shutting down."),a.Ea.add(5),await Cf(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}L0.provider={build:()=>new L0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="FirestoreClient";class T5{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=w_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{fe(Aa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe(Aa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fy(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await J2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A5(t);fe(Aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CT(e.remoteStore,i)),t._onlineComponents=e}async function A5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Aa,"Using user provided OfflineComponentProvider");try{await Fy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await Fy(t,new ip)}}else fe(Aa,"Using default OfflineComponentProvider"),await Fy(t,new S5(void 0));return t._offlineComponents}async function gj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Aa,"Using user provided OnlineComponentProvider"),await MT(t,t._uninitializedComponentsProvider._online)):(fe(Aa,"Using default OnlineComponentProvider"),await MT(t,new L0))),t._onlineComponents}function P5(t){return gj(t).then(e=>e.syncEngine)}async function ap(t){const e=await gj(t),n=e.eventManager;return n.onListen=f5.bind(null,e.syncEngine),n.onUnlisten=p5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m5.bind(null,e.syncEngine),n}function O5(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new H_({next:p=>{c.Nu(),o.enqueueAndForget(()=>U_(a,d));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new z_(Rm(s.path),c,{includeMetadataChanges:!0,qa:!0});return F_(a,d)}(await ap(t),t.asyncQueue,e,n,r)),r.promise}function I5(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new H_({next:p=>{c.Nu(),o.enqueueAndForget(()=>U_(a,d)),p.fromCache&&l.source==="server"?u.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new z_(s,c,{includeMetadataChanges:!0,qa:!0});return F_(a,d)}(await ap(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="firestore.googleapis.com",LT=!0;class VT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vj,this.ssl=LT}else this.host=e.host,this.ssl=e.ssl??LT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s9)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yj(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RU;switch(r.type){case"firstParty":return new VU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$T.get(n);r&&(fe("ComponentProvider","Removing Datastore"),$T.delete(n),r.terminate())}(this),Promise.resolve()}}function C5(t,e,n,r={}){var u;t=ar(t,Wm);const i=Sl(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(hN(`https://${s}`),pN("Firestore",!0)),a.host!==vj&&a.host!==s&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:r};if(!xo(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=ln.MOCK_USER;else{c=FV(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ln(p)}t._authCredentials=new MU(new l2(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pf(n,St._jsonSchema))return new St(e,r||null,new ve(rt.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Ct("string",St._jsonSchemaVersion),referencePath:Ct("string")};class ga extends Da{constructor(e,n,r){super(e,n,Rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ve(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function Uy(t,e,...n){if(t=Nt(t),u2("collection","path",e),t instanceof Wm){const r=rt.fromString(e,...n);return JS(r),new ga(t,null,r)}{if(!(t instanceof St||t instanceof ga))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return JS(r),new ga(t.firestore,null,r)}}function hh(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=w_.newId()),u2("doc","path",e),t instanceof Wm){const r=rt.fromString(e,...n);return QS(r),new St(t,null,new ve(r))}{if(!(t instanceof St||t instanceof ga))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return QS(r),new St(t.firestore,t instanceof ga?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="AsyncQueue";class UT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ej(this,"async_queue_retry"),this._c=()=>{const r=Vy();r&&fe(FT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new gi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;fe(FT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",BT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=L_.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:BT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Pa extends Wm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new UT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UT(e),this._firestoreClient=void 0,await e}}}function k5(t,e){const n=typeof t=="object"?t:vN(),r=typeof t=="string"?t:Xh,i=u_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=LV("firestore");a&&C5(i,...a)}return i}function qm(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N5(t),t._firestoreClient}function N5(t){var r,i,a;const e=t._freezeSettings(),n=function(s,l,u,c){return new nB(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,yj(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new T5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tr(en.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tr(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pf(e,tr._jsonSchema))return tr.fromBase64String(e.bytes)}}tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:Ct("string",tr._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(Pf(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:Ct("string",Gr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pf(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Kr(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Ct("string",Kr._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=/^__.*__$/;class D5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Of(e,this.data,n,this.fieldTransforms)}}class wj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class K_{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return op(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bj(this.Ac)&&j5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class R5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Um(e)}Cc(e,n,r,i=!1){return new K_({Ac:e,methodName:n,Dc:r,path:Yt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y_(t){const e=t._freezeSettings(),n=Um(t._databaseId);return new R5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M5(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);X_("Data must be an object, but it was:",o,r);const s=_j(r,o);let l,u;if(a.merge)l=new Bn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=V0(e,d,n);if(!o.contains(p))throw new le(Q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Ej(c,p)||c.push(p)}l=new Bn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new D5(new Pn(s),l,u)}class Gm extends G_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gm}}function $5(t,e,n,r){const i=t.Cc(1,e,n);X_("Data must be an object, but it was:",i,r);const a=[],o=Pn.empty();Na(r,(l,u)=>{const c=Q_(e,l,n);u=Nt(u);const d=i.yc(c);if(u instanceof Gm)a.push(c);else{const p=Nf(u,d);p!=null&&(a.push(c),o.set(c,p))}});const s=new Bn(a);return new wj(o,s,i.fieldTransforms)}function L5(t,e,n,r,i,a){const o=t.Cc(1,e,n),s=[V0(e,r,n)],l=[i];if(a.length%2!=0)throw new le(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(V0(e,a[p])),l.push(a[p+1]);const u=[],c=Pn.empty();for(let p=s.length-1;p>=0;--p)if(!Ej(u,s[p])){const m=s[p];let g=l[p];g=Nt(g);const w=o.yc(m);if(g instanceof Gm)u.push(m);else{const x=Nf(g,w);x!=null&&(u.push(m),c.set(m,x))}}const d=new Bn(u);return new wj(c,d,o.fieldTransforms)}function V5(t,e,n,r=!1){return Nf(n,t.Cc(r?4:3,e))}function Nf(t,e){if(xj(t=Nt(t)))return X_("Unsupported field value:",e,t),_j(t,e);if(t instanceof G_)return function(r,i){if(!bj(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Nf(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ut.fromDate(r);return{timestampValue:tp(i.serializer,a)}}if(r instanceof ut){const a=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tp(i.serializer,a)}}if(r instanceof Gr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tr)return{bytesValue:z2(i.serializer,r._byteString)};if(r instanceof St){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:I_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kr)return function(o,s){return{mapValue:{fields:{[v2]:{stringValue:w2},[Qh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return T_(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${km(r)}`)}(t,e)}function _j(t,e){const n={};return d2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(t,(r,i)=>{const a=Nf(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function xj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Gr||t instanceof tr||t instanceof St||t instanceof G_||t instanceof Kr)}function X_(t,e,n){if(!xj(n)||!c2(n)){const r=km(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function V0(t,e,n){if((e=Nt(e))instanceof Hm)return e._internalPath;if(typeof e=="string")return Q_(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,n)}const F5=new RegExp("[~\\*/\\[\\]]");function Q_(t,e,n){if(e.search(F5)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hm(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function op(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new le(Q.INVALID_ARGUMENT,s+t+l)}function Ej(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Km("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U5 extends Sj{data(){return super.data()}}function Km(t,e){return typeof e=="string"?Q_(t,e):e instanceof Hm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J_{}class Aj extends J_{}function WT(t,e,...n){let r=[];e instanceof J_&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof Z_).length,s=a.filter(l=>l instanceof Ym).length;if(o>1||o>0&&s>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ym extends Aj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ym(e,n,r)}_apply(e){const n=this._parse(e);return Pj(e._query,n),new Da(e.firestore,e.converter,O0(e._query,n))}_parse(e){const n=Y_(e.firestore);return function(a,o,s,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){KT(d,c);const g=[];for(const w of d)g.push(GT(l,a,w));p={arrayValue:{values:g}}}else p=GT(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||KT(d,c),p=V5(s,o,d,c==="in"||c==="not-in");return It.create(u,c,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qT(t,e,n){const r=e,i=Km("where",t);return Ym._create(i,r,n)}class Z_ extends J_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Z_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)Pj(o,l),o=O0(o,l)}(e._query,n),new Da(e.firestore,e.converter,O0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e1 extends Aj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new e1(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ic(a,o)}(e._query,this._field,this._direction);return new Da(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Cl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function HT(t,e="asc"){const n=e,r=Km("orderBy",t);return e1._create(r,n)}function GT(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P2(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!ve.isDocumentKey(r))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oT(t,new ve(r))}if(n instanceof St)return oT(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(n)}.`)}function KT(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pj(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B5{convertValue(e,n="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Na(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Qh].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>_t(o.doubleValue));return new Kr(n)}convertGeoPoint(e){return new Gr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const n=xa(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);qe(Y2(r),9688,{name:e});const i=new Pc(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return i.isEqual(n)||Ai(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends Sj{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Ct("string",lo._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class ph extends lo{data(e={}){return super.data(e)}}class uo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ru(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ph(this._firestore,this._userDataWriter,r.key,r,new Ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new ph(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ru(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new ph(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ru(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:W5(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=w_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){t=ar(t,St);const e=ar(t.firestore,Pa);return O5(qm(e),t._key).then(n=>Oj(e,t,n))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ct("string",uo._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class t1 extends B5{constructor(e){super(),this.firestore=e}convertBytes(e){return new tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function H5(t){t=ar(t,Da);const e=ar(t.firestore,Pa),n=qm(e),r=new t1(e);return Tj(t._query),I5(n,t._query).then(i=>new uo(e,r,t,i))}function G5(t,e,n,...r){t=ar(t,St);const i=ar(t.firestore,Pa),a=Y_(i);let o;return o=typeof(e=Nt(e))=="string"||e instanceof Hm?L5(a,"updateDoc",t._key,e,n,r):$5(a,"updateDoc",t._key,e),n1(i,[o.toMutation(t._key,Ir.exists(!0))])}function K5(t){return n1(ar(t.firestore,Pa),[new A_(t._key,Ir.none())])}function Y5(t,e){const n=ar(t.firestore,Pa),r=hh(t),i=z5(t.converter,e);return n1(n,[M5(Y_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function X5(t,...e){var l,u,c;t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zT(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(u=d.error)==null?void 0:u.bind(d),e[r+2]=(c=d.complete)==null?void 0:c.bind(d)}let a,o,s;if(t instanceof St)o=ar(t.firestore,Pa),s=Rm(t._key.path),a={next:d=>{e[r]&&e[r](Oj(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=ar(t,Da);o=ar(d.firestore,Pa),s=d._query;const p=new t1(o);a={next:m=>{e[r]&&e[r](new uo(o,p,d,m))},error:e[r+1],complete:e[r+2]},Tj(t._query)}return function(p,m,g,w){const x=new H_(w),b=new z_(m,x,g);return p.asyncQueue.enqueueAndForget(async()=>F_(await ap(p),b)),()=>{x.Nu(),p.asyncQueue.enqueueAndForget(async()=>U_(await ap(p),b))}}(qm(o),s,i,a)}function n1(t,e){return function(r,i){const a=new gi;return r.asyncQueue.enqueueAndForget(async()=>g5(await P5(r),i,a)),a.promise}(qm(t),e)}function Oj(t,e,n){const r=n.docs.get(e._key),i=new t1(t);return new lo(t,i,e._key,r,new Ru(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Pl=i})(Tl),Us(new Eo("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Pa(new $U(r.getProvider("auth-internal")),new FU(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(u.options.projectId,c)}(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),pa(GS,KS,e),pa(GS,KS,"esm2020")})();const Q5={apiKey:"AIzaSyAkjFOtCOHhZxbB_D_5lLsxccDgEsZV5JQ",authDomain:"cashpilot-2003e.firebaseapp.com",projectId:"cashpilot-2003e",storageBucket:"cashpilot-2003e.firebasestorage.app",messagingSenderId:"953051666821",appId:"1:953051666821:web:73107f4cee7df56c188cec"},Ij=yN(Q5),du=kU(Ij),Go=k5(Ij),Cj=L.createContext(),Xm=()=>{const t=L.useContext(Cj);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},J5=({children:t})=>{const[e,n]=L.useState(null),[r,i]=L.useState(!0),[a,o]=L.useState(null),s=async(m,g,w)=>{try{o(null);const{user:x}=await h6(du,m,g);return w&&await g6(x,{displayName:w}),x}catch(x){throw o(x.message),x}},l=async(m,g)=>{try{o(null);const{user:w}=await p6(du,m,g);return w}catch(w){throw o(w.message),w}},u=async()=>{try{o(null),await b6(du)}catch(m){throw o(m.message),m}},c=async m=>{try{o(null),await d6(du,m)}catch(g){throw o(g.message),g}},d=()=>o(null);L.useEffect(()=>w6(du,g=>{n(g),i(!1)}),[]);const p={currentUser:e,signup:s,signin:l,logout:u,resetPassword:c,error:a,clearError:d,loading:r};return h.jsx(Cj.Provider,{value:p,children:!r&&t})},Xe={create:async(t,e,n)=>{try{return{id:(await Y5(Uy(Go,t),{...e,userId:n,createdAt:new Date,updatedAt:new Date})).id,...e}}catch(r){throw console.error("Error creating document:",r),r}},update:async(t,e,n)=>{try{const r=hh(Go,t,e);return await G5(r,{...n,updatedAt:new Date}),{id:e,...n}}catch(r){throw console.error("Error updating document:",r),r}},delete:async(t,e)=>{try{return await K5(hh(Go,t,e)),e}catch(n){throw console.error("Error deleting document:",n),n}},getAll:async(t,e)=>{try{const n=WT(Uy(Go,t),qT("userId","==",e),HT("createdAt","desc"));return(await H5(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Error getting documents:",n),n}},getOne:async(t,e)=>{try{const n=hh(Go,t,e),r=await q5(n);if(r.exists())return{id:r.id,...r.data()};throw new Error("Document not found")}catch(n){throw console.error("Error getting document:",n),n}},subscribe:(t,e,n)=>{try{const r=WT(Uy(Go,t),qT("userId","==",e),HT("createdAt","desc"));return X5(r,i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));n(a)})}catch(r){throw console.error("Error subscribing to updates:",r),r}}},Pd={create:(t,e)=>Xe.create("transactions",t,e),update:(t,e)=>Xe.update("transactions",t,e),delete:t=>Xe.delete("transactions",t),getAll:t=>Xe.getAll("transactions",t),subscribe:(t,e)=>Xe.subscribe("transactions",t,e)},hu={create:(t,e)=>Xe.create("categories",t,e),update:(t,e)=>Xe.update("categories",t,e),delete:t=>Xe.delete("categories",t),getAll:t=>Xe.getAll("categories",t),subscribe:(t,e)=>Xe.subscribe("categories",t,e)},Od={create:(t,e)=>Xe.create("budgets",t,e),update:(t,e)=>Xe.update("budgets",t,e),delete:t=>Xe.delete("budgets",t),getAll:t=>Xe.getAll("budgets",t),subscribe:(t,e)=>Xe.subscribe("budgets",t,e)},Id={create:(t,e)=>Xe.create("goals",t,e),update:(t,e)=>Xe.update("goals",t,e),delete:t=>Xe.delete("goals",t),getAll:t=>Xe.getAll("goals",t),subscribe:(t,e)=>Xe.subscribe("goals",t,e)},Cd={create:(t,e)=>Xe.create("recurringTransactions",t,e),update:(t,e)=>Xe.update("recurringTransactions",t,e),delete:t=>Xe.delete("recurringTransactions",t),getAll:t=>Xe.getAll("recurringTransactions",t),subscribe:(t,e)=>Xe.subscribe("recurringTransactions",t,e)},kj=L.createContext(),Z5=()=>{const t=L.useContext(kj);if(!t)throw new Error("useData must be used within a DataProvider");return t},By=[{id:"1",name:"Food & Dining",color:"#ef4444",type:"expense"},{id:"2",name:"Transportation",color:"#f97316",type:"expense"},{id:"3",name:"Entertainment",color:"#eab308",type:"expense"},{id:"4",name:"Shopping",color:"#22c55e",type:"expense"},{id:"5",name:"Healthcare",color:"#06b6d4",type:"expense"},{id:"6",name:"Utilities",color:"#3b82f6",type:"expense"},{id:"7",name:"Housing",color:"#8b5cf6",type:"expense"},{id:"8",name:"Education",color:"#ec4899",type:"expense"},{id:"9",name:"Salary",color:"#10b981",type:"income"},{id:"10",name:"Business",color:"#059669",type:"income"},{id:"11",name:"Investment",color:"#0d9488",type:"income"},{id:"12",name:"Other Income",color:"#0891b2",type:"income"},{id:"13",name:"Savings",color:"#10b981",type:"expense"}],ez=({children:t})=>{const{user:e}=Xm(),[n,r]=L.useState([]),[i,a]=L.useState(By),[o,s]=L.useState([]),[l,u]=L.useState([]),[c,d]=L.useState([]),[p,m]=L.useState({currency:"USD",theme:"light"}),[g,w]=L.useState(!1),[x,b]=L.useState(null);L.useEffect(()=>{e?y():(r([]),a(By),s([]),u([]),d([]),m({currency:"USD",theme:"light"}))},[e]);const y=async()=>{if(e){w(!0),b(null);try{const[H,V,G,me,ye,Ve]=await Promise.all([Pd.getAll(e.uid),hu.getAll(e.uid),Od.getAll(e.uid),Cd.getAll(e.uid),Id.getAll(e.uid),E(e.uid)]);r(H||[]);const Be=V&&V.length>0?V:By;if(!Be.some(se=>se.name==="Savings")){const se={name:"Savings",color:"#10b981",type:"expense"};try{const ge=await hu.create(se,e.uid);Be.push(ge)}catch(ge){console.error("Error creating Savings category:",ge),Be.push({id:"savings-fallback",...se})}}a(Be),s(G||[]),u(me||[]),d(ye||[]);const J=Ve||{currency:"USD",theme:"light"};m(J),document.documentElement.setAttribute("data-theme",J.theme)}catch(H){console.error("Error loading data:",H),b("Failed to load data")}finally{w(!1)}}},E=async H=>{try{return(await Xe.getAll("settings",H))[0]||null}catch(V){return console.error("Error getting settings:",V),null}},X={transactions:n,categories:i,budgets:o,recurringTransactions:l,goals:c,settings:p,loading:g,error:x,addTransaction:async H=>{if(e)try{const V=await Pd.create(H,e.uid);return r(G=>[V,...G]),V}catch(V){throw console.error("Error adding transaction:",V),b("Failed to add transaction"),V}},updateTransaction:async(H,V)=>{if(e)try{const G=await Pd.update(H,V);return r(me=>me.map(ye=>ye.id===H?G:ye)),G}catch(G){throw console.error("Error updating transaction:",G),b("Failed to update transaction"),G}},deleteTransaction:async H=>{if(e)try{await Pd.delete(H),r(V=>V.filter(G=>G.id!==H))}catch(V){throw console.error("Error deleting transaction:",V),b("Failed to delete transaction"),V}},addCategory:async H=>{if(e)try{const V=await hu.create(H,e.uid);return a(G=>[...G,V]),V}catch(V){throw console.error("Error adding category:",V),b("Failed to add category"),V}},updateCategory:async(H,V)=>{if(e)try{const G=await hu.update(H,V);return a(me=>me.map(ye=>ye.id===H?G:ye)),G}catch(G){throw console.error("Error updating category:",G),b("Failed to update category"),G}},deleteCategory:async H=>{if(e)try{await hu.delete(H),a(V=>V.filter(G=>G.id!==H))}catch(V){throw console.error("Error deleting category:",V),b("Failed to delete category"),V}},addBudget:async H=>{if(e)try{const V=await Od.create(H,e.uid);return s(G=>[...G,V]),V}catch(V){throw console.error("Error adding budget:",V),b("Failed to add budget"),V}},updateBudget:async(H,V)=>{if(e)try{const G=await Od.update(H,V);return s(me=>me.map(ye=>ye.id===H?G:ye)),G}catch(G){throw console.error("Error updating budget:",G),b("Failed to update budget"),G}},deleteBudget:async H=>{if(e)try{await Od.delete(H),s(V=>V.filter(G=>G.id!==H))}catch(V){throw console.error("Error deleting budget:",V),b("Failed to delete budget"),V}},addGoal:async H=>{if(e)try{const V=await Id.create(H,e.uid);return d(G=>[...G,V]),V}catch(V){throw console.error("Error adding goal:",V),b("Failed to add goal"),V}},updateGoal:async(H,V)=>{if(e)try{const G=await Id.update(H,V);return d(me=>me.map(ye=>ye.id===H?G:ye)),G}catch(G){throw console.error("Error updating goal:",G),b("Failed to update goal"),G}},deleteGoal:async H=>{if(e)try{await Id.delete(H),d(V=>V.filter(G=>G.id!==H))}catch(V){throw console.error("Error deleting goal:",V),b("Failed to delete goal"),V}},addRecurringTransaction:async H=>{if(e)try{const V=await Cd.create(H,e.uid);return u(G=>[...G,V]),V}catch(V){throw console.error("Error adding recurring transaction:",V),b("Failed to add recurring transaction"),V}},updateRecurringTransaction:async(H,V)=>{if(e)try{const G=await Cd.update(H,V);return u(me=>me.map(ye=>ye.id===H?G:ye)),G}catch(G){throw console.error("Error updating recurring transaction:",G),b("Failed to update recurring transaction"),G}},deleteRecurringTransaction:async H=>{if(e)try{await Cd.delete(H),u(V=>V.filter(G=>G.id!==H))}catch(V){throw console.error("Error deleting recurring transaction:",V),b("Failed to delete recurring transaction"),V}},updateSettings:async H=>{if(e)try{const V=await E(e.uid);V?await Xe.update("settings",V.id,H):await Xe.create("settings",H,e.uid),m(H),document.documentElement.setAttribute("data-theme",H.theme)}catch(V){console.error("Error saving settings:",V),b("Failed to save settings")}},loadAllData:y,clearError:()=>b(null)};return h.jsx(kj.Provider,{value:X,children:t})},tz=()=>{const[t,e]=L.useState(!0),[n,r]=L.useState(!1),[i,a]=L.useState({email:"",password:"",displayName:"",confirmPassword:""}),[o,s]=L.useState(!1),{signin:l,signup:u,error:c,clearError:d}=Xm(),p=w=>{const{name:x,value:b}=w.target;a(y=>({...y,[x]:b})),d()},m=async w=>{w.preventDefault(),s(!0);try{if(t)await l(i.email,i.password);else{if(i.password!==i.confirmPassword)throw new Error("Passwords do not match");if(i.password.length<6)throw new Error("Password must be at least 6 characters");await u(i.email,i.password,i.displayName)}}catch(x){console.error("Authentication error:",x)}finally{s(!1)}},g=()=>{e(!t),a({email:"",password:"",displayName:"",confirmPassword:""}),d()};return h.jsx("div",{className:"auth-container",children:h.jsxs("div",{className:"auth-card",children:[h.jsxs("div",{className:"auth-header",children:[h.jsxs("div",{className:"auth-logo",children:[h.jsx("span",{className:"auth-logo-icon",children:"💰"}),h.jsx("h1",{children:"CashPilot"})]}),h.jsx("p",{className:"auth-subtitle",children:t?"Welcome back!":"Create your account"})]}),c&&h.jsx("div",{className:"auth-error",children:h.jsx("span",{className:"error-text",children:c})}),h.jsxs("form",{onSubmit:m,className:"auth-form",children:[!t&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"displayName",children:"Full Name"}),h.jsxs("div",{className:"input-group",children:[h.jsx(PV,{className:"input-icon",size:20}),h.jsx("input",{type:"text",id:"displayName",name:"displayName",value:i.displayName,onChange:p,placeholder:"Enter your full name",required:!t})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email"}),h.jsxs("div",{className:"input-group",children:[h.jsx(wV,{className:"input-icon",size:20}),h.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:p,placeholder:"Enter your email",required:!0})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"input-group",children:[h.jsx(mS,{className:"input-icon",size:20}),h.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:i.password,onChange:p,placeholder:"Enter your password",required:!0}),h.jsx("button",{type:"button",className:"password-toggle",onClick:()=>r(!n),children:n?h.jsx(fV,{size:20}):h.jsx(Gu,{size:20})})]})]}),!t&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsxs("div",{className:"input-group",children:[h.jsx(mS,{className:"input-icon",size:20}),h.jsx("input",{type:n?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:p,placeholder:"Confirm your password",required:!t})]})]}),h.jsx("button",{type:"submit",className:"auth-button primary",disabled:o,children:o?h.jsx("span",{className:"loading-spinner"}):h.jsxs(h.Fragment,{children:[t?h.jsx(yV,{size:20}):h.jsx(AV,{size:20}),t?"Sign In":"Create Account"]})})]}),h.jsx("div",{className:"auth-footer",children:h.jsxs("p",{children:[t?"Don't have an account?":"Already have an account?",h.jsx("button",{type:"button",className:"auth-link",onClick:g,children:t?"Sign Up":"Sign In"})]})})]})})},Tn=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"€",name:"Euro"},{code:"GBP",symbol:"£",name:"British Pound"},{code:"JPY",symbol:"¥",name:"Japanese Yen"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"CNY",symbol:"¥",name:"Chinese Yuan"},{code:"SEK",symbol:"kr",name:"Swedish Krona"},{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"},{code:"MXN",symbol:"$",name:"Mexican Peso"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"HKD",symbol:"HK$",name:"Hong Kong Dollar"},{code:"NOK",symbol:"kr",name:"Norwegian Krone"},{code:"TRY",symbol:"₺",name:"Turkish Lira"},{code:"RUB",symbol:"₽",name:"Russian Ruble"},{code:"RON",symbol:"lei",name:"Romanian Leu"},{code:"INR",symbol:"₹",name:"Indian Rupee"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"ZAR",symbol:"R",name:"South African Rand"},{code:"KRW",symbol:"₩",name:"South Korean Won"}];function nz({transaction:t,categories:e,currency:n,onSubmit:r,onCancel:i}){const[a,o]=L.useState({type:"expense",amount:"",description:"",categoryId:"",date:new Date().toISOString().split("T")[0],notes:""}),[s,l]=L.useState({}),[u,c]=L.useState(!1),[d,p]=L.useState({});L.useEffect(()=>{t&&o({type:t.type,amount:t.amount.toString(),description:t.description,categoryId:t.categoryId,date:t.date,notes:t.notes||""})},[t]);const m=(P,S)=>{const v={...s};switch(P){case"amount":S?isNaN(S)||parseFloat(S)<=0?v.amount="Amount must be a positive number":parseFloat(S)>999999.99?v.amount="Amount must be less than 1,000,000":delete v.amount:v.amount="Amount is required";break;case"description":S.trim()?S.trim().length<2?v.description="Description must be at least 2 characters":S.trim().length>100?v.description="Description must be less than 100 characters":delete v.description:v.description="Description is required";break;case"categoryId":S?delete v.categoryId:v.categoryId="Category is required";break;case"date":if(!S)v.date="Date is required";else{const T=new Date(S),O=new Date,k=new Date;k.setFullYear(O.getFullYear()-1);const j=new Date;j.setFullYear(O.getFullYear()+1),T<k?v.date="Date cannot be more than 1 year ago":T>j?v.date="Date cannot be more than 1 year in the future":delete v.date}break;case"notes":S&&S.length>500?v.notes="Notes must be less than 500 characters":delete v.notes;break}return l(v),Object.keys(v).length===0},g=()=>{const P=["amount","description","categoryId","date","notes"];let S=!0;P.forEach(T=>{m(T,a[T])||(S=!1)});const v={};return P.forEach(T=>v[T]=!0),p(v),S},w=()=>{const P=a.amount.trim()!==""&&a.description.trim()!==""&&a.categoryId!==""&&a.date!=="",S=Object.keys(s).length===0;return P&&S&&!u},x=async P=>{if(P.preventDefault(),!!g()){c(!0);try{const S={...a,amount:parseFloat(a.amount),id:t==null?void 0:t.id};await r(S)}catch(S){console.error("Error submitting form:",S)}finally{c(!1)}}},b=P=>{const{name:S,value:v}=P.target;o(T=>({...T,[S]:v})),s[S]&&l(T=>{const O={...T};return delete O[S],O})},y=P=>{const{name:S,value:v}=P.target;p(T=>({...T,[S]:!0})),m(S,v)},E=P=>{(P.ctrlKey||P.metaKey)&&P.key==="Enter"&&x(P),P.key==="Escape"&&i()},N=e.filter(P=>P.type===a.type),A=Tn.find(P=>P.code===n);return h.jsxs("div",{className:"transaction-form",onKeyDown:E,children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:t?"Edit Transaction":"Add Transaction"}),h.jsx("button",{onClick:i,className:"icon-button",disabled:u,children:h.jsx(_o,{size:20})})]}),h.jsxs("form",{onSubmit:x,noValidate:!0,children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Type *"}),h.jsxs("div",{className:"radio-group",children:[h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",name:"type",value:"expense",checked:a.type==="expense",onChange:b}),h.jsx("span",{children:" Expense"})]}),h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",name:"type",value:"income",checked:a.type==="income",onChange:b}),h.jsx("span",{children:" Income"})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"amount",children:["Amount (",A==null?void 0:A.symbol,") *"]}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"number",id:"amount",name:"amount",value:a.amount,onChange:b,onBlur:y,step:"0.01",min:"0",required:!0,placeholder:"0.00",className:s.amount&&d.amount?"error":"",disabled:u,autoComplete:"off"}),s.amount&&d.amount&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.amount})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"description",children:"Description *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"text",id:"description",name:"description",value:a.description,onChange:b,onBlur:y,required:!0,placeholder:"Enter description",className:s.description&&d.description?"error":"",disabled:u,maxLength:"100"}),s.description&&d.description&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.description})]}),h.jsxs("div",{className:"char-count",children:[a.description.length,"/100"]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"categoryId",children:"Category *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsxs("select",{id:"categoryId",name:"categoryId",value:a.categoryId,onChange:b,onBlur:y,required:!0,className:s.categoryId&&d.categoryId?"error":"",disabled:u,children:[h.jsx("option",{value:"",children:"Select a category"}),N.map(P=>h.jsx("option",{value:P.id,children:P.name},P.id))]}),s.categoryId&&d.categoryId&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.categoryId})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"date",children:"Date *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"date",id:"date",name:"date",value:a.date,onChange:b,onBlur:y,required:!0,className:s.date&&d.date?"error":"",disabled:u}),s.date&&d.date&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.date})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"notes",children:"Notes"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("textarea",{id:"notes",name:"notes",value:a.notes,onChange:b,onBlur:y,rows:"3",placeholder:"Additional notes (optional)",className:s.notes&&d.notes?"error":"",disabled:u,maxLength:"500"}),s.notes&&d.notes&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.notes})]}),h.jsxs("div",{className:"char-count",children:[a.notes.length,"/500"]})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:i,className:"cancel-button",disabled:u,children:"Cancel"}),h.jsx("button",{type:"submit",className:"save-button",disabled:!w(),children:u?h.jsxs(h.Fragment,{children:[h.jsx(o_,{size:16,className:"spinning"}),t?"Updating...":"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(bf,{size:16}),t?"Update":"Save"," Transaction"]})})]}),h.jsx("div",{className:"keyboard-hints",children:h.jsxs("small",{children:["Press ",h.jsx("kbd",{children:"Ctrl+Enter"})," to save • ",h.jsx("kbd",{children:"Esc"})," to cancel"]})})]})]})}function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function jr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function bt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Jt(t){bt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||sp(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function rz(t,e){bt(2,arguments);var n=Jt(t),r=jr(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function iz(t,e){bt(2,arguments);var n=Jt(t),r=jr(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function az(t,e){bt(2,arguments);var n=Jt(t).getTime(),r=jr(e);return new Date(n+r)}var oz={};function Qm(){return oz}function sz(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function lz(t){return bt(1,arguments),t instanceof Date||sp(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uz(t){if(bt(1,arguments),!lz(t)&&typeof t!="number")return!1;var e=Jt(t);return!isNaN(Number(e))}function Ys(t){bt(1,arguments);var e=Jt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function cz(t){bt(1,arguments);var e=t||{},n=Jt(e.start),r=Jt(e.end),i=r.getTime(),a=[];if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var o=n;for(o.setHours(0,0,0,0),o.setDate(1);o.getTime()<=i;)a.push(Jt(o)),o.setMonth(o.getMonth()+1);return a}function Xs(t){bt(1,arguments);var e=Jt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function fz(t,e){bt(2,arguments);var n=jr(e);return az(t,-n)}var dz=864e5;function hz(t){bt(1,arguments);var e=Jt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/dz)+1}function lp(t){bt(1,arguments);var e=1,n=Jt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Nj(t){bt(1,arguments);var e=Jt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=lp(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=lp(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function pz(t){bt(1,arguments);var e=Nj(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=lp(n);return r}var mz=6048e5;function gz(t){bt(1,arguments);var e=Jt(t),n=lp(e).getTime()-pz(e).getTime();return Math.round(n/mz)+1}function up(t,e){var n,r,i,a,o,s,l,u;bt(1,arguments);var c=Qm(),d=jr((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Jt(t),m=p.getUTCDay(),g=(m<d?7:0)+m-d;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function jj(t,e){var n,r,i,a,o,s,l,u;bt(1,arguments);var c=Jt(t),d=c.getUTCFullYear(),p=Qm(),m=jr((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,m),g.setUTCHours(0,0,0,0);var w=up(g,e),x=new Date(0);x.setUTCFullYear(d,0,m),x.setUTCHours(0,0,0,0);var b=up(x,e);return c.getTime()>=w.getTime()?d+1:c.getTime()>=b.getTime()?d:d-1}function yz(t,e){var n,r,i,a,o,s,l,u;bt(1,arguments);var c=Qm(),d=jr((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=jj(t,e),m=new Date(0);m.setUTCFullYear(p,0,d),m.setUTCHours(0,0,0,0);var g=up(m,e);return g}var vz=6048e5;function wz(t,e){bt(1,arguments);var n=Jt(t),r=up(n,e).getTime()-yz(n,e).getTime();return Math.round(r/vz)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var zi={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return He(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return He(a,n.length)}},Ko={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bz={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return zi.y(e,n)},Y:function(e,n,r,i){var a=jj(e,i),o=a>0?a:1-a;if(n==="YY"){var s=o%100;return He(s,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):He(o,n.length)},R:function(e,n){var r=Nj(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return He(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return zi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var a=wz(e,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):He(a,n.length)},I:function(e,n,r){var i=gz(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):zi.d(e,n)},D:function(e,n,r){var i=hz(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):He(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return He(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return He(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return He(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),a;switch(i===12?a=Ko.noon:i===0?a=Ko.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),a;switch(i>=17?a=Ko.evening:i>=12?a=Ko.afternoon:i>=4?a=Ko.morning:a=Ko.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return zi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):zi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):zi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):zi.s(e,n)},S:function(e,n){return zi.S(e,n)},X:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return XT(o);case"XXXX":case"XX":return Ka(o);case"XXXXX":case"XXX":default:return Ka(o,":")}},x:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"x":return XT(o);case"xxxx":case"xx":return Ka(o);case"xxxxx":case"xxx":default:return Ka(o,":")}},O:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+YT(o,":");case"OOOO":default:return"GMT"+Ka(o,":")}},z:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+YT(o,":");case"zzzz":default:return"GMT"+Ka(o,":")}},t:function(e,n,r,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return He(o,n.length)},T:function(e,n,r,i){var a=i._originalDate||e,o=a.getTime();return He(o,n.length)}};function YT(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=e;return n+String(i)+o+He(a,2)}function XT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return Ka(t,e)}function Ka(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),a=He(Math.floor(i/60),2),o=He(i%60,2);return r+a+n+o}var QT=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Dj=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},_z=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return QT(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",QT(i,n)).replace("{{time}}",Dj(a,n))},xz={p:Dj,P:_z},Ez=["D","DD"],Sz=["YY","YYYY"];function Tz(t){return Ez.indexOf(t)!==-1}function Az(t){return Sz.indexOf(t)!==-1}function JT(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Pz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Oz=function(e,n,r){var i,a=Pz[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function zy(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Iz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nz={date:zy({formats:Iz,defaultWidth:"full"}),time:zy({formats:Cz,defaultWidth:"full"}),dateTime:zy({formats:kz,defaultWidth:"full"})},jz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dz=function(e,n,r,i){return jz[e]};function pu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Rz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$z={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uz=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Bz={ordinalNumber:Uz,era:pu({values:Rz,defaultWidth:"wide"}),quarter:pu({values:Mz,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:pu({values:$z,defaultWidth:"wide"}),day:pu({values:Lz,defaultWidth:"wide"}),dayPeriod:pu({values:Vz,defaultWidth:"wide",formattingValues:Fz,defaultFormattingWidth:"wide"})};function mu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Wz(s,function(d){return d.test(o)}):zz(s,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function zz(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Wz(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function qz(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var Hz=/^(\d+)(th|st|nd|rd)?/i,Gz=/\d+/i,Kz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yz={any:[/^b/i,/^(a|c)/i]},Xz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qz={any:[/1/i,/2/i,/3/i,/4/i]},Jz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},r8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},i8={ordinalNumber:qz({matchPattern:Hz,parsePattern:Gz,valueCallback:function(e){return parseInt(e,10)}}),era:mu({matchPatterns:Kz,defaultMatchWidth:"wide",parsePatterns:Yz,defaultParseWidth:"any"}),quarter:mu({matchPatterns:Xz,defaultMatchWidth:"wide",parsePatterns:Qz,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:mu({matchPatterns:Jz,defaultMatchWidth:"wide",parsePatterns:Zz,defaultParseWidth:"any"}),day:mu({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any"}),dayPeriod:mu({matchPatterns:n8,defaultMatchWidth:"any",parsePatterns:r8,defaultParseWidth:"any"})},a8={code:"en-US",formatDistance:Oz,formatLong:Nz,formatRelative:Dz,localize:Bz,match:i8,options:{weekStartsOn:0,firstWeekContainsDate:1}},o8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l8=/^'([^]*?)'?$/,u8=/''/g,c8=/[a-zA-Z]/;function Nc(t,e,n){var r,i,a,o,s,l,u,c,d,p,m,g,w,x;bt(2,arguments);var b=String(e),y=Qm(),E=(r=(i=void 0)!==null&&i!==void 0?i:y.locale)!==null&&r!==void 0?r:a8,N=jr((a=(o=(s=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&s!==void 0?s:y.firstWeekContainsDate)!==null&&o!==void 0?o:(u=y.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=jr((d=(p=(m=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&m!==void 0?m:y.weekStartsOn)!==null&&p!==void 0?p:(w=y.locale)===null||w===void 0||(x=w.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&d!==void 0?d:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var P=Jt(t);if(!uz(P))throw new RangeError("Invalid time value");var S=sz(P),v=fz(P,S),T={firstWeekContainsDate:N,weekStartsOn:A,locale:E,_originalDate:P},O=b.match(s8).map(function(k){var j=k[0];if(j==="p"||j==="P"){var C=xz[j];return C(k,E.formatLong)}return k}).join("").match(o8).map(function(k){if(k==="''")return"'";var j=k[0];if(j==="'")return f8(k);var C=bz[j];if(C)return Az(k)&&JT(k,e,String(t)),Tz(k)&&JT(k,e,String(t)),C(v,k,E.localize,T);if(j.match(c8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return k}).join("");return O}function f8(t){var e=t.match(l8);return e?e[1].replace(u8,"'"):t}function d8(t,e){bt(2,arguments);var n=jr(e);return rz(t,-n)}function ZT(t,e){bt(2,arguments);var n=jr(e);return iz(t,-n)}function h8({transactions:t,categories:e,currency:n,onEdit:r,onDelete:i}){const[a,o]=L.useState(""),[s,l]=L.useState("all"),[u,c]=L.useState("all"),[d,p]=L.useState("date"),[m,g]=L.useState("desc"),[w,x]=L.useState(!1),[b,y]=L.useState(()=>{const C=new Date;return`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}`}),E=Tn.find(C=>C.code===n),N=L.useMemo(()=>{let C=t.filter($=>{var M;const F=$.description.toLowerCase().includes(a.toLowerCase())||((M=$.notes)==null?void 0:M.toLowerCase().includes(a.toLowerCase())),W=s==="all"||$.type===s,R=u==="all"||$.categoryId===u;let B=!0;if(b!=="all"){const X=new Date($.date),[H,V]=b.split("-"),G=Xs(new Date(parseInt(H),parseInt(V)-1)),me=Ys(new Date(parseInt(H),parseInt(V)-1));B=X>=G&&X<=me}return F&&W&&R&&B});return C.sort(($,F)=>{let W,R;switch(d){case"amount":W=$.amount,R=F.amount;break;case"description":W=$.description.toLowerCase(),R=F.description.toLowerCase();break;case"date":default:W=new Date($.date),R=new Date(F.date);break}return m==="asc"?W<R?-1:W>R?1:0:W>R?-1:W<R?1:0}),C},[t,a,s,u,d,m,b]),A=L.useMemo(()=>w?N:N.slice(0,10),[N,w]),P=L.useMemo(()=>{const C=new Set;t.forEach(F=>{const W=new Date(F.date),R=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`;C.add(R)});const $=Array.from(C).sort((F,W)=>W.localeCompare(F));return[{value:"all",label:"All Months"},...$.map(F=>{const[W,R]=F.split("-"),B=new Date(parseInt(W),parseInt(R)-1);return{value:F,label:Nc(B,"MMMM yyyy")}})]},[t]),S=C=>{const $=e.find(F=>F.id===C);return $?$.name:"Unknown"},v=C=>{const $=e.find(F=>F.id===C);return $?$.color:"#6b7280"},T=C=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(C),O=N.filter(C=>C.type==="income").reduce((C,$)=>C+$.amount,0),k=N.filter(C=>C.type==="expense").reduce((C,$)=>C+$.amount,0),j=O-k;return h.jsxs("div",{className:"transaction-list",children:[h.jsxs("div",{className:"transaction-filters",children:[h.jsxs("div",{className:"search-box",children:[h.jsx(SV,{size:20}),h.jsx("input",{type:"text",placeholder:"Search transactions...",value:a,onChange:C=>o(C.target.value)})]}),h.jsxs("div",{className:"filters",children:[h.jsxs("div",{className:"month-filter",children:[h.jsx(Tm,{size:16}),h.jsx("select",{value:b,onChange:C=>{y(C.target.value),x(!1)},children:P.map(C=>h.jsx("option",{value:C.value,children:C.label},C.value))})]}),h.jsxs("select",{value:s,onChange:C=>l(C.target.value),children:[h.jsx("option",{value:"all",children:"All Types"}),h.jsx("option",{value:"income",children:"Income"}),h.jsx("option",{value:"expense",children:"Expense"})]}),h.jsxs("select",{value:u,onChange:C=>c(C.target.value),children:[h.jsx("option",{value:"all",children:"All Categories"}),e.map(C=>h.jsx("option",{value:C.id,children:C.name},C.id))]}),h.jsxs("select",{value:`${d}-${m}`,onChange:C=>{const[$,F]=C.target.value.split("-");p($),g(F)},children:[h.jsx("option",{value:"date-desc",children:"Date (Newest)"}),h.jsx("option",{value:"date-asc",children:"Date (Oldest)"}),h.jsx("option",{value:"amount-desc",children:"Amount (High to Low)"}),h.jsx("option",{value:"amount-asc",children:"Amount (Low to High)"}),h.jsx("option",{value:"description-asc",children:"Description (A-Z)"}),h.jsx("option",{value:"description-desc",children:"Description (Z-A)"})]})]})]}),h.jsxs("div",{className:"transaction-summary",children:[h.jsxs("div",{className:"summary-item income",children:[h.jsx(bo,{size:20}),h.jsxs("div",{children:[h.jsx("span",{className:"label",children:"Income"}),h.jsxs("span",{className:"amount",children:[E==null?void 0:E.symbol," ",T(O)]})]})]}),h.jsxs("div",{className:"summary-item expense",children:[h.jsx(Am,{size:20}),h.jsxs("div",{children:[h.jsx("span",{className:"label",children:"Expenses"}),h.jsxs("span",{className:"amount",children:[E==null?void 0:E.symbol," ",T(k)]})]})]}),h.jsx("div",{className:`summary-item balance ${j>=0?"positive":"negative"}`,children:h.jsxs("div",{children:[h.jsx("span",{className:"label",children:"Balance"}),h.jsxs("span",{className:"amount",children:[E==null?void 0:E.symbol," ",T(j)]})]})})]}),N.length===0?h.jsxs("div",{className:"empty-state",children:[h.jsx("p",{children:"No transactions found"}),a||s!=="all"||u!=="all"||b!=="all"?h.jsx("p",{children:"Try adjusting your search or filters"}):h.jsx("p",{children:"Start by adding your first transaction"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"transactions",children:A.map(C=>h.jsxs("div",{className:"transaction-item",children:[h.jsxs("div",{className:"transaction-main",children:[h.jsx("div",{className:"category-indicator",style:{backgroundColor:v(C.categoryId)}}),h.jsxs("div",{className:"transaction-details",children:[h.jsxs("div",{className:"transaction-header",children:[h.jsx("h4",{children:C.description}),h.jsxs("span",{className:`amount ${C.type}`,children:[C.type==="expense"?"-":"+",E==null?void 0:E.symbol," ",T(C.amount)]})]}),h.jsxs("div",{className:"transaction-meta",children:[h.jsx("span",{className:"category",children:S(C.categoryId)}),h.jsx("span",{className:"date",children:Nc(new Date(C.date),"MMM dd, yyyy")})]}),C.notes&&h.jsx("p",{className:"transaction-notes",children:C.notes})]})]}),h.jsxs("div",{className:"transaction-actions",children:[h.jsx("button",{onClick:()=>r(C),className:"icon-button edit-button",title:"Edit transaction",children:h.jsx(Vs,{size:16})}),h.jsx("button",{onClick:()=>i(C.id),className:"icon-button delete-button",title:"Delete transaction",children:h.jsx(Fs,{size:16})})]})]},C.id))}),N.length>10&&h.jsx("div",{className:"show-more-container",children:h.jsx("button",{className:"show-more-btn",onClick:()=>x(!w),children:w?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"Show Less"}),h.jsx(oN,{size:16})]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{children:["Show All (",N.length,")"]}),h.jsx(aN,{size:16})]})})})]})]})}function p8({transactions:t,categories:e,budgets:n,goals:r,recurringTransactions:i,currency:a,onNavigateToTab:o}){const[s,l]=L.useState(!1),u=L.useRef(null),c=Tn.find(y=>y.code===a),d=L.useMemo(()=>{const y=new Date,E=d8(y,30),N=Xs(y),A=Ys(y),P=t.filter(j=>new Date(j.date)>=E),S=t.filter(j=>{const C=new Date(j.date);return C>=N&&C<=A}),v=t.filter(j=>j.type==="income").reduce((j,C)=>j+C.amount,0),T=t.filter(j=>j.type==="expense").reduce((j,C)=>j+C.amount,0),O=S.filter(j=>j.type==="income").reduce((j,C)=>j+C.amount,0),k=S.filter(j=>j.type==="expense").reduce((j,C)=>j+C.amount,0);return{totalBalance:v-T,totalIncome:v,totalExpenses:T,currentMonthIncome:O,currentMonthExpenses:k,currentMonthBalance:O-k,transactionCount:t.length,last30DaysCount:P.length}},[t]),p=L.useMemo(()=>{const y=new Date,E=Xs(y),N=Ys(y);return n.map(P=>{const S=t.filter(O=>O.type==="expense"&&O.categoryId===P.categoryId&&new Date(O.date)>=E&&new Date(O.date)<=N).reduce((O,k)=>O+k.amount,0),v=e.find(O=>O.id===P.categoryId),T=P.amount>0?S/P.amount*100:0;return{...P,categoryName:v?v.name:"Unknown",categoryColor:v?v.color:"#6b7280",spent:S,remaining:Math.max(0,P.amount-S),percentage:Math.min(100,T),isOverBudget:S>P.amount}}).sort((P,S)=>P.isOverBudget&&!S.isOverBudget?-1:!P.isOverBudget&&S.isOverBudget?1:S.percentage-P.percentage)},[n,t,e]),m=L.useMemo(()=>s?p:p.slice(0,3),[p,s]),g=L.useMemo(()=>{if(!r||r.length===0)return null;const y=r.filter(T=>T.isActive),E=r.filter(T=>(T.targetAmount>0?T.currentAmount/T.targetAmount*100:0)>=100),N=y.reduce((T,O)=>T+O.targetAmount,0),A=y.reduce((T,O)=>T+O.currentAmount,0),P=N>0?A/N*100:0,S=new Date,v=y.filter(T=>{const O=new Date(T.targetDate),k=Math.ceil((O-S)/(1e3*60*60*24));return k<=30&&k>0});return{total:r.length,active:y.length,completed:E.length,overallProgress:Math.min(P,100),totalCurrentAmount:A,totalTargetAmount:N,urgentCount:v.length}},[r]),w=L.useMemo(()=>!i||i.length===0?[]:i.filter(y=>y.isActive).slice(0,3).map(y=>{const E=e.find(N=>N.id===y.categoryId);return{...y,categoryName:E?E.name:"Unknown",categoryColor:E?E.color:"#6b7280"}}),[i,e]);L.useEffect(()=>{s&&u.current&&setTimeout(()=>{const y=u.current,E=y.offsetTop+y.offsetHeight,N=window.innerHeight,A=window.pageYOffset;E>A+N&&y.scrollIntoView({behavior:"smooth",block:"end"})},100)},[s]);const x=y=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(y),b=y=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(y);return h.jsxs("div",{className:"dashboard",children:[h.jsxs("div",{className:"dashboard-header",children:[h.jsx("h2",{children:"Dashboard"}),h.jsxs("div",{className:"date-info",children:[h.jsx(Tm,{size:16}),h.jsx("span",{children:Nc(new Date,"MMMM yyyy")})]})]}),h.jsxs("div",{className:"metrics-grid",children:[h.jsxs("div",{className:"metric-card income",children:[h.jsx("div",{className:"metric-icon",children:h.jsx(bo,{size:24})}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-label",children:"Monthly Income"}),h.jsxs("div",{className:"metric-value",children:[c==null?void 0:c.symbol," ",x(d.currentMonthIncome)]}),h.jsx("div",{className:"metric-detail",children:"This month"})]})]}),h.jsxs("div",{className:"metric-card expense",children:[h.jsx("div",{className:"metric-icon",children:h.jsx(Am,{size:24})}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-label",children:"Monthly Expenses"}),h.jsxs("div",{className:"metric-value",children:[c==null?void 0:c.symbol," ",x(d.currentMonthExpenses)]}),h.jsx("div",{className:"metric-detail",children:"This month"})]})]}),h.jsxs("div",{className:`metric-card balance ${d.totalBalance>=0?"positive":"negative"}`,children:[h.jsx("div",{className:"metric-icon",children:h.jsx(d0,{size:24})}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-label",children:"Total Balance"}),h.jsxs("div",{className:"metric-value",children:[d.totalBalance>=0?"+":"",c==null?void 0:c.symbol," ",x(Math.abs(d.totalBalance))]}),h.jsx("div",{className:"metric-detail",children:"All time"})]})]}),h.jsxs("div",{className:"metric-card transactions",children:[h.jsx("div",{className:"metric-icon",children:h.jsx(Zn,{size:24})}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-label",children:"Total Transactions"}),h.jsx("div",{className:"metric-value",children:d.transactionCount}),h.jsxs("div",{className:"metric-detail",children:[d.last30DaysCount," in last 30 days"]})]})]})]}),t.length>0&&h.jsxs("div",{className:"recent-transactions",children:[h.jsx("h3",{children:"Recent Transactions"}),h.jsx("div",{className:"transactions-preview",children:t.slice(0,5).map(y=>{const E=e.find(N=>N.id===y.categoryId);return h.jsxs("div",{className:"transaction-preview-item",children:[h.jsx("div",{className:"category-indicator",style:{backgroundColor:(E==null?void 0:E.color)||"#6b7280"}}),h.jsxs("div",{className:"transaction-info",children:[h.jsx("span",{className:"description",children:y.description}),h.jsx("span",{className:"date",children:Nc(new Date(y.date),"MMM dd")})]}),h.jsxs("span",{className:`amount ${y.type}`,children:[y.type==="expense"?"-":"+",c==null?void 0:c.symbol," ",b(y.amount)]})]},y.id)})}),t.length>5&&h.jsx("div",{className:"show-more-container",children:h.jsxs("button",{className:"show-more-btn",onClick:()=>o("transactions"),children:[h.jsx("span",{children:"See All Transactions"}),h.jsx(Gu,{size:16})]})})]}),p.length>0&&h.jsxs("div",{className:"budget-progress-section",ref:u,children:[h.jsx("h3",{children:"Budget Progress (This Month)"}),h.jsx("div",{className:"budget-progress-grid",children:m.map(y=>h.jsxs("div",{className:"budget-progress-card",children:[h.jsxs("div",{className:"budget-header",children:[h.jsxs("div",{className:"budget-category",children:[h.jsx("div",{className:"category-dot",style:{backgroundColor:y.categoryColor}}),h.jsx("span",{children:y.categoryName})]}),h.jsx("span",{className:`budget-status ${y.isOverBudget?"over":"under"}`,children:y.isOverBudget?"Over Budget":"On Track"})]}),h.jsxs("div",{className:"budget-amounts",children:[h.jsx("div",{className:"budget-spent",children:h.jsxs("span",{children:["Spent: ",c==null?void 0:c.symbol," ",b(y.spent)]})}),h.jsx("div",{className:"budget-total",children:h.jsxs("span",{children:["Budget: ",c==null?void 0:c.symbol," ",b(y.amount)]})})]}),h.jsx("div",{className:"budget-progress-bar",children:h.jsx("div",{className:`budget-progress-fill ${y.isOverBudget?"over":""}`,style:{width:`${Math.min(100,y.percentage)}%`}})}),h.jsxs("div",{className:"budget-percentage",children:[y.percentage.toFixed(1),"% used"]})]},y.id))}),p.length>3&&h.jsx("div",{className:"show-more-container",children:h.jsx("button",{className:"show-more-btn",onClick:()=>l(!s),children:s?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"Show Less"}),h.jsx(oN,{size:16})]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{children:["Show All (",p.length,")"]}),h.jsx(aN,{size:16})]})})})]}),g&&h.jsxs("div",{className:"goals-summary-section",children:[h.jsx("h3",{children:"Financial Goals"}),h.jsxs("div",{className:"goals-summary-grid",children:[h.jsx("div",{className:"goals-summary-card",children:h.jsxs("div",{className:"summary-stat",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(Zn,{size:20})}),h.jsxs("div",{className:"stat-info",children:[h.jsx("span",{className:"stat-label",children:"Total Goals"}),h.jsx("span",{className:"stat-value",children:g.total})]})]})}),h.jsx("div",{className:"goals-summary-card",children:h.jsxs("div",{className:"summary-stat",children:[h.jsx("div",{className:"stat-icon completed",children:h.jsx(Hu,{size:20})}),h.jsxs("div",{className:"stat-info",children:[h.jsx("span",{className:"stat-label",children:"Completed"}),h.jsx("span",{className:"stat-value",children:g.completed})]})]})}),h.jsx("div",{className:"goals-summary-card",children:h.jsxs("div",{className:"summary-stat",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(d0,{size:20})}),h.jsxs("div",{className:"stat-info",children:[h.jsx("span",{className:"stat-label",children:"Progress"}),h.jsxs("span",{className:"stat-value",children:[g.overallProgress.toFixed(1),"%"]})]})]})}),g.urgentCount>0&&h.jsx("div",{className:"goals-summary-card urgent",children:h.jsxs("div",{className:"summary-stat",children:[h.jsx("div",{className:"stat-icon urgent",children:h.jsx(Vh,{size:20})}),h.jsxs("div",{className:"stat-info",children:[h.jsx("span",{className:"stat-label",children:"Due Soon"}),h.jsx("span",{className:"stat-value",children:g.urgentCount})]})]})})]}),h.jsx("div",{className:"show-more-container",children:h.jsxs("button",{className:"show-more-btn",onClick:()=>o("goals"),children:[h.jsx("span",{children:"Manage Goals"}),h.jsx(Gu,{size:16})]})})]}),w.length>0&&h.jsxs("div",{className:"recurring-transactions-section",children:[h.jsx("h3",{children:"Recurring Transactions"}),h.jsx("div",{className:"recurring-preview",children:w.map(y=>h.jsxs("div",{className:"recurring-preview-item",children:[h.jsx("div",{className:"recurring-icon",children:h.jsx(Ku,{size:16})}),h.jsx("div",{className:"category-indicator",style:{backgroundColor:y.categoryColor}}),h.jsxs("div",{className:"recurring-info",children:[h.jsx("span",{className:"description",children:y.description}),h.jsx("span",{className:"frequency",children:y.frequency})]}),h.jsxs("span",{className:`amount ${y.type}`,children:[y.type==="expense"?"-":"+",c==null?void 0:c.symbol," ",b(y.amount)]})]},y.id))}),h.jsx("div",{className:"show-more-container",children:h.jsxs("button",{className:"show-more-btn",onClick:()=>o("recurring"),children:[h.jsx("span",{children:"Manage Recurring"}),h.jsx(Gu,{size:16})]})})]})]})}function m8({categories:t,onAdd:e,onUpdate:n,onDelete:r}){const[i,a]=L.useState(!1),[o,s]=L.useState(null),l=L.useRef(null),[u,c]=L.useState({name:"",color:"#3b82f6",type:"expense"}),d=["#ef4444","#f97316","#eab308","#22c55e","#10b981","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#d946ef","#ec4899","#f43f5e"],p=()=>u.name.trim()!=="",m=A=>{A.preventDefault(),u.name.trim()&&(o?(n({...o,...u}),s(null)):e(u),c({name:"",color:"#3b82f6",type:"expense"}),a(!1))},g=()=>{setTimeout(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},w=()=>{a(!0),g()},x=A=>{s(A),c({name:A.name,color:A.color,type:A.type}),a(!0),g()},b=()=>{a(!1),s(null),c({name:"",color:"#3b82f6",type:"expense"})},y=A=>{r(A.id)},E=t.filter(A=>A.type==="expense"),N=t.filter(A=>A.type==="income");return h.jsxs("div",{className:"categories-page",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Categories"}),h.jsxs("button",{onClick:w,className:"add-button",disabled:i,children:[h.jsx(Vr,{size:20}),"Add Category"]})]}),i&&h.jsx("div",{className:"category-form-container",ref:l,children:h.jsxs("form",{onSubmit:m,className:"category-form",children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:o?"Edit Category":"Add New Category"}),h.jsx("button",{type:"button",onClick:b,className:"icon-button",children:h.jsx(_o,{size:20})})]}),h.jsxs("div",{className:"form-content",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",children:"Name *"}),h.jsx("input",{type:"text",id:"name",value:u.name,onChange:A=>c(P=>({...P,name:A.target.value})),placeholder:"Category name",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Type *"}),h.jsxs("div",{className:"radio-group",children:[h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",value:"expense",checked:u.type==="expense",onChange:A=>c(P=>({...P,type:A.target.value}))}),h.jsx("span",{children:" Expense"})]}),h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",value:"income",checked:u.type==="income",onChange:A=>c(P=>({...P,type:A.target.value}))}),h.jsx("span",{children:" Income"})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Color"}),h.jsx("div",{className:"color-picker",children:d.map(A=>h.jsx("button",{type:"button",className:`color-option ${u.color===A?"selected":""}`,style:{backgroundColor:A},onClick:()=>c(P=>({...P,color:A}))},A))}),h.jsx("input",{type:"color",value:u.color,onChange:A=>c(P=>({...P,color:A.target.value})),className:"color-input"})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:b,className:"cancel-button",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"save-button",disabled:!p(),children:[h.jsx(bf,{size:16}),o?"Update":"Save"," Category"]})]})]})]})}),h.jsxs("div",{className:"categories-grid",children:[h.jsxs("div",{className:"category-section",children:[h.jsxs("h3",{children:["Expense Categories (",E.length,")"]}),h.jsxs("div",{className:"category-list",children:[E.map(A=>h.jsxs("div",{className:"category-item",children:[h.jsxs("div",{className:"category-info",children:[h.jsx("div",{className:"category-color",style:{backgroundColor:A.color}}),h.jsx("span",{className:"category-name",children:A.name})]}),h.jsxs("div",{className:"category-actions",children:[h.jsx("button",{onClick:()=>x(A),className:"icon-button edit-button",title:"Edit category",children:h.jsx(Vs,{size:16})}),h.jsx("button",{onClick:()=>y(A),className:"icon-button delete-button",title:"Delete category",children:h.jsx(Fs,{size:16})})]})]},A.id)),E.length===0&&h.jsx("div",{className:"empty-state",children:h.jsx("p",{children:"No expense categories yet"})})]})]}),h.jsxs("div",{className:"category-section",children:[h.jsxs("h3",{children:["Income Categories (",N.length,")"]}),h.jsxs("div",{className:"category-list",children:[N.map(A=>h.jsxs("div",{className:"category-item",children:[h.jsxs("div",{className:"category-info",children:[h.jsx("div",{className:"category-color",style:{backgroundColor:A.color}}),h.jsx("span",{className:"category-name",children:A.name})]}),h.jsxs("div",{className:"category-actions",children:[h.jsx("button",{onClick:()=>x(A),className:"icon-button edit-button",title:"Edit category",children:h.jsx(Vs,{size:16})}),h.jsx("button",{onClick:()=>y(A),className:"icon-button delete-button",title:"Delete category",children:h.jsx(Fs,{size:16})})]})]},A.id)),N.length===0&&h.jsx("div",{className:"empty-state",children:h.jsx("p",{children:"No income categories yet"})})]})]})]})]})}function g8({budgets:t,categories:e,transactions:n,currency:r,onAdd:i,onUpdate:a,onDelete:o}){const[s,l]=L.useState(!1),[u,c]=L.useState(null),d=L.useRef(null),[p,m]=L.useState({categoryId:"",amount:"",period:"monthly"}),g=Tn.find(O=>O.code===r),w=L.useMemo(()=>{const O=new Date,k=Xs(O),j=Ys(O);return t.map(C=>{const $=n.filter(R=>R.type==="expense"&&R.categoryId===C.categoryId&&new Date(R.date)>=k&&new Date(R.date)<=j).reduce((R,B)=>R+B.amount,0),F=e.find(R=>R.id===C.categoryId),W=C.amount>0?$/C.amount*100:0;return{...C,categoryName:F?F.name:"Unknown",categoryColor:F?F.color:"#6b7280",spent:$,remaining:Math.max(0,C.amount-$),percentage:Math.min(100,W),isOverBudget:$>C.amount,isNearLimit:W>=80&&W<100}})},[t,n,e]),x=()=>{const O=p.categoryId!==""&&p.amount.trim()!=="",k=!isNaN(p.amount)&&parseFloat(p.amount)>0;return O&&k},b=O=>{if(O.preventDefault(),!p.categoryId||!p.amount)return;const k=parseFloat(p.amount);if(k<=0||t.find($=>$.categoryId===p.categoryId&&(!u||$.id!==u.id)))return;const C={...p,amount:k};u?(a({...u,...C}),c(null)):i(C),m({categoryId:"",amount:"",period:"monthly"}),l(!1)},y=()=>{setTimeout(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},E=()=>{l(!0),y()},N=O=>{c(O),m({categoryId:O.categoryId,amount:O.amount.toString(),period:O.period}),l(!0),y()},A=()=>{l(!1),c(null),m({categoryId:"",amount:"",period:"monthly"})},P=O=>{o(O.id)},S=O=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(O),T=e.filter(O=>O.type==="expense").filter(O=>!t.some(k=>k.categoryId===O.id)||u&&u.categoryId===O.id);return h.jsxs("div",{className:"budgets-page",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Budgets"}),h.jsxs("button",{onClick:E,className:"add-button",disabled:T.length===0&&!u,children:[h.jsx(Vr,{size:20}),"Add Budget"]})]}),s&&h.jsx("div",{className:"budget-form-container",ref:d,children:h.jsxs("form",{onSubmit:b,className:"budget-form",children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:u?"Edit Budget":"Add New Budget"}),h.jsx("button",{type:"button",onClick:A,className:"icon-button",children:h.jsx(_o,{size:20})})]}),h.jsxs("div",{className:"form-content",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"categoryId",children:"Category *"}),h.jsxs("select",{id:"categoryId",value:p.categoryId,onChange:O=>m(k=>({...k,categoryId:O.target.value})),required:!0,children:[h.jsx("option",{value:"",children:"Select a category"}),T.map(O=>h.jsx("option",{value:O.id,children:O.name},O.id))]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"amount",children:["Budget Amount (",g==null?void 0:g.symbol,") *"]}),h.jsx("input",{type:"number",id:"amount",value:p.amount,onChange:O=>m(k=>({...k,amount:O.target.value})),step:"0.01",min:"0",required:!0,placeholder:"0.00"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"period",children:"Period"}),h.jsxs("select",{id:"period",value:p.period,onChange:O=>m(k=>({...k,period:O.target.value})),children:[h.jsx("option",{value:"monthly",children:"Monthly"}),h.jsx("option",{value:"yearly",children:"Yearly"})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:A,className:"cancel-button",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"save-button",disabled:!x(),children:[h.jsx(bf,{size:16}),u?"Update":"Save"," Budget"]})]})]})]})}),w.length===0?h.jsxs("div",{className:"empty-state",children:[h.jsx(Zn,{size:48}),h.jsx("h3",{children:"No budgets set up yet"}),h.jsx("p",{children:"Create budgets to track your spending goals for different categories"}),T.length===0?h.jsx("p",{children:"You need to create some expense categories first"}):h.jsxs("button",{onClick:E,className:"add-button",children:[h.jsx(Vr,{size:20}),"Create Your First Budget"]})]}):h.jsx("div",{className:"budgets-grid",children:w.map(O=>h.jsxs("div",{className:`budget-card ${O.isOverBudget?"over-budget":O.isNearLimit?"near-limit":""}`,children:[h.jsxs("div",{className:"budget-header",children:[h.jsxs("div",{className:"budget-category",children:[h.jsx("div",{className:"category-dot",style:{backgroundColor:O.categoryColor}}),h.jsx("h3",{children:O.categoryName})]}),h.jsxs("div",{className:"budget-actions",children:[h.jsx("button",{onClick:()=>N(O),className:"icon-button edit-button",title:"Edit budget",children:h.jsx(Vs,{size:16})}),h.jsx("button",{onClick:()=>P(O),className:"icon-button delete-button",title:"Delete budget",children:h.jsx(Fs,{size:16})})]})]}),h.jsxs("div",{className:"budget-status",children:[O.isOverBudget&&h.jsxs("div",{className:"budget-alert over",children:[h.jsx(Vh,{size:16}),h.jsx("span",{children:"Over Budget"})]}),O.isNearLimit&&!O.isOverBudget&&h.jsxs("div",{className:"budget-alert warning",children:[h.jsx(Vh,{size:16}),h.jsx("span",{children:"Near Limit"})]}),!O.isOverBudget&&!O.isNearLimit&&h.jsxs("div",{className:"budget-alert good",children:[h.jsx(Zn,{size:16}),h.jsx("span",{children:"On Track"})]})]}),h.jsxs("div",{className:"budget-amounts",children:[h.jsxs("div",{className:"amount-row",children:[h.jsx("span",{className:"label",children:"Spent"}),h.jsxs("span",{className:"value spent",children:[g==null?void 0:g.symbol," ",S(O.spent)]})]}),h.jsxs("div",{className:"amount-row",children:[h.jsx("span",{className:"label",children:"Budget"}),h.jsxs("span",{className:"value total",children:[g==null?void 0:g.symbol," ",S(O.amount)]})]}),h.jsxs("div",{className:"amount-row",children:[h.jsx("span",{className:"label",children:O.isOverBudget?"Over by":"Remaining"}),h.jsxs("span",{className:`value ${O.isOverBudget?"over":"remaining"}`,children:[g==null?void 0:g.symbol," ",S(O.isOverBudget?O.spent-O.amount:O.remaining)]})]})]}),h.jsxs("div",{className:"budget-progress",children:[h.jsx("div",{className:"progress-bar",children:h.jsx("div",{className:`progress-fill ${O.isOverBudget?"over":O.isNearLimit?"warning":"good"}`,style:{width:`${Math.min(100,O.percentage)}%`}})}),h.jsxs("div",{className:"progress-text",children:[O.percentage.toFixed(1),"% used"]})]}),h.jsx("div",{className:"budget-period",children:h.jsxs("span",{children:[O.period==="yearly"?"Yearly":"Monthly"," Budget"]})})]},O.id))})]})}const y8=(t,e,n)=>{const r=[],i=new Date(e);for(;i<=n;){switch(t.frequency){case"daily":r.push(new Date(i)),i.setDate(i.getDate()+1);break;case"weekly":const a=t.dayOfWeek||e.getDay(),o=i.getDay(),s=(a-o+7)%7;for(s===0&&i.getTime()===e.getTime()&&r.push(new Date(i)),i.setDate(i.getDate()+(s===0?7:s)),i<=n&&r.push(new Date(i));i<=n;)i.setDate(i.getDate()+7),i<=n&&r.push(new Date(i));break;case"monthly":const l=t.dayOfMonth||e.getDate();for(;i<=n;){const u=new Date(i.getFullYear(),i.getMonth(),l);u.getDate()!==parseInt(l)&&u.setDate(0),u>=e&&u<=n&&r.push(new Date(u)),i.setMonth(i.getMonth()+1)}break;case"yearly":for(;i<=n;)i>=e&&r.push(new Date(i)),i.setFullYear(i.getFullYear()+1);break}if(r.length>1e3){console.warn("Too many recurring transactions generated, stopping at 1000");break}}return r.sort((a,o)=>a.getTime()-o.getTime())},v8=t=>{const e=new Date;e.setHours(0,0,0,0);const n=new Date(t.startDate),r=t.endDate?new Date(t.endDate):null;if(r&&r<e)return null;const i=n>e?n:new Date(e.getTime()+24*60*60*1e3),a=y8(t,i,new Date(e.getFullYear()+1,11,31));return a.length>0?a[0].toISOString().split("T")[0]:null};function w8({recurringTransactions:t,categories:e,currency:n,onAdd:r,onUpdate:i,onDelete:a,onToggleActive:o}){const[s,l]=L.useState(!1),[u,c]=L.useState(null),[d,p]=L.useState("all"),[m,g]=L.useState(8),w=L.useRef(null),[x,b]=L.useState({type:"expense",amount:"",description:"",categoryId:"",frequency:"monthly",startDate:new Date().toISOString().split("T")[0],endDate:"",dayOfMonth:new Date().getDate(),dayOfWeek:new Date().getDay(),isActive:!0,notes:""}),[y,E]=L.useState({}),[N,A]=L.useState(!1),[P,S]=L.useState({}),v=Tn.find(ie=>ie.code===n);L.useEffect(()=>{u&&b({type:u.type,amount:u.amount.toString(),description:u.description,categoryId:u.categoryId,frequency:u.frequency,startDate:u.startDate,endDate:u.endDate||"",dayOfMonth:u.dayOfMonth||new Date().getDate(),dayOfWeek:u.dayOfWeek||new Date().getDay(),isActive:u.isActive,notes:u.notes||""})},[u]);const T=(ie,J)=>{const se={...y};switch(ie){case"amount":J?isNaN(J)||parseFloat(J)<=0?se.amount="Amount must be a positive number":parseFloat(J)>999999.99?se.amount="Amount must be less than 1,000,000":delete se.amount:se.amount="Amount is required";break;case"description":J.trim()?J.trim().length<2?se.description="Description must be at least 2 characters":J.trim().length>100?se.description="Description must be less than 100 characters":delete se.description:se.description="Description is required";break;case"categoryId":J?delete se.categoryId:se.categoryId="Category is required";break;case"startDate":J?delete se.startDate:se.startDate="Start date is required";break;case"endDate":J&&new Date(J)<=new Date(x.startDate)?se.endDate="End date must be after start date":delete se.endDate;break}return E(se),Object.keys(se).length===0},O=()=>{const ie=x.amount.trim()!==""&&x.description.trim()!==""&&x.categoryId!==""&&x.startDate!=="",J=Object.keys(y).length===0;return ie&&J&&!N},k=async ie=>{if(ie.preventDefault(),!O()){const J={};["amount","description","categoryId","startDate","endDate"].forEach(se=>J[se]=!0),S(J);return}A(!0);try{if(u){const J={...x,amount:parseFloat(x.amount),id:u.id};await i(J)}else{const J={...x,amount:parseFloat(x.amount)};await r(J)}$()}catch(J){console.error("Error submitting recurring transaction:",J)}finally{A(!1)}},j=ie=>{const{name:J,value:se,type:ge,checked:ee}=ie.target,Pe=ge==="checkbox"?ee:se;b(xe=>({...xe,[J]:Pe})),y[J]&&E(xe=>{const ze={...xe};return delete ze[J],ze})},C=ie=>{const{name:J,value:se}=ie.target;S(ge=>({...ge,[J]:!0})),T(J,se)},$=()=>{b({type:"expense",amount:"",description:"",categoryId:"",frequency:"monthly",startDate:new Date().toISOString().split("T")[0],endDate:"",dayOfMonth:new Date().getDate(),dayOfWeek:new Date().getDay(),isActive:!0,notes:""}),E({}),S({}),c(null),l(!1)},F=()=>{setTimeout(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},W=()=>{l(!0),F()},R=ie=>{c(ie),l(!0),F()},B=ie=>{a(ie.id)},M=ie=>{o(ie.id,!ie.isActive)},X=e.filter(ie=>ie.type===x.type),H=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],V=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],G=t.filter(ie=>d==="all"?!0:ie.type===d),me=G.slice(0,m),ye=G.length>m,Ve=()=>{g(ie=>ie+8)},Be=ie=>{p(ie),g(8)};return h.jsxs("div",{className:"recurring-transactions",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Recurring Transactions"}),h.jsxs("button",{onClick:W,className:"add-button",disabled:s,children:[h.jsx(Vr,{size:20}),"Add Recurring Transaction"]})]}),t.length>0&&h.jsx("div",{className:"recurring-filter-section",children:h.jsxs("div",{className:"filter-toggle-group",children:[h.jsxs("button",{className:`filter-toggle-btn ${d==="all"?"active":""}`,onClick:()=>Be("all"),children:["All (",t.length,")"]}),h.jsxs("button",{className:`filter-toggle-btn ${d==="expense"?"active":""}`,onClick:()=>Be("expense"),children:["Expenses (",t.filter(ie=>ie.type==="expense").length,")"]}),h.jsxs("button",{className:`filter-toggle-btn ${d==="income"?"active":""}`,onClick:()=>Be("income"),children:["Income (",t.filter(ie=>ie.type==="income").length,")"]})]})}),s&&h.jsx("div",{className:"recurring-form-container",ref:w,children:h.jsxs("form",{onSubmit:k,className:"recurring-form",noValidate:!0,children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:u?"Edit Recurring Transaction":"Add Recurring Transaction"}),h.jsx("button",{type:"button",onClick:$,className:"icon-button",disabled:N,children:h.jsx(_o,{size:20})})]}),h.jsxs("div",{className:"form-content",children:[h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Type *"}),h.jsxs("div",{className:"radio-group",children:[h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",name:"type",value:"expense",checked:x.type==="expense",onChange:j,disabled:N}),h.jsx("span",{children:" Expense"})]}),h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",name:"type",value:"income",checked:x.type==="income",onChange:j,disabled:N}),h.jsx("span",{children:" Income"})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"amount",children:["Amount (",v==null?void 0:v.symbol,") *"]}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"number",id:"amount",name:"amount",value:x.amount,onChange:j,onBlur:C,step:"0.01",min:"0",required:!0,placeholder:"0.00",className:y.amount&&P.amount?"error":"",disabled:N,autoComplete:"off"}),y.amount&&P.amount&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.amount})]})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"description",children:"Description *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"text",id:"description",name:"description",value:x.description,onChange:j,onBlur:C,required:!0,placeholder:"Enter description",className:y.description&&P.description?"error":"",disabled:N,maxLength:"100"}),y.description&&P.description&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.description})]}),h.jsxs("div",{className:"char-count",children:[x.description.length,"/100"]})]})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"categoryId",children:"Category *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsxs("select",{id:"categoryId",name:"categoryId",value:x.categoryId,onChange:j,onBlur:C,required:!0,className:y.categoryId&&P.categoryId?"error":"",disabled:N,children:[h.jsx("option",{value:"",children:"Select a category"}),X.map(ie=>h.jsx("option",{value:ie.id,children:ie.name},ie.id))]}),y.categoryId&&P.categoryId&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.categoryId})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"frequency",children:"Frequency *"}),h.jsx("select",{id:"frequency",name:"frequency",value:x.frequency,onChange:j,disabled:N,children:H.map(ie=>h.jsx("option",{value:ie.value,children:ie.label},ie.value))})]})]}),x.frequency==="weekly"&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"dayOfWeek",children:"Day of Week"}),h.jsx("select",{id:"dayOfWeek",name:"dayOfWeek",value:x.dayOfWeek,onChange:j,disabled:N,children:V.map((ie,J)=>h.jsx("option",{value:J,children:ie},J))})]}),x.frequency==="monthly"&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"dayOfMonth",children:"Day of Month"}),h.jsx("input",{type:"number",id:"dayOfMonth",name:"dayOfMonth",value:x.dayOfMonth,onChange:j,min:"1",max:"31",disabled:N}),h.jsx("small",{children:"If day doesn't exist in a month, it will use the last day of that month"})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"startDate",children:"Start Date *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"date",id:"startDate",name:"startDate",value:x.startDate,onChange:j,onBlur:C,required:!0,className:y.startDate&&P.startDate?"error":"",disabled:N}),y.startDate&&P.startDate&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.startDate})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"endDate",children:"End Date (Optional)"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"date",id:"endDate",name:"endDate",value:x.endDate,onChange:j,onBlur:C,className:y.endDate&&P.endDate?"error":"",disabled:N}),y.endDate&&P.endDate&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.endDate})]})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"notes",children:"Notes"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("textarea",{id:"notes",name:"notes",value:x.notes,onChange:j,rows:"3",placeholder:"Additional notes (optional)",disabled:N,maxLength:"500"}),h.jsxs("div",{className:"char-count",children:[x.notes.length,"/500"]})]})]}),h.jsx("div",{className:"form-group",children:h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",name:"isActive",checked:x.isActive,onChange:j,disabled:N}),h.jsx("span",{children:"Active (generate transactions automatically)"})]})})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:$,className:"cancel-button",disabled:N,children:"Cancel"}),h.jsx("button",{type:"submit",className:"save-button",disabled:!O(),children:N?h.jsxs(h.Fragment,{children:[h.jsx(o_,{size:16,className:"spinning"}),u?"Updating...":"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(bf,{size:16}),u?"Update":"Save"," Recurring Transaction"]})})]})]})}),t.length>0?h.jsx(h.Fragment,{children:G.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"recurring-list",children:me.map(ie=>{const J=e.find(ge=>ge.id===ie.categoryId),se=v8(ie);return h.jsxs("div",{className:`recurring-item ${ie.isActive?"":"inactive"}`,children:[h.jsxs("div",{className:"recurring-info",children:[h.jsxs("div",{className:"recurring-main",children:[h.jsxs("div",{className:"recurring-description",children:[h.jsx("h4",{children:ie.description}),h.jsxs("div",{className:"recurring-details",children:[h.jsxs("span",{className:"frequency",children:[h.jsx(Ku,{size:14}),ie.frequency.charAt(0).toUpperCase()+ie.frequency.slice(1)]}),h.jsxs("span",{className:"next-occurrence",children:[h.jsx(Tm,{size:14}),"Next: ",se||"N/A"]})]})]}),h.jsxs("div",{className:"recurring-amount",children:[h.jsxs("span",{className:`amount ${ie.type}`,children:[ie.type==="expense"?"-":"+",v==null?void 0:v.symbol," ",ie.amount.toFixed(2)]}),J&&h.jsx("span",{className:"category",style:{color:J.color},children:J.name})]})]}),ie.notes&&h.jsx("p",{className:"recurring-notes",children:ie.notes})]}),h.jsxs("div",{className:"recurring-actions",children:[h.jsx("button",{onClick:()=>M(ie),className:`toggle-button ${ie.isActive?"active":"inactive"}`,title:ie.isActive?"Pause recurring transaction":"Resume recurring transaction",children:ie.isActive?h.jsx(_V,{size:16}):h.jsx(xV,{size:16})}),h.jsx("button",{onClick:()=>R(ie),className:"icon-button edit-button",title:"Edit recurring transaction",children:h.jsx(Vs,{size:16})}),h.jsx("button",{onClick:()=>B(ie),className:"icon-button delete-button",title:"Delete recurring transaction",children:h.jsx(Fs,{size:16})})]})]},ie.id)})}),ye&&h.jsx("div",{className:"load-more-section",children:h.jsxs("button",{onClick:Ve,className:"load-more-button",children:["Load More (",G.length-m," remaining)"]})})]}):h.jsxs("div",{className:"empty-state",children:[h.jsx(Ku,{size:48}),h.jsxs("h3",{children:["No ",d==="all"?"":d," recurring transactions"]}),h.jsx("p",{children:d==="expense"?"No recurring expenses found. Add recurring payments like rent or subscriptions.":d==="income"?"No recurring income found. Add recurring income like salary or freelance payments.":"No recurring transactions match the current filter."})]})}):h.jsxs("div",{className:"empty-state",children:[h.jsx(Ku,{size:48}),h.jsx("h3",{children:"No Recurring Transactions"}),h.jsx("p",{children:"Set up automatic transactions like salary, rent, or subscriptions to save time."}),h.jsxs("button",{onClick:W,className:"add-button",children:[h.jsx(Vr,{size:20}),"Add Your First Recurring Transaction"]})]})]})}function Rj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Rj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Rj(t))&&(r&&(r+=" "),r+=e);return r}var b8=Array.isArray,jn=b8,_8=typeof rd=="object"&&rd&&rd.Object===Object&&rd,Mj=_8,x8=Mj,E8=typeof self=="object"&&self&&self.Object===Object&&self,S8=x8||E8||Function("return this")(),ei=S8,T8=ei,A8=T8.Symbol,jf=A8,eA=jf,$j=Object.prototype,P8=$j.hasOwnProperty,O8=$j.toString,gu=eA?eA.toStringTag:void 0;function I8(t){var e=P8.call(t,gu),n=t[gu];try{t[gu]=void 0;var r=!0}catch{}var i=O8.call(t);return r&&(e?t[gu]=n:delete t[gu]),i}var C8=I8,k8=Object.prototype,N8=k8.toString;function j8(t){return N8.call(t)}var D8=j8,tA=jf,R8=C8,M8=D8,$8="[object Null]",L8="[object Undefined]",nA=tA?tA.toStringTag:void 0;function V8(t){return t==null?t===void 0?L8:$8:nA&&nA in Object(t)?R8(t):M8(t)}var Ri=V8;function F8(t){return t!=null&&typeof t=="object"}var Mi=F8,U8=Ri,B8=Mi,z8="[object Symbol]";function W8(t){return typeof t=="symbol"||B8(t)&&U8(t)==z8}var Nl=W8,q8=jn,H8=Nl,G8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K8=/^\w*$/;function Y8(t,e){if(q8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||H8(t)?!0:K8.test(t)||!G8.test(t)||e!=null&&t in Object(e)}var r1=Y8;function X8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ra=X8;const jl=et(Ra);var Q8=Ri,J8=Ra,Z8="[object AsyncFunction]",e7="[object Function]",t7="[object GeneratorFunction]",n7="[object Proxy]";function r7(t){if(!J8(t))return!1;var e=Q8(t);return e==e7||e==t7||e==Z8||e==n7}var i1=r7;const Ie=et(i1);var i7=ei,a7=i7["__core-js_shared__"],o7=a7,Wy=o7,rA=function(){var t=/[^.]+$/.exec(Wy&&Wy.keys&&Wy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s7(t){return!!rA&&rA in t}var l7=s7,u7=Function.prototype,c7=u7.toString;function f7(t){if(t!=null){try{return c7.call(t)}catch{}try{return t+""}catch{}}return""}var Lj=f7,d7=i1,h7=l7,p7=Ra,m7=Lj,g7=/[\\^$.*+?()[\]{}|]/g,y7=/^\[object .+?Constructor\]$/,v7=Function.prototype,w7=Object.prototype,b7=v7.toString,_7=w7.hasOwnProperty,x7=RegExp("^"+b7.call(_7).replace(g7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E7(t){if(!p7(t)||h7(t))return!1;var e=d7(t)?x7:y7;return e.test(m7(t))}var S7=E7;function T7(t,e){return t==null?void 0:t[e]}var A7=T7,P7=S7,O7=A7;function I7(t,e){var n=O7(t,e);return P7(n)?n:void 0}var $o=I7,C7=$o,k7=C7(Object,"create"),Jm=k7,iA=Jm;function N7(){this.__data__=iA?iA(null):{},this.size=0}var j7=N7;function D7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var R7=D7,M7=Jm,$7="__lodash_hash_undefined__",L7=Object.prototype,V7=L7.hasOwnProperty;function F7(t){var e=this.__data__;if(M7){var n=e[t];return n===$7?void 0:n}return V7.call(e,t)?e[t]:void 0}var U7=F7,B7=Jm,z7=Object.prototype,W7=z7.hasOwnProperty;function q7(t){var e=this.__data__;return B7?e[t]!==void 0:W7.call(e,t)}var H7=q7,G7=Jm,K7="__lodash_hash_undefined__";function Y7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=G7&&e===void 0?K7:e,this}var X7=Y7,Q7=j7,J7=R7,Z7=U7,eW=H7,tW=X7;function Dl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dl.prototype.clear=Q7;Dl.prototype.delete=J7;Dl.prototype.get=Z7;Dl.prototype.has=eW;Dl.prototype.set=tW;var nW=Dl;function rW(){this.__data__=[],this.size=0}var iW=rW;function aW(t,e){return t===e||t!==t&&e!==e}var a1=aW,oW=a1;function sW(t,e){for(var n=t.length;n--;)if(oW(t[n][0],e))return n;return-1}var Zm=sW,lW=Zm,uW=Array.prototype,cW=uW.splice;function fW(t){var e=this.__data__,n=lW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():cW.call(e,n,1),--this.size,!0}var dW=fW,hW=Zm;function pW(t){var e=this.__data__,n=hW(e,t);return n<0?void 0:e[n][1]}var mW=pW,gW=Zm;function yW(t){return gW(this.__data__,t)>-1}var vW=yW,wW=Zm;function bW(t,e){var n=this.__data__,r=wW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var _W=bW,xW=iW,EW=dW,SW=mW,TW=vW,AW=_W;function Rl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rl.prototype.clear=xW;Rl.prototype.delete=EW;Rl.prototype.get=SW;Rl.prototype.has=TW;Rl.prototype.set=AW;var eg=Rl,PW=$o,OW=ei,IW=PW(OW,"Map"),o1=IW,aA=nW,CW=eg,kW=o1;function NW(){this.size=0,this.__data__={hash:new aA,map:new(kW||CW),string:new aA}}var jW=NW;function DW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var RW=DW,MW=RW;function $W(t,e){var n=t.__data__;return MW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var tg=$W,LW=tg;function VW(t){var e=LW(this,t).delete(t);return this.size-=e?1:0,e}var FW=VW,UW=tg;function BW(t){return UW(this,t).get(t)}var zW=BW,WW=tg;function qW(t){return WW(this,t).has(t)}var HW=qW,GW=tg;function KW(t,e){var n=GW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var YW=KW,XW=jW,QW=FW,JW=zW,ZW=HW,eq=YW;function Ml(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ml.prototype.clear=XW;Ml.prototype.delete=QW;Ml.prototype.get=JW;Ml.prototype.has=ZW;Ml.prototype.set=eq;var s1=Ml,Vj=s1,tq="Expected a function";function l1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(l1.Cache||Vj),n}l1.Cache=Vj;var Fj=l1;const nq=et(Fj);var rq=Fj,iq=500;function aq(t){var e=rq(t,function(r){return n.size===iq&&n.clear(),r}),n=e.cache;return e}var oq=aq,sq=oq,lq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uq=/\\(\\)?/g,cq=sq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lq,function(n,r,i,a){e.push(i?a.replace(uq,"$1"):r||n)}),e}),fq=cq;function dq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var u1=dq,oA=jf,hq=u1,pq=jn,mq=Nl,sA=oA?oA.prototype:void 0,lA=sA?sA.toString:void 0;function Uj(t){if(typeof t=="string")return t;if(pq(t))return hq(t,Uj)+"";if(mq(t))return lA?lA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gq=Uj,yq=gq;function vq(t){return t==null?"":yq(t)}var Bj=vq,wq=jn,bq=r1,_q=fq,xq=Bj;function Eq(t,e){return wq(t)?t:bq(t,e)?[t]:_q(xq(t))}var zj=Eq,Sq=Nl;function Tq(t){if(typeof t=="string"||Sq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ng=Tq,Aq=zj,Pq=ng;function Oq(t,e){e=Aq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Pq(e[n++])];return n&&n==r?t:void 0}var c1=Oq,Iq=c1;function Cq(t,e,n){var r=t==null?void 0:Iq(t,e);return r===void 0?n:r}var Wj=Cq;const or=et(Wj);function kq(t){return t==null}var Nq=kq;const Ce=et(Nq);var jq=Ri,Dq=jn,Rq=Mi,Mq="[object String]";function $q(t){return typeof t=="string"||!Dq(t)&&Rq(t)&&jq(t)==Mq}var Lq=$q;const Oo=et(Lq);var qj={exports:{}},Ke={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1=Symbol.for("react.element"),d1=Symbol.for("react.portal"),rg=Symbol.for("react.fragment"),ig=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),sg=Symbol.for("react.context"),Vq=Symbol.for("react.server_context"),lg=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),cg=Symbol.for("react.suspense_list"),fg=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),Fq=Symbol.for("react.offscreen"),Hj;Hj=Symbol.for("react.module.reference");function fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case f1:switch(t=t.type,t){case rg:case ag:case ig:case ug:case cg:return t;default:switch(t=t&&t.$$typeof,t){case Vq:case sg:case lg:case dg:case fg:case og:return t;default:return e}}case d1:return e}}}Ke.ContextConsumer=sg;Ke.ContextProvider=og;Ke.Element=f1;Ke.ForwardRef=lg;Ke.Fragment=rg;Ke.Lazy=dg;Ke.Memo=fg;Ke.Portal=d1;Ke.Profiler=ag;Ke.StrictMode=ig;Ke.Suspense=ug;Ke.SuspenseList=cg;Ke.isAsyncMode=function(){return!1};Ke.isConcurrentMode=function(){return!1};Ke.isContextConsumer=function(t){return fr(t)===sg};Ke.isContextProvider=function(t){return fr(t)===og};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===f1};Ke.isForwardRef=function(t){return fr(t)===lg};Ke.isFragment=function(t){return fr(t)===rg};Ke.isLazy=function(t){return fr(t)===dg};Ke.isMemo=function(t){return fr(t)===fg};Ke.isPortal=function(t){return fr(t)===d1};Ke.isProfiler=function(t){return fr(t)===ag};Ke.isStrictMode=function(t){return fr(t)===ig};Ke.isSuspense=function(t){return fr(t)===ug};Ke.isSuspenseList=function(t){return fr(t)===cg};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rg||t===ag||t===ig||t===ug||t===cg||t===Fq||typeof t=="object"&&t!==null&&(t.$$typeof===dg||t.$$typeof===fg||t.$$typeof===og||t.$$typeof===sg||t.$$typeof===lg||t.$$typeof===Hj||t.getModuleId!==void 0)};Ke.typeOf=fr;qj.exports=Ke;var Uq=qj.exports,Bq=Ri,zq=Mi,Wq="[object Number]";function qq(t){return typeof t=="number"||zq(t)&&Bq(t)==Wq}var Gj=qq;const Hq=et(Gj);var Gq=Gj;function Kq(t){return Gq(t)&&t!=+t}var Yq=Kq;const Df=et(Yq);var Ar=function(e){return e===0?0:e>0?1:-1},no=function(e){return Oo(e)&&e.indexOf("%")===e.length-1},oe=function(e){return Hq(e)&&!Df(e)},Xq=function(e){return Ce(e)},$t=function(e){return oe(e)||Oo(e)},Qq=0,Rf=function(e){var n=++Qq;return"".concat(e||"").concat(n)},Io=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!Oo(e))return r;var a;if(no(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Df(a)&&(a=r),i&&a>n&&(a=n),a},Zi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Jq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Er=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function cp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):or(r,e))===n})}var Zq=function(e,n){return oe(e)&&oe(n)?e-n:Oo(e)&&Oo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Is(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}var eH=["viewBox","children"],tH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uA=["points","pathLength"],qy={svg:eH,polygon:uA,polyline:uA},h1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(L.isValidElement(e)&&(r=e.props),!jl(r))return null;var i={};return Object.keys(r).forEach(function(a){h1.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},nH=function(e,n,r){return function(i){return e(n,r,i),null}},dp=function(e,n,r){if(!jl(e)||F0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];h1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=nH(o,n,r))}),i},rH=["children"],iH=["children"];function cA(t,e){if(t==null)return{};var n=aH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}var fA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},dA=null,Hy=null,p1=function t(e){if(e===dA&&Array.isArray(Hy))return Hy;var n=[];return L.Children.forEach(e,function(r){Ce(r)||(Uq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Hy=n,dA=e,n};function sr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return yi(i)}):r=[yi(e)],p1(t).forEach(function(i){var a=or(i,"type.displayName")||or(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Vn(t,e){var n=sr(t,e);return n&&n[0]}var hA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},oH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sH=function(e){return e&&e.type&&Oo(e.type)&&oH.indexOf(e.type)>=0},lH=function(e){return e&&U0(e)==="object"&&"clipDot"in e},uH=function(e,n,r,i){var a,o=(a=qy==null?void 0:qy[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ie(e)&&(i&&o.includes(n)||tH.includes(n))||r&&h1.includes(n)},Re=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(L.isValidElement(e)&&(i=e.props),!jl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;uH((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},B0=function t(e,n){if(e===n)return!0;var r=L.Children.count(e);if(r!==L.Children.count(n))return!1;if(r===0)return!0;if(r===1)return pA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!pA(a,o))return!1}return!0},pA=function(e,n){if(Ce(e)&&Ce(n))return!0;if(!Ce(e)&&!Ce(n)){var r=e.props||{},i=r.children,a=cA(r,rH),o=n.props||{},s=o.children,l=cA(o,iH);return i&&s?Is(a,l)&&B0(i,s):!i&&!s?Is(a,l):!1}return!1},mA=function(e,n){var r=[],i={};return p1(e).forEach(function(a,o){if(sH(a))r.push(a);else if(a){var s=yi(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(a,s,o);r.push(d),i[s]=!0}}}),r},cH=function(e){var n=e&&e.type;return n&&fA[n]?fA[n]:null},fH=function(e,n){return p1(n).indexOf(e)},dH=["children","width","height","viewBox","className","style","title","desc"];function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}function hH(t,e){if(t==null)return{};var n=pH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=hH(t,dH),c=i||{width:n,height:r,x:0,y:0},d=Le("recharts-surface",a);return U.createElement("svg",z0({},Re(u,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),U.createElement("title",null,s),U.createElement("desc",null,l),e)}var mH=["children","className"];function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function gH(t,e){if(t==null)return{};var n=yH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Et=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=gH(t,mH),a=Le("recharts-layer",r);return U.createElement("g",q0({className:a},Re(i,!0),{ref:e}),n)}),vi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function vH(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var wH=vH,bH=wH;function _H(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:bH(t,e,n)}var xH=_H,EH="\\ud800-\\udfff",SH="\\u0300-\\u036f",TH="\\ufe20-\\ufe2f",AH="\\u20d0-\\u20ff",PH=SH+TH+AH,OH="\\ufe0e\\ufe0f",IH="\\u200d",CH=RegExp("["+IH+EH+PH+OH+"]");function kH(t){return CH.test(t)}var Kj=kH;function NH(t){return t.split("")}var jH=NH,Yj="\\ud800-\\udfff",DH="\\u0300-\\u036f",RH="\\ufe20-\\ufe2f",MH="\\u20d0-\\u20ff",$H=DH+RH+MH,LH="\\ufe0e\\ufe0f",VH="["+Yj+"]",H0="["+$H+"]",G0="\\ud83c[\\udffb-\\udfff]",FH="(?:"+H0+"|"+G0+")",Xj="[^"+Yj+"]",Qj="(?:\\ud83c[\\udde6-\\uddff]){2}",Jj="[\\ud800-\\udbff][\\udc00-\\udfff]",UH="\\u200d",Zj=FH+"?",eD="["+LH+"]?",BH="(?:"+UH+"(?:"+[Xj,Qj,Jj].join("|")+")"+eD+Zj+")*",zH=eD+Zj+BH,WH="(?:"+[Xj+H0+"?",H0,Qj,Jj,VH].join("|")+")",qH=RegExp(G0+"(?="+G0+")|"+WH+zH,"g");function HH(t){return t.match(qH)||[]}var GH=HH,KH=jH,YH=Kj,XH=GH;function QH(t){return YH(t)?XH(t):KH(t)}var JH=QH,ZH=xH,eG=Kj,tG=JH,nG=Bj;function rG(t){return function(e){e=nG(e);var n=eG(e)?tG(e):void 0,r=n?n[0]:e.charAt(0),i=n?ZH(n,1).join(""):e.slice(1);return r[t]()+i}}var iG=rG,aG=iG,oG=aG("toUpperCase"),sG=oG;const hg=et(sG);function nt(t){return function(){return t}}const tD=Math.cos,hp=Math.sin,Dr=Math.sqrt,pp=Math.PI,pg=2*pp,K0=Math.PI,Y0=2*K0,Ya=1e-6,lG=Y0-Ya;function nD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nD:uG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,d=s-n,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Ya)if(!(Math.abs(d*l-u*c)>Ya)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,w=l*l+u*u,x=m*m+g*g,b=Math.sqrt(w),y=Math.sqrt(p),E=a*Math.tan((K0-Math.acos((w+p-x)/(2*b*y)))/2),N=E/y,A=E/b;Math.abs(N-1)>Ya&&this._append`L${e+N*c},${n+N*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ya||Math.abs(this._y1-c)>Ya)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%Y0+Y0),p>lG?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:p>Ya&&this._append`A${r},${r},0,${+(p>=K0)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function m1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cG(e)}function g1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rD(t){this._context=t}rD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mg(t){return new rD(t)}function iD(t){return t[0]}function aD(t){return t[1]}function oD(t,e){var n=nt(!0),r=null,i=mg,a=null,o=m1(s);t=typeof t=="function"?t:t===void 0?iD:nt(t),e=typeof e=="function"?e:e===void 0?aD:nt(e);function s(l){var u,c=(l=g1(l)).length,d,p=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(d,u,l),+e(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:nt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:nt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:nt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function kd(t,e,n){var r=null,i=nt(!0),a=null,o=mg,s=null,l=m1(u);t=typeof t=="function"?t:t===void 0?iD:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?aD:nt(+n);function u(d){var p,m,g,w=(d=g1(d)).length,x,b=!1,y,E=new Array(w),N=new Array(w);for(a==null&&(s=o(y=l())),p=0;p<=w;++p){if(!(p<w&&i(x=d[p],p,d))===b)if(b=!b)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=m;--g)s.point(E[g],N[g]);s.lineEnd(),s.areaEnd()}b&&(E[p]=+t(x,p,d),N[p]=+e(x,p,d),s.point(r?+r(x,p,d):E[p],n?+n(x,p,d):N[p]))}if(y)return s=null,y+""||null}function c(){return oD().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:nt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:nt(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:nt(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class sD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fG(t){return new sD(t,!0)}function dG(t){return new sD(t,!1)}const y1={draw(t,e){const n=Dr(e/pp);t.moveTo(n,0),t.arc(0,0,n,0,pg)}},hG={draw(t,e){const n=Dr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},lD=Dr(1/3),pG=lD*2,mG={draw(t,e){const n=Dr(e/pG),r=n*lD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gG={draw(t,e){const n=Dr(e),r=-n/2;t.rect(r,r,n,n)}},yG=.8908130915292852,uD=hp(pp/10)/hp(7*pp/10),vG=hp(pg/10)*uD,wG=-tD(pg/10)*uD,bG={draw(t,e){const n=Dr(e*yG),r=vG*n,i=wG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=pg*a/5,s=tD(o),l=hp(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Gy=Dr(3),_G={draw(t,e){const n=-Dr(e/(Gy*3));t.moveTo(0,n*2),t.lineTo(-Gy*n,-n),t.lineTo(Gy*n,-n),t.closePath()}},Kn=-.5,Yn=Dr(3)/2,X0=1/Dr(12),xG=(X0/2+1)*3,EG={draw(t,e){const n=Dr(e/xG),r=n/2,i=n*X0,a=r,o=n*X0+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Kn*r-Yn*i,Yn*r+Kn*i),t.lineTo(Kn*a-Yn*o,Yn*a+Kn*o),t.lineTo(Kn*s-Yn*l,Yn*s+Kn*l),t.lineTo(Kn*r+Yn*i,Kn*i-Yn*r),t.lineTo(Kn*a+Yn*o,Kn*o-Yn*a),t.lineTo(Kn*s+Yn*l,Kn*l-Yn*s),t.closePath()}};function SG(t,e){let n=null,r=m1(i);t=typeof t=="function"?t:nt(t||y1),e=typeof e=="function"?e:nt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:nt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function mp(){}function gp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function cD(t){this._context=t}cD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TG(t){return new cD(t)}function fD(t){this._context=t}fD.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AG(t){return new fD(t)}function dD(t){this._context=t}dD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PG(t){return new dD(t)}function hD(t){this._context=t}hD.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function OG(t){return new hD(t)}function gA(t){return t<0?-1:1}function yA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(gA(a)+gA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function vA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ky(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function yp(t){this._context=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ky(this,this._t0,vA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ky(this,vA(this,n=yA(this,t,e)),n);break;default:Ky(this,this._t0,n=yA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function pD(t){this._context=new mD(t)}(pD.prototype=Object.create(yp.prototype)).point=function(t,e){yp.prototype.point.call(this,e,t)};function mD(t){this._context=t}mD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function IG(t){return new yp(t)}function CG(t){return new pD(t)}function gD(t){this._context=t}gD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wA(t),i=wA(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wA(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function kG(t){return new gD(t)}function gg(t,e){this._context=t,this._t=e}gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function NG(t){return new gg(t,.5)}function jG(t){return new gg(t,0)}function DG(t){return new gg(t,1)}function Qs(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Q0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function RG(t,e){return t[e]}function MG(t){const e=[];return e.key=t,e}function $G(){var t=nt([]),e=Q0,n=Qs,r=RG;function i(a){var o=Array.from(t.apply(this,arguments),MG),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(d,o[s].key,u,a)]).data=d;for(s=0,c=g1(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:nt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Q0:typeof a=="function"?a:nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Qs,i):n},i}function LG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Qs(t,e)}}function VG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Qs(t,e)}}function FG(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],d=c[r][1]||0,p=c[r-1][1]||0,m=(d-p)/2,g=0;g<s;++g){var w=t[e[g]],x=w[r][1]||0,b=w[r-1][1]||0;m+=x-b}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Qs(t,e)}}function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}var UG=["type","size","sizeType"];function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(n),!0).forEach(function(r){BG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BG(t,e,n){return e=zG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zG(t){var e=WG(t,"string");return jc(e)=="symbol"?e:e+""}function WG(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qG(t,e){if(t==null)return{};var n=HG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yD={symbolCircle:y1,symbolCross:hG,symbolDiamond:mG,symbolSquare:gG,symbolStar:bG,symbolTriangle:_G,symbolWye:EG},GG=Math.PI/180,KG=function(e){var n="symbol".concat(hg(e));return yD[n]||y1},YG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*GG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XG=function(e,n){yD["symbol".concat(hg(e))]=n},v1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=qG(e,UG),u=_A(_A({},l),{},{type:r,size:a,sizeType:s}),c=function(){var x=KG(r),b=SG().type(x).size(YG(a,s,r));return b()},d=u.className,p=u.cx,m=u.cy,g=Re(u,!0);return p===+p&&m===+m&&a===+a?U.createElement("path",J0({},g,{className:Le("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(m,")"),d:c()})):null};v1.registerSymbol=XG;function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function xA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(n),!0).forEach(function(r){Dc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wD(r.key),r)}}function eK(t,e,n){return e&&ZG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tK(t,e,n){return e=vp(e),nK(t,vD()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function nK(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(t)}function rK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vD=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function iK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ew(t,e)}function Dc(t,e,n){return e=wD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wD(t){var e=aK(t,"string");return Js(e)=="symbol"?e:e+""}function aK(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xn=32,w1=function(t){function e(){return JG(this,e),tK(this,e,arguments)}return iK(e,t),eK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Xn/2,o=Xn/6,s=Xn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Xn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Xn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=QG({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(v1,{fill:l,cx:a,cy:a,size:Xn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Xn,height:Xn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var w=m.formatter||l,x=Le(Dc(Dc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Ie(m.value)?null:m.value;vi(!Ie(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return U.createElement("li",Z0({className:x,style:d,key:"legend-item-".concat(g)},dp(r.props,m,g)),U.createElement(W0,{width:o,height:o,viewBox:c,style:p},r.renderIcon(m)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},w?w(b,m,g):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(L.PureComponent);Dc(w1,"displayName","Legend");Dc(w1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oK=eg;function sK(){this.__data__=new oK,this.size=0}var lK=sK;function uK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var cK=uK;function fK(t){return this.__data__.get(t)}var dK=fK;function hK(t){return this.__data__.has(t)}var pK=hK,mK=eg,gK=o1,yK=s1,vK=200;function wK(t,e){var n=this.__data__;if(n instanceof mK){var r=n.__data__;if(!gK||r.length<vK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yK(r)}return n.set(t,e),this.size=n.size,this}var bK=wK,_K=eg,xK=lK,EK=cK,SK=dK,TK=pK,AK=bK;function $l(t){var e=this.__data__=new _K(t);this.size=e.size}$l.prototype.clear=xK;$l.prototype.delete=EK;$l.prototype.get=SK;$l.prototype.has=TK;$l.prototype.set=AK;var bD=$l,PK="__lodash_hash_undefined__";function OK(t){return this.__data__.set(t,PK),this}var IK=OK;function CK(t){return this.__data__.has(t)}var kK=CK,NK=s1,jK=IK,DK=kK;function wp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new NK;++e<n;)this.add(t[e])}wp.prototype.add=wp.prototype.push=jK;wp.prototype.has=DK;var _D=wp;function RK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var xD=RK;function MK(t,e){return t.has(e)}var ED=MK,$K=_D,LK=xD,VK=ED,FK=1,UK=2;function BK(t,e,n,r,i,a){var o=n&FK,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,p=!0,m=n&UK?new $K:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var g=t[d],w=e[d];if(r)var x=o?r(w,g,d,e,t,a):r(g,w,d,t,e,a);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!LK(e,function(b,y){if(!VK(m,y)&&(g===b||i(g,b,n,r,a)))return m.push(y)})){p=!1;break}}else if(!(g===w||i(g,w,n,r,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var SD=BK,zK=ei,WK=zK.Uint8Array,qK=WK;function HK(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var GK=HK;function KK(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var b1=KK,EA=jf,SA=qK,YK=a1,XK=SD,QK=GK,JK=b1,ZK=1,eY=2,tY="[object Boolean]",nY="[object Date]",rY="[object Error]",iY="[object Map]",aY="[object Number]",oY="[object RegExp]",sY="[object Set]",lY="[object String]",uY="[object Symbol]",cY="[object ArrayBuffer]",fY="[object DataView]",TA=EA?EA.prototype:void 0,Yy=TA?TA.valueOf:void 0;function dY(t,e,n,r,i,a,o){switch(n){case fY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cY:return!(t.byteLength!=e.byteLength||!a(new SA(t),new SA(e)));case tY:case nY:case aY:return YK(+t,+e);case rY:return t.name==e.name&&t.message==e.message;case oY:case lY:return t==e+"";case iY:var s=QK;case sY:var l=r&ZK;if(s||(s=JK),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=eY,o.set(t,e);var c=XK(s(t),s(e),r,i,a,o);return o.delete(t),c;case uY:if(Yy)return Yy.call(t)==Yy.call(e)}return!1}var hY=dY;function pY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var TD=pY,mY=TD,gY=jn;function yY(t,e,n){var r=e(t);return gY(t)?r:mY(r,n(t))}var vY=yY;function wY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var bY=wY;function _Y(){return[]}var xY=_Y,EY=bY,SY=xY,TY=Object.prototype,AY=TY.propertyIsEnumerable,AA=Object.getOwnPropertySymbols,PY=AA?function(t){return t==null?[]:(t=Object(t),EY(AA(t),function(e){return AY.call(t,e)}))}:SY,OY=PY;function IY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var CY=IY,kY=Ri,NY=Mi,jY="[object Arguments]";function DY(t){return NY(t)&&kY(t)==jY}var RY=DY,PA=RY,MY=Mi,AD=Object.prototype,$Y=AD.hasOwnProperty,LY=AD.propertyIsEnumerable,VY=PA(function(){return arguments}())?PA:function(t){return MY(t)&&$Y.call(t,"callee")&&!LY.call(t,"callee")},_1=VY,bp={exports:{}};function FY(){return!1}var UY=FY;bp.exports;(function(t,e){var n=ei,r=UY,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(bp,bp.exports);var PD=bp.exports,BY=9007199254740991,zY=/^(?:0|[1-9]\d*)$/;function WY(t,e){var n=typeof t;return e=e??BY,!!e&&(n=="number"||n!="symbol"&&zY.test(t))&&t>-1&&t%1==0&&t<e}var x1=WY,qY=9007199254740991;function HY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qY}var E1=HY,GY=Ri,KY=E1,YY=Mi,XY="[object Arguments]",QY="[object Array]",JY="[object Boolean]",ZY="[object Date]",eX="[object Error]",tX="[object Function]",nX="[object Map]",rX="[object Number]",iX="[object Object]",aX="[object RegExp]",oX="[object Set]",sX="[object String]",lX="[object WeakMap]",uX="[object ArrayBuffer]",cX="[object DataView]",fX="[object Float32Array]",dX="[object Float64Array]",hX="[object Int8Array]",pX="[object Int16Array]",mX="[object Int32Array]",gX="[object Uint8Array]",yX="[object Uint8ClampedArray]",vX="[object Uint16Array]",wX="[object Uint32Array]",st={};st[fX]=st[dX]=st[hX]=st[pX]=st[mX]=st[gX]=st[yX]=st[vX]=st[wX]=!0;st[XY]=st[QY]=st[uX]=st[JY]=st[cX]=st[ZY]=st[eX]=st[tX]=st[nX]=st[rX]=st[iX]=st[aX]=st[oX]=st[sX]=st[lX]=!1;function bX(t){return YY(t)&&KY(t.length)&&!!st[GY(t)]}var _X=bX;function xX(t){return function(e){return t(e)}}var OD=xX,_p={exports:{}};_p.exports;(function(t,e){var n=Mj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(_p,_p.exports);var EX=_p.exports,SX=_X,TX=OD,OA=EX,IA=OA&&OA.isTypedArray,AX=IA?TX(IA):SX,ID=AX,PX=CY,OX=_1,IX=jn,CX=PD,kX=x1,NX=ID,jX=Object.prototype,DX=jX.hasOwnProperty;function RX(t,e){var n=IX(t),r=!n&&OX(t),i=!n&&!r&&CX(t),a=!n&&!r&&!i&&NX(t),o=n||r||i||a,s=o?PX(t.length,String):[],l=s.length;for(var u in t)(e||DX.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||kX(u,l)))&&s.push(u);return s}var MX=RX,$X=Object.prototype;function LX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$X;return t===n}var VX=LX;function FX(t,e){return function(n){return t(e(n))}}var CD=FX,UX=CD,BX=UX(Object.keys,Object),zX=BX,WX=VX,qX=zX,HX=Object.prototype,GX=HX.hasOwnProperty;function KX(t){if(!WX(t))return qX(t);var e=[];for(var n in Object(t))GX.call(t,n)&&n!="constructor"&&e.push(n);return e}var YX=KX,XX=i1,QX=E1;function JX(t){return t!=null&&QX(t.length)&&!XX(t)}var Mf=JX,ZX=MX,eQ=YX,tQ=Mf;function nQ(t){return tQ(t)?ZX(t):eQ(t)}var yg=nQ,rQ=vY,iQ=OY,aQ=yg;function oQ(t){return rQ(t,aQ,iQ)}var sQ=oQ,CA=sQ,lQ=1,uQ=Object.prototype,cQ=uQ.hasOwnProperty;function fQ(t,e,n,r,i,a){var o=n&lQ,s=CA(t),l=s.length,u=CA(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var p=s[d];if(!(o?p in e:cQ.call(e,p)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var w=!0;a.set(t,e),a.set(e,t);for(var x=o;++d<l;){p=s[d];var b=t[p],y=e[p];if(r)var E=o?r(y,b,p,e,t,a):r(b,y,p,t,e,a);if(!(E===void 0?b===y||i(b,y,n,r,a):E)){w=!1;break}x||(x=p=="constructor")}if(w&&!x){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(w=!1)}return a.delete(t),a.delete(e),w}var dQ=fQ,hQ=$o,pQ=ei,mQ=hQ(pQ,"DataView"),gQ=mQ,yQ=$o,vQ=ei,wQ=yQ(vQ,"Promise"),bQ=wQ,_Q=$o,xQ=ei,EQ=_Q(xQ,"Set"),kD=EQ,SQ=$o,TQ=ei,AQ=SQ(TQ,"WeakMap"),PQ=AQ,tw=gQ,nw=o1,rw=bQ,iw=kD,aw=PQ,ND=Ri,Ll=Lj,kA="[object Map]",OQ="[object Object]",NA="[object Promise]",jA="[object Set]",DA="[object WeakMap]",RA="[object DataView]",IQ=Ll(tw),CQ=Ll(nw),kQ=Ll(rw),NQ=Ll(iw),jQ=Ll(aw),Xa=ND;(tw&&Xa(new tw(new ArrayBuffer(1)))!=RA||nw&&Xa(new nw)!=kA||rw&&Xa(rw.resolve())!=NA||iw&&Xa(new iw)!=jA||aw&&Xa(new aw)!=DA)&&(Xa=function(t){var e=ND(t),n=e==OQ?t.constructor:void 0,r=n?Ll(n):"";if(r)switch(r){case IQ:return RA;case CQ:return kA;case kQ:return NA;case NQ:return jA;case jQ:return DA}return e});var DQ=Xa,Xy=bD,RQ=SD,MQ=hY,$Q=dQ,MA=DQ,$A=jn,LA=PD,LQ=ID,VQ=1,VA="[object Arguments]",FA="[object Array]",Nd="[object Object]",FQ=Object.prototype,UA=FQ.hasOwnProperty;function UQ(t,e,n,r,i,a){var o=$A(t),s=$A(e),l=o?FA:MA(t),u=s?FA:MA(e);l=l==VA?Nd:l,u=u==VA?Nd:u;var c=l==Nd,d=u==Nd,p=l==u;if(p&&LA(t)){if(!LA(e))return!1;o=!0,c=!1}if(p&&!c)return a||(a=new Xy),o||LQ(t)?RQ(t,e,n,r,i,a):MQ(t,e,l,n,r,i,a);if(!(n&VQ)){var m=c&&UA.call(t,"__wrapped__"),g=d&&UA.call(e,"__wrapped__");if(m||g){var w=m?t.value():t,x=g?e.value():e;return a||(a=new Xy),i(w,x,n,r,a)}}return p?(a||(a=new Xy),$Q(t,e,n,r,i,a)):!1}var BQ=UQ,zQ=BQ,BA=Mi;function jD(t,e,n,r,i){return t===e?!0:t==null||e==null||!BA(t)&&!BA(e)?t!==t&&e!==e:zQ(t,e,n,r,jD,i)}var S1=jD,WQ=bD,qQ=S1,HQ=1,GQ=2;function KQ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new WQ;if(r)var p=r(u,c,l,t,e,d);if(!(p===void 0?qQ(c,u,HQ|GQ,r,d):p))return!1}}return!0}var YQ=KQ,XQ=Ra;function QQ(t){return t===t&&!XQ(t)}var DD=QQ,JQ=DD,ZQ=yg;function eJ(t){for(var e=ZQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,JQ(i)]}return e}var tJ=eJ;function nJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var RD=nJ,rJ=YQ,iJ=tJ,aJ=RD;function oJ(t){var e=iJ(t);return e.length==1&&e[0][2]?aJ(e[0][0],e[0][1]):function(n){return n===t||rJ(n,t,e)}}var sJ=oJ;function lJ(t,e){return t!=null&&e in Object(t)}var uJ=lJ,cJ=zj,fJ=_1,dJ=jn,hJ=x1,pJ=E1,mJ=ng;function gJ(t,e,n){e=cJ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=mJ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&pJ(i)&&hJ(o,i)&&(dJ(t)||fJ(t)))}var yJ=gJ,vJ=uJ,wJ=yJ;function bJ(t,e){return t!=null&&wJ(t,e,vJ)}var _J=bJ,xJ=S1,EJ=Wj,SJ=_J,TJ=r1,AJ=DD,PJ=RD,OJ=ng,IJ=1,CJ=2;function kJ(t,e){return TJ(t)&&AJ(e)?PJ(OJ(t),e):function(n){var r=EJ(n,t);return r===void 0&&r===e?SJ(n,t):xJ(e,r,IJ|CJ)}}var NJ=kJ;function jJ(t){return t}var Vl=jJ;function DJ(t){return function(e){return e==null?void 0:e[t]}}var RJ=DJ,MJ=c1;function $J(t){return function(e){return MJ(e,t)}}var LJ=$J,VJ=RJ,FJ=LJ,UJ=r1,BJ=ng;function zJ(t){return UJ(t)?VJ(BJ(t)):FJ(t)}var WJ=zJ,qJ=sJ,HJ=NJ,GJ=Vl,KJ=jn,YJ=WJ;function XJ(t){return typeof t=="function"?t:t==null?GJ:typeof t=="object"?KJ(t)?HJ(t[0],t[1]):qJ(t):YJ(t)}var Ma=XJ;function QJ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var MD=QJ;function JJ(t){return t!==t}var ZJ=JJ;function eZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var tZ=eZ,nZ=MD,rZ=ZJ,iZ=tZ;function aZ(t,e,n){return e===e?iZ(t,e,n):nZ(t,rZ,n)}var oZ=aZ,sZ=oZ;function lZ(t,e){var n=t==null?0:t.length;return!!n&&sZ(t,e,0)>-1}var uZ=lZ;function cZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var fZ=cZ;function dZ(){}var hZ=dZ,Qy=kD,pZ=hZ,mZ=b1,gZ=1/0,yZ=Qy&&1/mZ(new Qy([,-0]))[1]==gZ?function(t){return new Qy(t)}:pZ,vZ=yZ,wZ=_D,bZ=uZ,_Z=fZ,xZ=ED,EZ=vZ,SZ=b1,TZ=200;function AZ(t,e,n){var r=-1,i=bZ,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=_Z;else if(a>=TZ){var u=e?null:EZ(t);if(u)return SZ(u);o=!1,i=xZ,l=new wZ}else l=e?[]:s;e:for(;++r<a;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var PZ=AZ,OZ=Ma,IZ=PZ;function CZ(t,e){return t&&t.length?IZ(t,OZ(e)):[]}var kZ=CZ;const zA=et(kZ);function $D(t,e,n){return e===!0?zA(t,n):Ie(e)?zA(t,e):t}function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}var NZ=["ref"];function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VD(r.key),r)}}function DZ(t,e,n){return e&&qA(t.prototype,e),n&&qA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RZ(t,e,n){return e=xp(e),MZ(t,LD()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function MZ(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Z(t)}function $Z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LD=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function LZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ow(t,e)}function vg(t,e,n){return e=VD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VD(t){var e=VZ(t,"string");return Zs(e)=="symbol"?e:e+""}function VZ(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FZ(t,e){if(t==null)return{};var n=UZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BZ(t){return t.value}function zZ(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=FZ(e,NZ);return U.createElement(w1,n)}var HA=1,co=function(t){function e(){var n;jZ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=RZ(this,e,[].concat(i)),vg(n,"lastBoundingBox",{width:-1,height:-1}),n}return LZ(e,t),DZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HA||Math.abs(i.height-this.lastBoundingBox.height)>HA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ri({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();p={top:((c||0)-g.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ri(ri({},d),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=ri(ri({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},zZ(a,ri(ri({},this.props),{},{payload:$D(c,u,BZ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ri(ri({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&oe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(L.PureComponent);vg(co,"displayName","Legend");vg(co,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var GA=jf,WZ=_1,qZ=jn,KA=GA?GA.isConcatSpreadable:void 0;function HZ(t){return qZ(t)||WZ(t)||!!(KA&&t&&t[KA])}var GZ=HZ,KZ=TD,YZ=GZ;function FD(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=YZ),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?FD(s,e-1,n,r,i):KZ(i,s):r||(i[i.length]=s)}return i}var UD=FD;function XZ(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var QZ=XZ,JZ=QZ,ZZ=JZ(),eee=ZZ,tee=eee,nee=yg;function ree(t,e){return t&&tee(t,e,nee)}var BD=ree,iee=Mf;function aee(t,e){return function(n,r){if(n==null)return n;if(!iee(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var oee=aee,see=BD,lee=oee,uee=lee(see),T1=uee,cee=T1,fee=Mf;function dee(t,e){var n=-1,r=fee(t)?Array(t.length):[];return cee(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var zD=dee;function hee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var pee=hee,YA=Nl;function mee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=YA(t),o=e!==void 0,s=e===null,l=e===e,u=YA(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var gee=mee,yee=gee;function vee(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=yee(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var wee=vee,Jy=u1,bee=c1,_ee=Ma,xee=zD,Eee=pee,See=OD,Tee=wee,Aee=Vl,Pee=jn;function Oee(t,e,n){e.length?e=Jy(e,function(a){return Pee(a)?function(o){return bee(o,a.length===1?a[0]:a)}:a}):e=[Aee];var r=-1;e=Jy(e,See(_ee));var i=xee(t,function(a,o,s){var l=Jy(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Eee(i,function(a,o){return Tee(a,o,n)})}var Iee=Oee;function Cee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var kee=Cee,Nee=kee,XA=Math.max;function jee(t,e,n){return e=XA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=XA(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Nee(t,this,s)}}var Dee=jee;function Ree(t){return function(){return t}}var Mee=Ree,$ee=$o,Lee=function(){try{var t=$ee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),WD=Lee,Vee=Mee,QA=WD,Fee=Vl,Uee=QA?function(t,e){return QA(t,"toString",{configurable:!0,enumerable:!1,value:Vee(e),writable:!0})}:Fee,Bee=Uee,zee=800,Wee=16,qee=Date.now;function Hee(t){var e=0,n=0;return function(){var r=qee(),i=Wee-(r-n);if(n=r,i>0){if(++e>=zee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Gee=Hee,Kee=Bee,Yee=Gee,Xee=Yee(Kee),Qee=Xee,Jee=Vl,Zee=Dee,ete=Qee;function tte(t,e){return ete(Zee(t,e,Jee),t+"")}var nte=tte,rte=a1,ite=Mf,ate=x1,ote=Ra;function ste(t,e,n){if(!ote(n))return!1;var r=typeof e;return(r=="number"?ite(n)&&ate(e,n.length):r=="string"&&e in n)?rte(n[e],t):!1}var wg=ste,lte=UD,ute=Iee,cte=nte,JA=wg,fte=cte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&JA(t,e[0],e[1])?e=[]:n>2&&JA(e[0],e[1],e[2])&&(e=[e[0]]),ute(t,lte(e,1),[])}),dte=fte;const A1=et(dte);function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function hte(t,e){return yte(t)||gte(t,e)||mte(t,e)||pte()}function pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mte(t,e){if(t){if(typeof t=="string")return ZA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(t,e)}}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yte(t){if(Array.isArray(t))return t}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vte(t,e,n){return e=wte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=bte(t,"string");return Rc(e)=="symbol"?e:e+""}function bte(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _te(t){return Array.isArray(t)&&$t(t[0])&&$t(t[1])?t.join(" ~ "):t}var xte=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,p=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,w=e.label,x=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,E=function(){if(c&&c.length){var j={padding:0,margin:0},C=(p?A1(c,p):c).map(function($,F){if($.type==="none")return null;var W=Zy({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),R=$.formatter||d||_te,B=$.value,M=$.name,X=B,H=M;if(R&&X!=null&&H!=null){var V=R(B,M,$,F,c);if(Array.isArray(V)){var G=hte(V,2);X=G[0],H=G[1]}else X=V}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:W},$t(H)?U.createElement("span",{className:"recharts-tooltip-item-name"},H):null,$t(H)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},X),U.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:j},C)}return null},N=Zy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=Zy({margin:0},u),P=!Ce(w),S=P?w:"",v=Le("recharts-default-tooltip",m),T=Le("recharts-tooltip-label",g);P&&x&&c!==void 0&&c!==null&&(S=x(w,c));var O=y?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",sw({className:v,style:N},O),U.createElement("p",{className:T,style:A},U.isValidElement(S)?S:"".concat(S)),E())};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function jd(t,e,n){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Ste(t,"string");return Mc(e)=="symbol"?e:e+""}function Ste(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yu="recharts-tooltip-wrapper",Tte={visibility:"hidden"};function Ate(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Le(yu,jd(jd(jd(jd({},"".concat(yu,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(yu,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(yu,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(yu,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function tP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&oe(a[r]))return a[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?c:d;if(o[r]){var p=c,m=l[r];return p<m?Math.max(d,l[r]):Math.max(c,l[r])}var g=d+s,w=l[r]+u;return g>w?Math.max(c,l[r]):Math.max(d,l[r])}function Pte(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ote(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return o.height>0&&o.width>0&&n?(c=tP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=tP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Pte({translateX:c,translateY:d,useTranslate3d:s})):u=Tte,{cssProperties:u,cssClasses:Ate({translateX:c,translateY:d,coordinate:n})}}function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HD(r.key),r)}}function kte(t,e,n){return e&&Cte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nte(t,e,n){return e=Ep(e),jte(t,qD()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function jte(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dte(t)}function Dte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qD=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function Rte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lw(t,e)}function uw(t,e,n){return e=HD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HD(t){var e=Mte(t,"string");return el(e)=="symbol"?e:e+""}function Mte(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iP=1,$te=function(t){function e(){var n;Ite(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Nte(this,e,[].concat(i)),uw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Rte(e,t),kte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>iP||Math.abs(r.height-this.state.lastBoundingBox.height)>iP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,m=i.offset,g=i.position,w=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,E=Ote({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),N=E.cssClasses,A=E.cssProperties,P=rP(rP({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return U.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(v){r.wrapperNode=v}},u)}}])}(L.PureComponent),Lte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fl={isSsr:Lte()};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){P1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KD(r.key),r)}}function Ute(t,e,n){return e&&Fte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bte(t,e,n){return e=Sp(e),zte(t,GD()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function zte(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wte(t)}function Wte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function qte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cw(t,e)}function P1(t,e,n){return e=KD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KD(t){var e=Hte(t,"string");return tl(e)=="symbol"?e:e+""}function Hte(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gte(t){return t.dataKey}function Kte(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(xte,e)}var wr=function(t){function e(){return Vte(this,e),Bte(this,e,arguments)}return qte(e,t),Ute(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,p=i.isAnimationActive,m=i.offset,g=i.payload,w=i.payloadUniqBy,x=i.position,b=i.reverseDirection,y=i.useTranslate3d,E=i.viewBox,N=i.wrapperStyle,A=g??[];d&&A.length&&(A=$D(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,Gte));var P=A.length>0;return U.createElement($te,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:c,hasPayload:P,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:E,wrapperStyle:N},Kte(u,oP(oP({},this.props),{},{payload:A})))}}])}(L.PureComponent);P1(wr,"displayName","Tooltip");P1(wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Yte=ei,Xte=function(){return Yte.Date.now()},Qte=Xte,Jte=/\s/;function Zte(t){for(var e=t.length;e--&&Jte.test(t.charAt(e)););return e}var ene=Zte,tne=ene,nne=/^\s+/;function rne(t){return t&&t.slice(0,tne(t)+1).replace(nne,"")}var ine=rne,ane=ine,sP=Ra,one=Nl,lP=NaN,sne=/^[-+]0x[0-9a-f]+$/i,lne=/^0b[01]+$/i,une=/^0o[0-7]+$/i,cne=parseInt;function fne(t){if(typeof t=="number")return t;if(one(t))return lP;if(sP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ane(t);var n=lne.test(t);return n||une.test(t)?cne(t.slice(2),n?2:8):sne.test(t)?lP:+t}var YD=fne,dne=Ra,ev=Qte,uP=YD,hne="Expected a function",pne=Math.max,mne=Math.min;function gne(t,e,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(hne);e=uP(e)||0,dne(n)&&(c=!!n.leading,d="maxWait"in n,a=d?pne(uP(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function m(P){var S=r,v=i;return r=i=void 0,u=P,o=t.apply(v,S),o}function g(P){return u=P,s=setTimeout(b,e),c?m(P):o}function w(P){var S=P-l,v=P-u,T=e-S;return d?mne(T,a-v):T}function x(P){var S=P-l,v=P-u;return l===void 0||S>=e||S<0||d&&v>=a}function b(){var P=ev();if(x(P))return y(P);s=setTimeout(b,w(P))}function y(P){return s=void 0,p&&r?m(P):(r=i=void 0,o)}function E(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function N(){return s===void 0?o:y(ev())}function A(){var P=ev(),S=x(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(b,e),m(l)}return s===void 0&&(s=setTimeout(b,e)),o}return A.cancel=E,A.flush=N,A}var yne=gne,vne=yne,wne=Ra,bne="Expected a function";function _ne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(bne);return wne(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vne(t,e,{leading:r,maxWait:e,trailing:i})}var xne=_ne;const XD=et(xne);function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){Ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ene(t,e,n){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=Tne(t,"string");return $c(e)=="symbol"?e:e+""}function Tne(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ane(t,e){return Cne(t)||Ine(t,e)||One(t,e)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function One(t,e){if(t){if(typeof t=="string")return fP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fP(t,e)}}function fP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ine(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Cne(t){if(Array.isArray(t))return t}var dP=L.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,p=t.maxHeight,m=t.children,g=t.debounce,w=g===void 0?0:g,x=t.id,b=t.className,y=t.onResize,E=t.style,N=E===void 0?{}:E,A=L.useRef(null),P=L.useRef();P.current=y,L.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var S=L.useState({containerWidth:i.width,containerHeight:i.height}),v=Ane(S,2),T=v[0],O=v[1],k=L.useCallback(function(C,$){O(function(F){var W=Math.round(C),R=Math.round($);return F.containerWidth===W&&F.containerHeight===R?F:{containerWidth:W,containerHeight:R}})},[]);L.useEffect(function(){var C=function(M){var X,H=M[0].contentRect,V=H.width,G=H.height;k(V,G),(X=P.current)===null||X===void 0||X.call(P,V,G)};w>0&&(C=XD(C,w,{trailing:!0,leading:!1}));var $=new ResizeObserver(C),F=A.current.getBoundingClientRect(),W=F.width,R=F.height;return k(W,R),$.observe(A.current),function(){$.disconnect()}},[k,w]);var j=L.useMemo(function(){var C=T.containerWidth,$=T.containerHeight;if(C<0||$<0)return null;vi(no(o)||no(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),vi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=no(o)?C:o,W=no(l)?$:l;n&&n>0&&(F?W=F/n:W&&(F=W*n),p&&W>p&&(W=p)),vi(F>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,W,o,l,c,d,n);var R=!Array.isArray(m)&&yi(m.type).endsWith("Chart");return U.Children.map(m,function(B){return U.isValidElement(B)?L.cloneElement(B,Dd({width:F,height:W},R?{style:Dd({height:"100%",width:"100%",maxHeight:W,maxWidth:F},B.props.style)}:{})):B})},[n,m,l,p,d,c,T,o]);return U.createElement("div",{id:x?"".concat(x):void 0,className:Le("recharts-responsive-container",b),style:Dd(Dd({},N),{},{width:o,height:l,minWidth:c,minHeight:d,maxHeight:p}),ref:A},j)}),O1=function(e){return null};O1.displayName="Cell";function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kne(t,e,n){return e=Nne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=jne(t,"string");return Lc(e)=="symbol"?e:e+""}function jne(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yo={widthCache:{},cacheCount:0},Dne=2e3,Rne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pP="recharts_measurement_span";function Mne(t){var e=fw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var tc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fl.isSsr)return{width:0,height:0};var r=Mne(n),i=JSON.stringify({text:e,copyStyle:r});if(Yo.widthCache[i])return Yo.widthCache[i];try{var a=document.getElementById(pP);a||(a=document.createElement("span"),a.setAttribute("id",pP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=fw(fw({},Rne),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Yo.widthCache[i]=l,++Yo.cacheCount>Dne&&(Yo.cacheCount=0,Yo.widthCache={}),l}catch{return{width:0,height:0}}},$ne=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Tp(t,e){return Une(t)||Fne(t,e)||Vne(t,e)||Lne()}function Lne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vne(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Une(t){if(Array.isArray(t))return t}function Bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wne(r.key),r)}}function zne(t,e,n){return e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wne(t){var e=qne(t,"string");return Vc(e)=="symbol"?e:e+""}function qne(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kne=Object.keys(QD),gs="NaN";function Yne(t,e){return t*QD[e]}var Rd=function(){function t(e,n){Bne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Hne.test(n)&&(this.num=NaN,this.unit=""),Kne.includes(n)&&(this.num=Yne(e,n),this.unit="px")}return zne(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Gne.exec(n))!==null&&r!==void 0?r:[],a=Tp(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function JD(t){if(t.includes(gs))return gs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=yP.exec(e))!==null&&n!==void 0?n:[],i=Tp(r,4),a=i[1],o=i[2],s=i[3],l=Rd.parse(a??""),u=Rd.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return gs;e=e.replace(yP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,p=(d=vP.exec(e))!==null&&d!==void 0?d:[],m=Tp(p,4),g=m[1],w=m[2],x=m[3],b=Rd.parse(g??""),y=Rd.parse(x??""),E=w==="+"?b.add(y):b.subtract(y);if(E.isNaN())return gs;e=e.replace(vP,E.toString())}return e}var wP=/\(([^()]*)\)/;function Xne(t){for(var e=t;e.includes("(");){var n=wP.exec(e),r=Tp(n,2),i=r[1];e=e.replace(wP,JD(i))}return e}function Qne(t){var e=t.replace(/\s+/g,"");return e=Xne(e),e=JD(e),e}function Jne(t){try{return Qne(t)}catch{return gs}}function tv(t){var e=Jne(t.slice(5,-1));return e===gs?"":e}var Zne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ere=["dx","dy","angle","className","breakAll"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function bP(t,e){if(t==null)return{};var n=tre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _P(t,e){return are(t)||ire(t,e)||rre(t,e)||nre()}function nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rre(t,e){if(t){if(typeof t=="string")return xP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(t,e)}}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ire(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function are(t){if(Array.isArray(t))return t}var ZD=/[ \f\n\r\t\v\u2028\u2029]+/,eR=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ce(n)||(r?a=n.toString().split(""):a=n.toString().split(ZD));var o=a.map(function(l){return{word:l,width:tc(l,i).width}}),s=r?0:tc(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},ore=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=oe(o),d=s,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(W,R){var B=R.word,M=R.width,X=W[W.length-1];if(X&&(i==null||a||X.width+M+r<Number(i)))X.words.push(B),X.width+=M+r;else{var H={words:[B],width:M};W.push(H)}return W},[])},m=p(n),g=function(F){return F.reduce(function(W,R){return W.width>R.width?W:R})};if(!c)return m;for(var w="…",x=function(F){var W=d.slice(0,F),R=eR({breakAll:u,style:l,children:W+w}).wordsWithComputedWidth,B=p(R),M=B.length>o||g(B).width>Number(i);return[M,B]},b=0,y=d.length-1,E=0,N;b<=y&&E<=d.length-1;){var A=Math.floor((b+y)/2),P=A-1,S=x(P),v=_P(S,2),T=v[0],O=v[1],k=x(A),j=_P(k,1),C=j[0];if(!T&&!C&&(b=A+1),T&&C&&(y=A-1),!T&&C){N=O;break}E++}return N||m},EP=function(e){var n=Ce(e)?[]:e.toString().split(ZD);return[{words:n}]},sre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Fl.isSsr){var l,u,c=eR({breakAll:o,children:i,style:a});if(c){var d=c.wordsWithComputedWidth,p=c.spaceWidth;l=d,u=p}else return EP(i);return ore({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return EP(i)},SP="#808080",Ap=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,p=e.textAnchor,m=p===void 0?"start":p,g=e.verticalAnchor,w=g===void 0?"end":g,x=e.fill,b=x===void 0?SP:x,y=bP(e,Zne),E=L.useMemo(function(){return sre({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),N=y.dx,A=y.dy,P=y.angle,S=y.className,v=y.breakAll,T=bP(y,ere);if(!$t(r)||!$t(a))return null;var O=r+(oe(N)?N:0),k=a+(oe(A)?A:0),j;switch(w){case"start":j=tv("calc(".concat(u,")"));break;case"middle":j=tv("calc(".concat((E.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=tv("calc(".concat(E.length-1," * -").concat(s,")"));break}var C=[];if(d){var $=E[0].width,F=y.width;C.push("scale(".concat((oe(F)?F/$:1)/$,")"))}return P&&C.push("rotate(".concat(P,", ").concat(O,", ").concat(k,")")),C.length&&(T.transform=C.join(" ")),U.createElement("text",dw({},Re(T,!0),{x:O,y:k,className:Le("recharts-text",S),textAnchor:m,fill:b.includes("url")?SP:b}),E.map(function(W,R){var B=W.words.join(v?"":" ");return U.createElement("tspan",{x:O,dy:R===0?j:s,key:"".concat(B,"-").concat(R)},B)}))};function ya(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I1(t){let e,n,r;t.length!==2?(e=ya,n=(s,l)=>ya(t(s),l),r=(s,l)=>t(s)-l):(e=t===ya||t===lre?t:ure,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function ure(){return 0}function tR(t){return t===null?NaN:+t}function*cre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const fre=I1(ya),$f=fre.right;I1(tR).center;class TP extends Map{constructor(e,n=pre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(AP(this,e))}has(e){return super.has(AP(this,e))}set(e,n){return super.set(dre(this,e),n)}delete(e){return super.delete(hre(this,e))}}function AP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function dre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mre(t=ya){if(t===ya)return nR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function nR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gre=Math.sqrt(50),yre=Math.sqrt(10),vre=Math.sqrt(2);function Pp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=gre?10:a>=yre?5:a>=vre?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Pp(t,e,n*2):[s,l,u]}function hw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Pp(e,t,n):Pp(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function pw(t,e,n){return e=+e,t=+t,n=+n,Pp(t,e,n)[2]}function mw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?pw(e,t,n):pw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function PP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function OP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function rR(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?nR:mre(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+p)),g=Math.min(r,Math.floor(e+(l-u)*d/l+p));rR(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(vu(t,n,e),i(t[r],a)>0&&vu(t,n,r);o<s;){for(vu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?vu(t,n,s):(++s,vu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function vu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wre(t,e,n){if(t=Float64Array.from(cre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return OP(t);if(e>=1)return PP(t);var r,i=(r-1)*e,a=Math.floor(i),o=PP(rR(t,a).subarray(0,a+1)),s=OP(t.subarray(a+1));return o+(s-o)*(i-a)}}function bre(t,e,n=tR){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function _re(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function dr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gw=Symbol("implicit");function C1(){var t=new TP,e=[],n=[],r=gw;function i(a){let o=t.get(a);if(o===void 0){if(r!==gw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new TP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return C1(e,n).unknown(r)},dr.apply(i,arguments),i}function Fc(){var t=C1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var p=e().length,m=i<r,g=m?i:r,w=m?r:i;a=(w-g)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),g+=(w-g-a*(p-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var x=_re(p).map(function(b){return g+a*b});return n(m?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,d()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},t.copy=function(){return Fc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},dr.apply(d(),arguments)}function iR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return iR(e())},t}function nc(){return iR(Fc.apply(null,arguments).paddingInner(1))}function k1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function aR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lf(){}var Uc=.7,Op=1/Uc,Cs="\\s*([+-]?\\d+)\\s*",Bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xre=/^#([0-9a-f]{3,8})$/,Ere=new RegExp(`^rgb\\(${Cs},${Cs},${Cs}\\)$`),Sre=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),Tre=new RegExp(`^rgba\\(${Cs},${Cs},${Cs},${Bc}\\)$`),Are=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Bc}\\)$`),Pre=new RegExp(`^hsl\\(${Bc},${Yr},${Yr}\\)$`),Ore=new RegExp(`^hsla\\(${Bc},${Yr},${Yr},${Bc}\\)$`),IP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k1(Lf,zc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:CP,formatHex:CP,formatHex8:Ire,formatHsl:Cre,formatRgb:kP,toString:kP});function CP(){return this.rgb().formatHex()}function Ire(){return this.rgb().formatHex8()}function Cre(){return oR(this).formatHsl()}function kP(){return this.rgb().formatRgb()}function zc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?NP(e):n===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Md(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Md(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ere.exec(t))?new In(e[1],e[2],e[3],1):(e=Sre.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tre.exec(t))?Md(e[1],e[2],e[3],e[4]):(e=Are.exec(t))?Md(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pre.exec(t))?RP(e[1],e[2]/100,e[3]/100,1):(e=Ore.exec(t))?RP(e[1],e[2]/100,e[3]/100,e[4]):IP.hasOwnProperty(t)?NP(IP[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function NP(t){return new In(t>>16&255,t>>8&255,t&255,1)}function Md(t,e,n,r){return r<=0&&(t=e=n=NaN),new In(t,e,n,r)}function kre(t){return t instanceof Lf||(t=zc(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function yw(t,e,n,r){return arguments.length===1?kre(t):new In(t,e,n,r??1)}function In(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}k1(In,yw,aR(Lf,{brighter(t){return t=t==null?Op:Math.pow(Op,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uc:Math.pow(Uc,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(fo(this.r),fo(this.g),fo(this.b),Ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jP,formatHex:jP,formatHex8:Nre,formatRgb:DP,toString:DP}));function jP(){return`#${ro(this.r)}${ro(this.g)}${ro(this.b)}`}function Nre(){return`#${ro(this.r)}${ro(this.g)}${ro(this.b)}${ro((isNaN(this.opacity)?1:this.opacity)*255)}`}function DP(){const t=Ip(this.opacity);return`${t===1?"rgb(":"rgba("}${fo(this.r)}, ${fo(this.g)}, ${fo(this.b)}${t===1?")":`, ${t})`}`}function Ip(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ro(t){return t=fo(t),(t<16?"0":"")+t.toString(16)}function RP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sr(t,e,n,r)}function oR(t){if(t instanceof Sr)return new Sr(t.h,t.s,t.l,t.opacity);if(t instanceof Lf||(t=zc(t)),!t)return new Sr;if(t instanceof Sr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Sr(o,s,l,t.opacity)}function jre(t,e,n,r){return arguments.length===1?oR(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}k1(Sr,jre,aR(Lf,{brighter(t){return t=t==null?Op:Math.pow(Op,t),new Sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uc:Math.pow(Uc,t),new Sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new In(nv(t>=240?t-240:t+120,i,r),nv(t,i,r),nv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sr(MP(this.h),$d(this.s),$d(this.l),Ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ip(this.opacity);return`${t===1?"hsl(":"hsla("}${MP(this.h)}, ${$d(this.s)*100}%, ${$d(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MP(t){return t=(t||0)%360,t<0?t+360:t}function $d(t){return Math.max(0,Math.min(1,t||0))}function nv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const N1=t=>()=>t;function Dre(t,e){return function(n){return t+n*e}}function Rre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Mre(t){return(t=+t)==1?sR:function(e,n){return n-e?Rre(e,n,t):N1(isNaN(e)?n:e)}}function sR(t,e){var n=e-t;return n?Dre(t,n):N1(isNaN(t)?e:t)}const $P=function t(e){var n=Mre(e);function r(i,a){var o=n((i=yw(i)).r,(a=yw(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=sR(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function $re(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Lre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Vre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ul(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Fre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Cp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ure(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ul(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rv=new RegExp(vw.source,"g");function Bre(t){return function(){return t}}function zre(t){return function(e){return t(e)+""}}function Wre(t,e){var n=vw.lastIndex=rv.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=vw.exec(t))&&(i=rv.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Cp(r,i)})),n=rv.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?zre(l[0].x):Bre(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Ul(t,e){var n=typeof e,r;return e==null||n==="boolean"?N1(e):(n==="number"?Cp:n==="string"?(r=zc(e))?(e=r,$P):Wre:e instanceof zc?$P:e instanceof Date?Fre:Lre(e)?$re:Array.isArray(e)?Vre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ure:Cp)(t,e)}function j1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function qre(t,e){e===void 0&&(e=t,t=Ul);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Hre(t){return function(){return t}}function kp(t){return+t}var LP=[0,1];function bn(t){return t}function ww(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Hre(isNaN(e)?NaN:.5)}function Gre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Kre(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=ww(i,r),a=n(o,a)):(r=ww(r,i),a=n(a,o)),function(s){return a(r(s))}}function Yre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=ww(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=$f(t,s,1,r)-1;return a[l](i[l](s))}}function Vf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bg(){var t=LP,e=LP,n=Ul,r,i,a,o=bn,s,l,u;function c(){var p=Math.min(t.length,e.length);return o!==bn&&(o=Gre(t[0],t[p-1])),s=p>2?Yre:Kre,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(r),e,n)))(r(o(p)))}return d.invert=function(p){return o(i((u||(u=s(e,t.map(r),Cp)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,kp),c()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=j1,c()},d.clamp=function(p){return arguments.length?(o=p?!0:bn,c()):o!==bn},d.interpolate=function(p){return arguments.length?(n=p,c()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return r=p,i=m,c()}}function D1(){return bg()(bn,bn)}function Xre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Np(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nl(t){return t=Np(Math.abs(t)),t?t[1]:NaN}function Qre(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Jre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wc(t){if(!(e=Zre.exec(t)))throw new Error("invalid format: "+t);var e;return new R1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wc.prototype=R1.prototype;function R1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}R1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var lR;function tie(t,e){var n=Np(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(lR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Np(t,Math.max(0,e+a-1))[0]}function VP(t,e){var n=Np(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const FP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>VP(t*100,e),r:VP,s:tie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UP(t){return t}var BP=Array.prototype.map,zP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nie(t){var e=t.grouping===void 0||t.thousands===void 0?UP:Qre(BP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?UP:Jre(BP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Wc(d);var p=d.fill,m=d.align,g=d.sign,w=d.symbol,x=d.zero,b=d.width,y=d.comma,E=d.precision,N=d.trim,A=d.type;A==="n"?(y=!0,A="g"):FP[A]||(E===void 0&&(E=12),N=!0,A="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",S=w==="$"?r:/[%p]/.test(A)?o:"",v=FP[A],T=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function O(k){var j=P,C=S,$,F,W;if(A==="c")C=v(k)+C,k="";else{k=+k;var R=k<0||1/k<0;if(k=isNaN(k)?l:v(Math.abs(k),E),N&&(k=eie(k)),R&&+k==0&&g!=="+"&&(R=!1),j=(R?g==="("?g:s:g==="-"||g==="("?"":g)+j,C=(A==="s"?zP[8+lR/3]:"")+C+(R&&g==="("?")":""),T){for($=-1,F=k.length;++$<F;)if(W=k.charCodeAt($),48>W||W>57){C=(W===46?i+k.slice($+1):k.slice($))+C,k=k.slice(0,$);break}}}y&&!x&&(k=e(k,1/0));var B=j.length+k.length+C.length,M=B<b?new Array(b-B+1).join(p):"";switch(y&&x&&(k=e(M+k,M.length?b-C.length:1/0),M=""),m){case"<":k=j+k+C+M;break;case"=":k=j+M+k+C;break;case"^":k=M.slice(0,B=M.length>>1)+j+k+C+M.slice(B);break;default:k=M+j+k+C;break}return a(k)}return O.toString=function(){return d+""},O}function c(d,p){var m=u((d=Wc(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(nl(p)/3)))*3,w=Math.pow(10,-g),x=zP[8+g/3];return function(b){return m(w*b)+x}}return{format:u,formatPrefix:c}}var Ld,M1,uR;rie({thousands:",",grouping:[3],currency:["$",""]});function rie(t){return Ld=nie(t),M1=Ld.format,uR=Ld.formatPrefix,Ld}function iie(t){return Math.max(0,-nl(Math.abs(t)))}function aie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nl(e)/3)))*3-nl(Math.abs(t)))}function oie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nl(e)-nl(t))+1}function cR(t,e,n,r){var i=mw(t,e,n),a;switch(r=Wc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=aie(i,o))&&(r.precision=a),uR(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=oie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=iie(i))&&(r.precision=a-(r.type==="%")*2);break}}return M1(r)}function $a(t){var e=t.domain;return t.ticks=function(n){var r=e();return hw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return cR(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=pw(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function jp(){var t=D1();return t.copy=function(){return Vf(t,jp())},dr.apply(t,arguments),$a(t)}function fR(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,kp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return fR(t).unknown(e)},t=arguments.length?Array.from(t,kp):[0,1],$a(n)}function dR(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function WP(t){return Math.log(t)}function qP(t){return Math.exp(t)}function sie(t){return-Math.log(-t)}function lie(t){return-Math.exp(-t)}function uie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cie(t){return t===10?uie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function HP(t){return(e,n)=>-t(-e,n)}function $1(t){const e=t(WP,qP),n=e.domain;let r=10,i,a;function o(){return i=fie(r),a=cie(r),n()[0]<0?(i=HP(i),a=HP(a),t(sie,lie)):t(WP,qP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),g,w;const x=s==null?10:+s;let b=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<r;++g)if(w=p<0?g/a(-p):g*a(p),!(w<u)){if(w>c)break;b.push(w)}}else for(;p<=m;++p)for(g=r-1;g>=1;--g)if(w=p>0?g/a(-p):g*a(p),!(w<u)){if(w>c)break;b.push(w)}b.length*2<x&&(b=hw(u,c,x))}else b=hw(p,m,Math.min(m-p,x)).map(a);return d?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Wc(l)).precision==null&&(l.trim=!0),l=M1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(dR(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function hR(){const t=$1(bg()).domain([1,10]);return t.copy=()=>Vf(t,hR()).base(t.base()),dr.apply(t,arguments),t}function GP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function L1(t){var e=1,n=t(GP(e),KP(e));return n.constant=function(r){return arguments.length?t(GP(e=+r),KP(e)):e},$a(n)}function pR(){var t=L1(bg());return t.copy=function(){return Vf(t,pR()).constant(t.constant())},dr.apply(t,arguments)}function YP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function die(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hie(t){return t<0?-t*t:t*t}function V1(t){var e=t(bn,bn),n=1;function r(){return n===1?t(bn,bn):n===.5?t(die,hie):t(YP(n),YP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},$a(e)}function F1(){var t=V1(bg());return t.copy=function(){return Vf(t,F1()).exponent(t.exponent())},dr.apply(t,arguments),t}function pie(){return F1.apply(null,arguments).exponent(.5)}function XP(t){return Math.sign(t)*t*t}function mie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mR(){var t=D1(),e=[0,1],n=!1,r;function i(a){var o=mie(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(XP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,kp)).map(XP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},dr.apply(i,arguments),$a(i)}function gR(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=bre(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[$f(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ya),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return gR().domain(t).range(e).unknown(r)},dr.apply(a,arguments)}function yR(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[$f(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return yR().domain([t,e]).range(i).unknown(a)},dr.apply($a(o),arguments)}function vR(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[$f(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vR().domain(t).range(e).unknown(n)},dr.apply(i,arguments)}const iv=new Date,av=new Date;function Vt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Vt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(iv.setTime(+a),av.setTime(+o),t(iv),t(av),Math.floor(n(iv,av))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Dp=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dp);Dp.range;const fi=1e3,rr=fi*60,di=rr*60,Oi=di*24,U1=Oi*7,QP=Oi*30,ov=Oi*365,io=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCSeconds());io.range;const B1=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi)},(t,e)=>{t.setTime(+t+e*rr)},(t,e)=>(e-t)/rr,t=>t.getMinutes());B1.range;const z1=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*rr)},(t,e)=>(e-t)/rr,t=>t.getUTCMinutes());z1.range;const W1=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi-t.getMinutes()*rr)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getHours());W1.range;const q1=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCHours());q1.range;const Ff=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rr)/Oi,t=>t.getDate()-1);Ff.range;const _g=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);_g.range;const wR=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));wR.range;function Lo(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*rr)/U1)}const xg=Lo(0),Rp=Lo(1),gie=Lo(2),yie=Lo(3),rl=Lo(4),vie=Lo(5),wie=Lo(6);xg.range;Rp.range;gie.range;yie.range;rl.range;vie.range;wie.range;function Vo(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/U1)}const Eg=Vo(0),Mp=Vo(1),bie=Vo(2),_ie=Vo(3),il=Vo(4),xie=Vo(5),Eie=Vo(6);Eg.range;Mp.range;bie.range;_ie.range;il.range;xie.range;Eie.range;const H1=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());H1.range;const G1=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());G1.range;const Ii=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ii.range;const Ci=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ci.range;function bR(t,e,n,r,i,a){const o=[[io,1,fi],[io,5,5*fi],[io,15,15*fi],[io,30,30*fi],[a,1,rr],[a,5,5*rr],[a,15,15*rr],[a,30,30*rr],[i,1,di],[i,3,3*di],[i,6,6*di],[i,12,12*di],[r,1,Oi],[r,2,2*Oi],[n,1,U1],[e,1,QP],[e,3,3*QP],[t,1,ov]];function s(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,m=I1(([,,x])=>x).right(o,p);if(m===o.length)return t.every(mw(u/ov,c/ov,d));if(m===0)return Dp.every(Math.max(mw(u,c,d),1));const[g,w]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return g.every(w)}return[s,l]}const[Sie,Tie]=bR(Ci,G1,Eg,wR,q1,z1),[Aie,Pie]=bR(Ii,H1,xg,Ff,W1,B1);function sv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Oie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=bu(i),c=_u(i),d=bu(a),p=_u(a),m=bu(o),g=_u(o),w=bu(s),x=_u(s),b=bu(l),y=_u(l),E={a:R,A:B,b:M,B:X,c:null,d:rO,e:rO,f:Qie,g:sae,G:uae,H:Kie,I:Yie,j:Xie,L:_R,m:Jie,M:Zie,p:H,q:V,Q:oO,s:sO,S:eae,u:tae,U:nae,V:rae,w:iae,W:aae,x:null,X:null,y:oae,Y:lae,Z:cae,"%":aO},N={a:G,A:me,b:ye,B:Ve,c:null,d:iO,e:iO,f:pae,g:Sae,G:Aae,H:fae,I:dae,j:hae,L:ER,m:mae,M:gae,p:Be,q:ie,Q:oO,s:sO,S:yae,u:vae,U:wae,V:bae,w:_ae,W:xae,x:null,X:null,y:Eae,Y:Tae,Z:Pae,"%":aO},A={a:O,A:k,b:j,B:C,c:$,d:tO,e:tO,f:Wie,g:eO,G:ZP,H:nO,I:nO,j:Fie,L:zie,m:Vie,M:Uie,p:T,q:Lie,Q:Hie,s:Gie,S:Bie,u:jie,U:Die,V:Rie,w:Nie,W:Mie,x:F,X:W,y:eO,Y:ZP,Z:$ie,"%":qie};E.x=P(n,E),E.X=P(r,E),E.c=P(e,E),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(J,se){return function(ge){var ee=[],Pe=-1,xe=0,ze=J.length,Qe,Tt,Dn;for(ge instanceof Date||(ge=new Date(+ge));++Pe<ze;)J.charCodeAt(Pe)===37&&(ee.push(J.slice(xe,Pe)),(Tt=JP[Qe=J.charAt(++Pe)])!=null?Qe=J.charAt(++Pe):Tt=Qe==="e"?" ":"0",(Dn=se[Qe])&&(Qe=Dn(ge,Tt)),ee.push(Qe),xe=Pe+1);return ee.push(J.slice(xe,Pe)),ee.join("")}}function S(J,se){return function(ge){var ee=wu(1900,void 0,1),Pe=v(ee,J,ge+="",0),xe,ze;if(Pe!=ge.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(se&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(xe=lv(wu(ee.y,0,1)),ze=xe.getUTCDay(),xe=ze>4||ze===0?Mp.ceil(xe):Mp(xe),xe=_g.offset(xe,(ee.V-1)*7),ee.y=xe.getUTCFullYear(),ee.m=xe.getUTCMonth(),ee.d=xe.getUTCDate()+(ee.w+6)%7):(xe=sv(wu(ee.y,0,1)),ze=xe.getDay(),xe=ze>4||ze===0?Rp.ceil(xe):Rp(xe),xe=Ff.offset(xe,(ee.V-1)*7),ee.y=xe.getFullYear(),ee.m=xe.getMonth(),ee.d=xe.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ze="Z"in ee?lv(wu(ee.y,0,1)).getUTCDay():sv(wu(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ze+5)%7:ee.w+ee.U*7-(ze+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,lv(ee)):sv(ee)}}function v(J,se,ge,ee){for(var Pe=0,xe=se.length,ze=ge.length,Qe,Tt;Pe<xe;){if(ee>=ze)return-1;if(Qe=se.charCodeAt(Pe++),Qe===37){if(Qe=se.charAt(Pe++),Tt=A[Qe in JP?se.charAt(Pe++):Qe],!Tt||(ee=Tt(J,ge,ee))<0)return-1}else if(Qe!=ge.charCodeAt(ee++))return-1}return ee}function T(J,se,ge){var ee=u.exec(se.slice(ge));return ee?(J.p=c.get(ee[0].toLowerCase()),ge+ee[0].length):-1}function O(J,se,ge){var ee=m.exec(se.slice(ge));return ee?(J.w=g.get(ee[0].toLowerCase()),ge+ee[0].length):-1}function k(J,se,ge){var ee=d.exec(se.slice(ge));return ee?(J.w=p.get(ee[0].toLowerCase()),ge+ee[0].length):-1}function j(J,se,ge){var ee=b.exec(se.slice(ge));return ee?(J.m=y.get(ee[0].toLowerCase()),ge+ee[0].length):-1}function C(J,se,ge){var ee=w.exec(se.slice(ge));return ee?(J.m=x.get(ee[0].toLowerCase()),ge+ee[0].length):-1}function $(J,se,ge){return v(J,e,se,ge)}function F(J,se,ge){return v(J,n,se,ge)}function W(J,se,ge){return v(J,r,se,ge)}function R(J){return o[J.getDay()]}function B(J){return a[J.getDay()]}function M(J){return l[J.getMonth()]}function X(J){return s[J.getMonth()]}function H(J){return i[+(J.getHours()>=12)]}function V(J){return 1+~~(J.getMonth()/3)}function G(J){return o[J.getUTCDay()]}function me(J){return a[J.getUTCDay()]}function ye(J){return l[J.getUTCMonth()]}function Ve(J){return s[J.getUTCMonth()]}function Be(J){return i[+(J.getUTCHours()>=12)]}function ie(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var se=P(J+="",E);return se.toString=function(){return J},se},parse:function(J){var se=S(J+="",!1);return se.toString=function(){return J},se},utcFormat:function(J){var se=P(J+="",N);return se.toString=function(){return J},se},utcParse:function(J){var se=S(J+="",!0);return se.toString=function(){return J},se}}}var JP={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,Iie=/^%/,Cie=/[\\^$*+?|[\]().{}]/g;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function kie(t){return t.replace(Cie,"\\$&")}function bu(t){return new RegExp("^(?:"+t.map(kie).join("|")+")","i")}function _u(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Nie(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jie(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Die(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Rie(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Mie(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ZP(t,e,n){var r=Wt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eO(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $ie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lie(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Vie(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tO(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Fie(t,e,n){var r=Wt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nO(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Uie(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Bie(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zie(t,e,n){var r=Wt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wie(t,e,n){var r=Wt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qie(t,e,n){var r=Iie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Hie(t,e,n){var r=Wt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Gie(t,e,n){var r=Wt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rO(t,e){return Ue(t.getDate(),e,2)}function Kie(t,e){return Ue(t.getHours(),e,2)}function Yie(t,e){return Ue(t.getHours()%12||12,e,2)}function Xie(t,e){return Ue(1+Ff.count(Ii(t),t),e,3)}function _R(t,e){return Ue(t.getMilliseconds(),e,3)}function Qie(t,e){return _R(t,e)+"000"}function Jie(t,e){return Ue(t.getMonth()+1,e,2)}function Zie(t,e){return Ue(t.getMinutes(),e,2)}function eae(t,e){return Ue(t.getSeconds(),e,2)}function tae(t){var e=t.getDay();return e===0?7:e}function nae(t,e){return Ue(xg.count(Ii(t)-1,t),e,2)}function xR(t){var e=t.getDay();return e>=4||e===0?rl(t):rl.ceil(t)}function rae(t,e){return t=xR(t),Ue(rl.count(Ii(t),t)+(Ii(t).getDay()===4),e,2)}function iae(t){return t.getDay()}function aae(t,e){return Ue(Rp.count(Ii(t)-1,t),e,2)}function oae(t,e){return Ue(t.getFullYear()%100,e,2)}function sae(t,e){return t=xR(t),Ue(t.getFullYear()%100,e,2)}function lae(t,e){return Ue(t.getFullYear()%1e4,e,4)}function uae(t,e){var n=t.getDay();return t=n>=4||n===0?rl(t):rl.ceil(t),Ue(t.getFullYear()%1e4,e,4)}function cae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ue(e/60|0,"0",2)+Ue(e%60,"0",2)}function iO(t,e){return Ue(t.getUTCDate(),e,2)}function fae(t,e){return Ue(t.getUTCHours(),e,2)}function dae(t,e){return Ue(t.getUTCHours()%12||12,e,2)}function hae(t,e){return Ue(1+_g.count(Ci(t),t),e,3)}function ER(t,e){return Ue(t.getUTCMilliseconds(),e,3)}function pae(t,e){return ER(t,e)+"000"}function mae(t,e){return Ue(t.getUTCMonth()+1,e,2)}function gae(t,e){return Ue(t.getUTCMinutes(),e,2)}function yae(t,e){return Ue(t.getUTCSeconds(),e,2)}function vae(t){var e=t.getUTCDay();return e===0?7:e}function wae(t,e){return Ue(Eg.count(Ci(t)-1,t),e,2)}function SR(t){var e=t.getUTCDay();return e>=4||e===0?il(t):il.ceil(t)}function bae(t,e){return t=SR(t),Ue(il.count(Ci(t),t)+(Ci(t).getUTCDay()===4),e,2)}function _ae(t){return t.getUTCDay()}function xae(t,e){return Ue(Mp.count(Ci(t)-1,t),e,2)}function Eae(t,e){return Ue(t.getUTCFullYear()%100,e,2)}function Sae(t,e){return t=SR(t),Ue(t.getUTCFullYear()%100,e,2)}function Tae(t,e){return Ue(t.getUTCFullYear()%1e4,e,4)}function Aae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?il(t):il.ceil(t),Ue(t.getUTCFullYear()%1e4,e,4)}function Pae(){return"+0000"}function aO(){return"%"}function oO(t){return+t}function sO(t){return Math.floor(+t/1e3)}var Xo,TR,AR;Oae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Oae(t){return Xo=Oie(t),TR=Xo.format,Xo.parse,AR=Xo.utcFormat,Xo.utcParse,Xo}function Iae(t){return new Date(t)}function Cae(t){return t instanceof Date?+t:+new Date(+t)}function K1(t,e,n,r,i,a,o,s,l,u){var c=D1(),d=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),w=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),E=u("%B"),N=u("%Y");function A(P){return(l(P)<P?m:s(P)<P?g:o(P)<P?w:a(P)<P?x:r(P)<P?i(P)<P?b:y:n(P)<P?E:N)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?p(Array.from(P,Cae)):p().map(Iae)},c.ticks=function(P){var S=p();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?A:u(S)},c.nice=function(P){var S=p();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?p(dR(S,P)):c},c.copy=function(){return Vf(c,K1(t,e,n,r,i,a,o,s,l,u))},c}function kae(){return dr.apply(K1(Aie,Pie,Ii,H1,xg,Ff,W1,B1,io,TR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nae(){return dr.apply(K1(Sie,Tie,Ci,G1,Eg,_g,q1,z1,io,AR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sg(){var t=0,e=1,n,r,i,a,o=bn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(p){var m,g;return arguments.length?([m,g]=p,o=d(m,g),u):[o(0),o(1)]}}return u.range=c(Ul),u.rangeRound=c(j1),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function La(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function PR(){var t=$a(Sg()(bn));return t.copy=function(){return La(t,PR())},$i.apply(t,arguments)}function OR(){var t=$1(Sg()).domain([1,10]);return t.copy=function(){return La(t,OR()).base(t.base())},$i.apply(t,arguments)}function IR(){var t=L1(Sg());return t.copy=function(){return La(t,IR()).constant(t.constant())},$i.apply(t,arguments)}function Y1(){var t=V1(Sg());return t.copy=function(){return La(t,Y1()).exponent(t.exponent())},$i.apply(t,arguments)}function jae(){return Y1.apply(null,arguments).exponent(.5)}function CR(){var t=[],e=bn;function n(r){if(r!=null&&!isNaN(r=+r))return e(($f(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ya),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>wre(t,a/r))},n.copy=function(){return CR(e).domain(t)},$i.apply(n,arguments)}function Tg(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=bn,c,d=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+c(w))-a)*(r*w<r*a?s:l),u(d?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(d=!!w,m):d},m.interpolator=function(w){return arguments.length?(u=w,m):u};function g(w){return function(x){var b,y,E;return arguments.length?([b,y,E]=x,u=qre(w,[b,y,E]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ul),m.rangeRound=g(j1),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return c=w,i=w(t),a=w(e),o=w(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function kR(){var t=$a(Tg()(bn));return t.copy=function(){return La(t,kR())},$i.apply(t,arguments)}function NR(){var t=$1(Tg()).domain([.1,1,10]);return t.copy=function(){return La(t,NR()).base(t.base())},$i.apply(t,arguments)}function jR(){var t=L1(Tg());return t.copy=function(){return La(t,jR()).constant(t.constant())},$i.apply(t,arguments)}function X1(){var t=V1(Tg());return t.copy=function(){return La(t,X1()).exponent(t.exponent())},$i.apply(t,arguments)}function Dae(){return X1.apply(null,arguments).exponent(.5)}const lO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fc,scaleDiverging:kR,scaleDivergingLog:NR,scaleDivergingPow:X1,scaleDivergingSqrt:Dae,scaleDivergingSymlog:jR,scaleIdentity:fR,scaleImplicit:gw,scaleLinear:jp,scaleLog:hR,scaleOrdinal:C1,scalePoint:nc,scalePow:F1,scaleQuantile:gR,scaleQuantize:yR,scaleRadial:mR,scaleSequential:PR,scaleSequentialLog:OR,scaleSequentialPow:Y1,scaleSequentialQuantile:CR,scaleSequentialSqrt:jae,scaleSequentialSymlog:IR,scaleSqrt:pie,scaleSymlog:pR,scaleThreshold:vR,scaleTime:kae,scaleUtc:Nae,tickFormat:cR},Symbol.toStringTag,{value:"Module"}));var Rae=Nl;function Mae(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Rae(o):n(o,s)))var s=o,l=a}return l}var DR=Mae;function $ae(t,e){return t>e}var Lae=$ae,Vae=DR,Fae=Lae,Uae=Vl;function Bae(t){return t&&t.length?Vae(t,Uae,Fae):void 0}var zae=Bae;const Ag=et(zae);function Wae(t,e){return t<e}var qae=Wae,Hae=DR,Gae=qae,Kae=Vl;function Yae(t){return t&&t.length?Hae(t,Kae,Gae):void 0}var Xae=Yae;const Pg=et(Xae);var Qae=u1,Jae=Ma,Zae=zD,eoe=jn;function toe(t,e){var n=eoe(t)?Qae:Zae;return n(t,Jae(e))}var noe=toe,roe=UD,ioe=noe;function aoe(t,e){return roe(ioe(t,e),1)}var ooe=aoe;const soe=et(ooe);var loe=S1;function uoe(t,e){return loe(t,e)}var coe=uoe;const Og=et(coe);var Bl=1e9,foe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},J1,dt=!0,cr="[DecimalError] ",ho=cr+"Invalid argument: ",Q1=cr+"Exponent out of range: ",zl=Math.floor,Qa=Math.pow,doe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Ut=1e7,lt=7,RR=9007199254740991,$p=zl(RR/lt),he={};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};he.comparedTo=he.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};he.decimalPlaces=he.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*lt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(t){return wi(this,new this.constructor(t))};he.dividedToIntegerBy=he.idiv=function(t){var e=this,n=e.constructor;return Ze(wi(e,new n(t),0,1),n.precision)};he.equals=he.eq=function(t){return!this.cmp(t)};he.exponent=function(){return kt(this)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){return this.cmp(t)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fn))throw Error(cr+"NaN");if(n.s<1)throw Error(cr+(n.s?"NaN":"-Infinity"));return n.eq(Fn)?new r(0):(dt=!1,e=wi(qc(n,a),qc(t,a),a),dt=!0,Ze(e,i))};he.minus=he.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?LR(e,t):MR(e,(t.s=-t.s,t))};he.modulo=he.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(cr+"NaN");return n.s?(dt=!1,e=wi(n,t,0,1).times(t),dt=!0,n.minus(e)):Ze(new r(n),i)};he.naturalExponential=he.exp=function(){return $R(this)};he.naturalLogarithm=he.ln=function(){return qc(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};he.plus=he.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?MR(e,t):LR(e,(t.s=-t.s,t))};he.precision=he.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ho+t);if(e=kt(i)+1,r=i.d.length-1,n=r*lt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};he.squareRoot=he.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(cr+"NaN")}for(t=kt(s),dt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Fr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(wi(s,a,o+2)).times(.5),Fr(a.d).slice(0,o)===(e=Fr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ze(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return dt=!0,Ze(r,n)};he.times=he.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,d=c.constructor,p=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*p[i-r-1]+e,a[i--]=s%Ut|0,e=s/Ut|0;a[i]=(a[i]+e)%Ut|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,dt?Ze(t,d.precision):t};he.toDecimalPlaces=he.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Jr(t,0,Bl),e===void 0?e=r.rounding:Jr(e,0,8),Ze(n,t+kt(n)+1,e))};he.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Co(r,!0):(Jr(t,0,Bl),e===void 0?e=i.rounding:Jr(e,0,8),r=Ze(new i(r),t+1,e),n=Co(r,!0,t+1)),n};he.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Co(i):(Jr(t,0,Bl),e===void 0?e=a.rounding:Jr(e,0,8),r=Ze(new a(i),t+kt(i)+1,e),n=Co(r.abs(),!1,t+kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var t=this,e=t.constructor;return Ze(new e(t),kt(t)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Fn);if(s=new l(s),!s.s){if(t.s<1)throw Error(cr+"Infinity");return s}if(s.eq(Fn))return s;if(r=l.precision,t.eq(Fn))return Ze(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=RR){for(i=new l(Fn),e=Math.ceil(r/lt+4),dt=!1;n%2&&(i=i.times(s),cO(i.d,e)),n=zl(n/2),n!==0;)s=s.times(s),cO(s.d,e);return dt=!0,t.s<0?new l(Fn).div(i):Ze(i,r)}}else if(a<0)throw Error(cr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,dt=!1,i=t.times(qc(s,r+u)),dt=!0,i=$R(i),i.s=a,i};he.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=kt(i),r=Co(i,n<=a.toExpNeg||n>=a.toExpPos)):(Jr(t,1,Bl),e===void 0?e=a.rounding:Jr(e,0,8),i=Ze(new a(i),t,e),n=kt(i),r=Co(i,t<=n||n<=a.toExpNeg,t)),r};he.toSignificantDigits=he.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Jr(t,1,Bl),e===void 0?e=r.rounding:Jr(e,0,8)),Ze(new r(n),t,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kt(t),n=t.constructor;return Co(t,e<=n.toExpNeg||e>=n.toExpPos)};function MR(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),dt?Ze(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(d/lt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Ut|0,l[a]%=Ut;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,dt?Ze(e,d):e}function Jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ho+t)}function Fr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=lt-r.length,n&&(a+=Hi(n)),a+=r;o=t[e],r=o+"",n=lt-r.length,n&&(a+=Hi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var wi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Ut|0,o=a/Ut|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ut+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,d,p,m,g,w,x,b,y,E,N,A,P,S,v,T=r.constructor,O=r.s==i.s?1:-1,k=r.d,j=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(cr+"Division by zero");for(l=r.e-i.e,S=j.length,A=k.length,m=new T(O),g=m.d=[],u=0;j[u]==(k[u]||0);)++u;if(j[u]>(k[u]||0)&&--l,a==null?y=a=T.precision:o?y=a+(kt(r)-kt(i))+1:y=a,y<0)return new T(0);if(y=y/lt+2|0,u=0,S==1)for(c=0,j=j[0],y++;(u<A||c)&&y--;u++)E=c*Ut+(k[u]||0),g[u]=E/j|0,c=E%j|0;else{for(c=Ut/(j[0]+1)|0,c>1&&(j=t(j,c),k=t(k,c),S=j.length,A=k.length),N=S,w=k.slice(0,S),x=w.length;x<S;)w[x++]=0;v=j.slice(),v.unshift(0),P=j[0],j[1]>=Ut/2&&++P;do c=0,s=e(j,w,S,x),s<0?(b=w[0],S!=x&&(b=b*Ut+(w[1]||0)),c=b/P|0,c>1?(c>=Ut&&(c=Ut-1),d=t(j,c),p=d.length,x=w.length,s=e(d,w,p,x),s==1&&(c--,n(d,S<p?v:j,p))):(c==0&&(s=c=1),d=j.slice()),p=d.length,p<x&&d.unshift(0),n(w,d,x),s==-1&&(x=w.length,s=e(j,w,S,x),s<1&&(c++,n(w,S<x?v:j,x))),x=w.length):s===0&&(c++,w=[0]),g[u++]=c,s&&w[0]?w[x++]=k[N]||0:(w=[k[N]],x=1);while((N++<A||w[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=l,Ze(m,o?a+kt(m)+1:a)}}();function $R(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,d=c.precision;if(kt(t)>16)throw Error(Q1+kt(t));if(!t.s)return new c(Fn);for(dt=!1,s=d,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Qa(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Fn),c.precision=s;;){if(i=Ze(i.times(t),s),n=n.times(++l),o=a.plus(wi(i,n,s)),Fr(o.d).slice(0,s)===Fr(a.d).slice(0,s)){for(;u--;)a=Ze(a.times(a),s);return c.precision=d,e==null?(dt=!0,Ze(a,d)):a}a=o}}function kt(t){for(var e=t.e*lt,n=t.d[0];n>=10;n/=10)e++;return e}function uv(t,e,n){if(e>t.LN10.sd())throw dt=!0,n&&(t.precision=n),Error(cr+"LN10 precision limit exceeded");return Ze(new t(t.LN10),e)}function Hi(t){for(var e="";t--;)e+="0";return e}function qc(t,e){var n,r,i,a,o,s,l,u,c,d=1,p=10,m=t,g=m.d,w=m.constructor,x=w.precision;if(m.s<1)throw Error(cr+(m.s?"NaN":"-Infinity"));if(m.eq(Fn))return new w(0);if(e==null?(dt=!1,u=x):u=e,m.eq(10))return e==null&&(dt=!0),uv(w,u);if(u+=p,w.precision=u,n=Fr(g),r=n.charAt(0),a=kt(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Fr(m.d),r=n.charAt(0),d++;a=kt(m),r>1?(m=new w("0."+n),a++):m=new w(r+"."+n.slice(1))}else return l=uv(w,u+2,x).times(a+""),m=qc(new w(r+"."+n.slice(1)),u-p).plus(l),w.precision=x,e==null?(dt=!0,Ze(m,x)):m;for(s=o=m=wi(m.minus(Fn),m.plus(Fn),u),c=Ze(m.times(m),u),i=3;;){if(o=Ze(o.times(c),u),l=s.plus(wi(o,new w(i),u)),Fr(l.d).slice(0,u)===Fr(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(uv(w,u+2,x).times(a+""))),s=wi(s,new w(d),u),w.precision=x,e==null?(dt=!0,Ze(s,x)):s;s=l,i+=2}}function uO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zl(n/lt),t.d=[],r=(n+1)%lt,n<0&&(r+=lt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=lt;r<i;)t.d.push(+e.slice(r,r+=lt));e=e.slice(r),r=lt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dt&&(t.e>$p||t.e<-$p))throw Error(Q1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ze(t,e,n){var r,i,a,o,s,l,u,c,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=lt,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/lt),a=d.length,c>=a)return t;for(u=a=d[c],o=1;a>=10;a/=10)o++;r%=lt,i=r-lt+o}if(n!==void 0&&(a=Qa(10,o-i-1),s=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Qa(10,o-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=kt(t),d.length=1,e=e-a-1,d[0]=Qa(10,(lt-e%lt)%lt),t.e=zl(-e/lt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=Qa(10,lt-r),d[c]=i>0?(u/Qa(10,o-i)%Qa(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Ut&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=Ut)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(dt&&(t.e>$p||t.e<-$p))throw Error(Q1+kt(t));return t}function LR(t,e){var n,r,i,a,o,s,l,u,c,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),dt?Ze(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/lt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Ut-1;--l[a],l[i]+=Ut}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,dt?Ze(e,m):e):new p(0)}function Co(t,e,n){var r,i=kt(t),a=Fr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Hi(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Hi(-i-1)+a,n&&(r=n-o)>0&&(a+=Hi(r))):i>=o?(a+=Hi(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Hi(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Hi(r))),t.s<0?"-"+a:a}function cO(t,e){if(t.length>e)return t.length=e,!0}function VR(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ho+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return uO(o,a.toString())}else if(typeof a!="string")throw Error(ho+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,doe.test(a))uO(o,a);else throw Error(ho+a)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VR,i.config=i.set=hoe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function hoe(t){if(!t||typeof t!="object")throw Error(cr+"Object expected");var e,n,r,i=["precision",1,Bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ho+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ho+n+": "+r);return this}var J1=VR(foe);Fn=new J1(1);const Ye=J1;function poe(t){return voe(t)||yoe(t)||goe(t)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function goe(t,e){if(t){if(typeof t=="string")return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(t,e)}}function yoe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function voe(t){if(Array.isArray(t))return bw(t)}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var woe=function(e){return e},FR={},UR=function(e){return e===FR},fO=function(e){return function n(){return arguments.length===0||arguments.length===1&&UR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},boe=function t(e,n){return e===1?n:fO(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==FR}).length;return o>=e?n.apply(void 0,i):t(e-o,fO(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return UR(d)?l.shift():d});return n.apply(void 0,poe(c).concat(l))}))})},Ig=function(e){return boe(e.length,e)},_w=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},_oe=Ig(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),xoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return woe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},xw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},BR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Eoe(t){var e;return t===0?e=1:e=Math.floor(new Ye(t).abs().log(10).toNumber())+1,e}function Soe(t,e,n){for(var r=new Ye(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Toe=Ig(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Aoe=Ig(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Poe=Ig(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Cg={rangeStep:Soe,getDigitCount:Eoe,interpolateNumber:Toe,uninterpolateNumber:Aoe,uninterpolateTruncation:Poe};function Ew(t){return Coe(t)||Ioe(t)||zR(t)||Ooe()}function Ooe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Coe(t){if(Array.isArray(t))return Sw(t)}function Hc(t,e){return joe(t)||Noe(t,e)||zR(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zR(t,e){if(t){if(typeof t=="string")return Sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(t,e)}}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Noe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function joe(t){if(Array.isArray(t))return t}function WR(t){var e=Hc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function qR(t,e,n){if(t.lte(0))return new Ye(0);var r=Cg.getDigitCount(t.toNumber()),i=new Ye(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Ye(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Ye(Math.ceil(l))}function Doe(t,e,n){var r=1,i=new Ye(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ye(10).pow(Cg.getDigitCount(t)-1),i=new Ye(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ye(Math.floor(t)))}else t===0?i=new Ye(Math.floor((e-1)/2)):n||(i=new Ye(Math.floor(t)));var o=Math.floor((e-1)/2),s=xoe(_oe(function(l){return i.add(new Ye(l-o).mul(r)).toNumber()}),_w);return s(0,e)}function HR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var a=qR(new Ye(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Ye(0):(o=new Ye(t).add(e).div(2),o=o.sub(new Ye(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Ye(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?HR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Ye(s).mul(a)),tickMax:o.add(new Ye(l).mul(a))})}function Roe(t){var e=Hc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=WR([n,r]),l=Hc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Ew(_w(0,i-1).map(function(){return 1/0}))):[].concat(Ew(_w(0,i-1).map(function(){return-1/0})),[c]);return n>r?xw(d):d}if(u===c)return Doe(u,i,a);var p=HR(u,c,o,a),m=p.step,g=p.tickMin,w=p.tickMax,x=Cg.rangeStep(g,w.add(new Ye(.1).mul(m)),m);return n>r?xw(x):x}function Moe(t,e){var n=Hc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=WR([r,i]),s=Hc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=qR(new Ye(u).sub(l).div(c-1),a,0),p=[].concat(Ew(Cg.rangeStep(new Ye(l),new Ye(u).sub(new Ye(.99).mul(d)),d)),[u]);return r>i?xw(p):p}var $oe=BR(Roe),Loe=BR(Moe),Voe="Invariant failed";function ko(t,e){throw new Error(Voe)}var Foe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lp.apply(this,arguments)}function Uoe(t,e){return qoe(t)||Woe(t,e)||zoe(t,e)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zoe(t,e){if(t){if(typeof t=="string")return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(t,e)}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Woe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qoe(t){if(Array.isArray(t))return t}function Hoe(t,e){if(t==null)return{};var n=Goe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Goe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Koe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YR(r.key),r)}}function Xoe(t,e,n){return e&&Yoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qoe(t,e,n){return e=Vp(e),Joe(t,GR()?Reflect.construct(e,n||[],Vp(t).constructor):e.apply(t,n))}function Joe(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zoe(t)}function Zoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}function ese(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function KR(t,e,n){return e=YR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YR(t){var e=tse(t,"string");return al(e)=="symbol"?e:e+""}function tse(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uf=function(t){function e(){return Koe(this,e),Qoe(this,e,arguments)}return ese(e,t),Xoe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,p=Hoe(r,Foe),m=Re(p,!1);this.props.direction==="x"&&c.type!=="number"&&ko();var g=l.map(function(w){var x=u(w,s),b=x.x,y=x.y,E=x.value,N=x.errorVal;if(!N)return null;var A=[],P,S;if(Array.isArray(N)){var v=Uoe(N,2);P=v[0],S=v[1]}else P=S=N;if(a==="vertical"){var T=c.scale,O=y+i,k=O+o,j=O-o,C=T(E-P),$=T(E+S);A.push({x1:$,y1:k,x2:$,y2:j}),A.push({x1:C,y1:O,x2:$,y2:O}),A.push({x1:C,y1:k,x2:C,y2:j})}else if(a==="horizontal"){var F=d.scale,W=b+i,R=W-o,B=W+o,M=F(E-P),X=F(E+S);A.push({x1:R,y1:X,x2:B,y2:X}),A.push({x1:W,y1:M,x2:W,y2:X}),A.push({x1:R,y1:M,x2:B,y2:M})}return U.createElement(Et,Lp({className:"recharts-errorBar",key:"bar-".concat(A.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},m),A.map(function(H){return U.createElement("line",Lp({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return U.createElement(Et,{className:"recharts-errorBars"},g)}}])}(U.Component);KR(Uf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});KR(Uf,"displayName","ErrorBar");function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return e=rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return Gc(e)=="symbol"?e:e+""}function ise(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Vn(n,co);if(!o)return null;var s=co.defaultProps,l=s!==void 0?Wa(Wa({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,d){var p=d.item,m=d.props,g=m.sectors||m.data||[];return c.concat(g.map(function(w){return{type:o.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,p=d.type.defaultProps,m=p!==void 0?Wa(Wa({},p),d.props):{},g=m.dataKey,w=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:l.iconType||x||"square",color:Z1(d),value:w||g,payload:m}}),Wa(Wa(Wa({},l),co.getWithHeight(o,i)),{},{payload:u,item:o})};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function pO(t){return lse(t)||sse(t)||ose(t)||ase()}function ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function sse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lse(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){ks(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ks(t,e,n){return e=use(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function use(t){var e=cse(t,"string");return Kc(e)=="symbol"?e:e+""}function cse(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qn(t,e,n){return Ce(t)||Ce(e)?n:$t(e)?or(t,e,n):Ie(e)?e(t):n}function rc(t,e,n,r){var i=soe(t,function(s){return qn(s,e)});if(n==="number"){var a=i.filter(function(s){return oe(s)||parseFloat(s)});return a.length?[Pg(a),Ag(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Ce(s)}):i;return o.map(function(s){return $t(s)||s instanceof Date?s:""})}var fse=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Ar(d-c)!==Ar(p-d)){var g=[];if(Ar(p-d)===Ar(l[1]-l[0])){m=p;var w=d+l[1]-l[0];g[0]=Math.min(w,(w+c)/2),g[1]=Math.max(w,(w+c)/2)}else{m=c;var x=p+l[1]-l[0];g[0]=Math.min(d,(x+d)/2),g[1]=Math.max(d,(x+d)/2)}var b=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var y=Math.min(c,p),E=Math.max(c,p);if(e>(y+d)/2&&e<=(E+d)/2){o=i[u].index;break}}}else for(var N=0;N<s;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<s-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===s-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},Z1=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},dse=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,d=Object.keys(c),p=0,m=d.length;p<m;p++){var g=c[d[p]],w=g.items,x=g.cateAxisId,b=w.filter(function(S){return yi(S.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,E=y!==void 0?wt(wt({},y),b[0].props):b[0].props,N=E.barSize,A=E[x];o[A]||(o[A]=[]);var P=Ce(N)?n:N;o[A].push({item:b[0],stackList:b.slice(1),barSize:Ce(P)?void 0:Io(P,r,0)})}}return o},hse=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Io(n,i,0,!0),c,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=i/l,g=o.reduce(function(N,A){return N+A.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(p=!0,m*=.9,g=l*m);var w=(i-g)/2>>0,x={offset:w-u,size:0};c=o.reduce(function(N,A){var P={item:A.item,position:{offset:x.offset+x.size+u,size:p?m:A.barSize}},S=[].concat(pO(N),[P]);return x=S[S.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(v){S.push({item:v,position:x})}),S},d)}else{var b=Io(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var y=(i-2*b-(l-1)*u)/l;y>1&&(y>>=0);var E=s===+s?Math.min(y,s):y;c=o.reduce(function(N,A,P){var S=[].concat(pO(N),[{item:A.item,position:{offset:b+(y+u)*P+(y-E)/2,size:E}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(v){S.push({item:v,position:S[S.length-1].position})}),S},d)}return c},pse=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=XR({children:a,legendWidth:l});if(u){var c=i||{},d=c.width,p=c.height,m=u.align,g=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&g==="middle")&&m!=="center"&&oe(e[m]))return wt(wt({},e),{},ks({},m,e[m]+(d||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&g!=="middle"&&oe(e[g]))return wt(wt({},e),{},ks({},g,e[g]+(p||0)))}return e},mse=function(e,n,r){return Ce(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},QR=function(e,n,r,i,a){var o=n.props.children,s=sr(o,Uf).filter(function(u){return mse(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=qn(c,r);if(Ce(d))return u;var p=Array.isArray(d)?[Pg(d),Ag(d)]:[d,d],m=l.reduce(function(g,w){var x=qn(c,w,0),b=p[0]-Math.abs(Array.isArray(x)?x[0]:x),y=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},gse=function(e,n,r,i,a){var o=n.map(function(s){return QR(e,s,r,a,i)}).filter(function(s){return!Ce(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},JR=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&QR(e,l,u,i)||rc(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},ZR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},eM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},hi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ar(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var p=a?a.indexOf(d):d;return{coordinate:i(p)+u,value:d,offset:u}});return c.filter(function(d){return!Df(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,p){return{coordinate:i(d)+u,value:d,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,p){return{coordinate:i(d)+u,value:a?a[d]:d,index:p,offset:u}})},cv=new WeakMap,Vd=function(e,n){if(typeof n!="function")return e;cv.has(e)||cv.set(e,new WeakMap);var r=cv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},yse=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Fc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:jp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:nc(),realScaleType:"point"}:a==="category"?{scale:Fc(),realScaleType:"band"}:{scale:jp(),realScaleType:"linear"};if(Oo(i)){var l="scale".concat(hg(i));return{scale:(lO[l]||nc)(),realScaleType:lO[l]?l:"point"}}return Ie(i)?{scale:i}:{scale:nc(),realScaleType:"point"}},gO=1e-4,vse=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-gO,o=Math.max(i[0],i[1])+gO,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},wse=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},bse=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(a[0]=r),(!oe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},_se=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Df(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},xse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Df(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Ese={sign:_se,expand:LG,none:Qs,silhouette:VG,wiggle:FG,positive:xse},Sse=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Ese[r],o=$G().keys(i).value(function(s,l){return+qn(s,l,0)}).order(Q0).offset(a);return o(e)},Tse=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(d,p){var m,g=(m=p.type)!==null&&m!==void 0&&m.defaultProps?wt(wt({},p.type.defaultProps),p.props):p.props,w=g.stackId,x=g.hide;if(x)return d;var b=g[r],y=d[b]||{hasStack:!1,stackGroups:{}};if($t(w)){var E=y.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(p),y.hasStack=!0,y.stackGroups[w]=E}else y.stackGroups[Rf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return wt(wt({},d),{},ks({},b,y))},l),c={};return Object.keys(u).reduce(function(d,p){var m=u[p];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,x){var b=m.stackGroups[x];return wt(wt({},w),{},ks({},x,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Sse(e,b.items,a)}))},g)}return wt(wt({},d),{},ks({},p,m))},c)},Ase=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=$oe(u,a,s);return e.domain([Pg(c),Ag(c)]),{niceTicks:c}}if(a&&i==="number"){var d=e.domain(),p=Loe(d,a,s);return{niceTicks:p}}return null};function yO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ce(i[e.dataKey])){var s=cp(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=qn(i,Ce(o)?e.dataKey:o);return Ce(l)?null:e.scale(l)}var vO=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=qn(o,n.dataKey,n.domain[s]);return Ce(l)?null:n.scale(l)-a/2+i},Pse=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Ose=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if($t(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Ise=function(e){return e.reduce(function(n,r){return[Pg(r.concat([n[0]]).filter(oe)),Ag(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},tM=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var d=Ise(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},wO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pw=function(e,n,r){if(Ie(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(wO.test(e[0])){var a=+wO.exec(e[0])[1];i[0]=n[0]-a}else Ie(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(bO.test(e[1])){var o=+bO.exec(e[1])[1];i[1]=n[1]+o}else Ie(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Fp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=A1(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},_O=function(e,n,r){return!e||!e.length||Og(e,or(r,"type.defaultProps.domain"))?n:e},nM=function(e,n){var r=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return wt(wt({},Re(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Z1(e),value:qn(n,i),type:l,payload:n,chartType:u,hide:c})};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cse(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Nse(t,"string");return Yc(e)=="symbol"?e:e+""}function Nse(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Up=Math.PI/180,jse=function(e){return e*180/Math.PI},Xt=function(e,n,r,i){return{x:e+Math.cos(-Up*i)*r,y:n+Math.sin(-Up*i)*r}},Dse=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Rse=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Dse({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:jse(u),angleInRadian:u}},Mse=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},$se=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},SO=function(e,n){var r=e.x,i=e.y,a=Rse({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Mse(n),d=c.startAngle,p=c.endAngle,m=s,g;if(d<=p){for(;m>p;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=p}else{for(;m>d;)m-=360;for(;m<p;)m+=360;g=m>=p&&m<=d}return g?EO(EO({},n),{},{radius:o,angle:$se(m,n)}):null};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var Lse=["offset"];function Vse(t){return zse(t)||Bse(t)||Use(t)||Fse()}function Fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Use(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function Bse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zse(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wse(t,e){if(t==null)return{};var n=qse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){Hse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hse(t,e,n){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Kse(t,"string");return Xc(e)=="symbol"?e:e+""}function Kse(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}var Yse=function(e){var n=e.value,r=e.formatter,i=Ce(e.children)?n:e.children;return Ie(r)?r(i):i},Xse=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Qse=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,d=l.innerRadius,p=l.outerRadius,m=l.startAngle,g=l.endAngle,w=l.clockWise,x=(d+p)/2,b=Xse(m,g),y=b>=0?1:-1,E,N;i==="insideStart"?(E=m+y*o,N=w):i==="insideEnd"?(E=g-y*o,N=!w):i==="end"&&(E=g+y*o,N=w),N=b<=0?N:!N;var A=Xt(u,c,x,E),P=Xt(u,c,x,E+(N?1:-1)*359),S="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),v=Ce(e.id)?Rf("recharts-radial-line-"):e.id;return U.createElement("text",Qc({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",s)}),U.createElement("defs",null,U.createElement("path",{id:v,d:S})),U.createElement("textPath",{xlinkHref:"#".concat(v)},n))},Jse=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,d=a.endAngle,p=(c+d)/2;if(i==="outside"){var m=Xt(o,s,u+r,p),g=m.x,w=m.y;return{x:g,y:w,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,b=Xt(o,s,x,p),y=b.x,E=b.y;return{x:y,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Zse=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,d=c>=0?1:-1,p=d*i,m=d>0?"end":"start",g=d>0?"start":"end",w=u>=0?1:-1,x=w*i,b=w>0?"end":"start",y=w>0?"start":"end";if(a==="top"){var E={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return Dt(Dt({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var N={x:s+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:g};return Dt(Dt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var A={x:s-x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Dt(Dt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(a==="right"){var P={x:s+u+x,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Dt(Dt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return a==="insideLeft"?Dt({x:s+x,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideRight"?Dt({x:s+u-x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):a==="insideTop"?Dt({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?Dt({x:s+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?Dt({x:s+x,y:l+p,textAnchor:y,verticalAnchor:g},S):a==="insideTopRight"?Dt({x:s+u-x,y:l+p,textAnchor:b,verticalAnchor:g},S):a==="insideBottomLeft"?Dt({x:s+x,y:l+c-p,textAnchor:y,verticalAnchor:m},S):a==="insideBottomRight"?Dt({x:s+u-x,y:l+c-p,textAnchor:b,verticalAnchor:m},S):jl(a)&&(oe(a.x)||no(a.x))&&(oe(a.y)||no(a.y))?Dt({x:s+Io(a.x,u),y:l+Io(a.y,c),textAnchor:"end",verticalAnchor:"end"},S):Dt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},ele=function(e){return"cx"in e&&oe(e.cx)};function fn(t){var e=t.offset,n=e===void 0?5:e,r=Wse(t,Lse),i=Dt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,p=i.textBreakAll;if(!a||Ce(s)&&Ce(l)&&!L.isValidElement(u)&&!Ie(u))return null;if(L.isValidElement(u))return L.cloneElement(u,i);var m;if(Ie(u)){if(m=L.createElement(u,i),L.isValidElement(m))return m}else m=Yse(i);var g=ele(a),w=Re(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Qse(i,m,w);var x=g?Jse(i):Zse(i);return U.createElement(Ap,Qc({className:Le("recharts-label",d)},w,x,{breakAll:p}),m)}fn.displayName="Label";var rM=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,p=e.y,m=e.top,g=e.left,w=e.width,x=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(oe(w)&&oe(x)){if(oe(d)&&oe(p))return{x:d,y:p,width:w,height:x};if(oe(m)&&oe(g))return{x:m,y:g,width:w,height:x}}return oe(d)&&oe(p)?{x:d,y:p,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},tle=function(e,n){return e?e===!0?U.createElement(fn,{key:"label-implicit",viewBox:n}):$t(e)?U.createElement(fn,{key:"label-implicit",viewBox:n,value:e}):L.isValidElement(e)?e.type===fn?L.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(fn,{key:"label-implicit",content:e,viewBox:n}):Ie(e)?U.createElement(fn,{key:"label-implicit",content:e,viewBox:n}):jl(e)?U.createElement(fn,Qc({viewBox:n},e,{key:"label-implicit"})):null:null},nle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=rM(e),o=sr(i,fn).map(function(l,u){return L.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=tle(e.label,n||a);return[s].concat(Vse(o))};fn.parseViewBox=rM;fn.renderCallByParent=nle;function rle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ile=rle;const ale=et(ile);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var ole=["valueAccessor"],sle=["data","dataKey","clockWise","id","textBreakAll"];function lle(t){return dle(t)||fle(t)||cle(t)||ule()}function ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cle(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function fle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dle(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bp(){return Bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bp.apply(this,arguments)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){hle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hle(t,e,n){return e=ple(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ple(t){var e=mle(t,"string");return Jc(e)=="symbol"?e:e+""}function mle(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OO(t,e){if(t==null)return{};var n=gle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yle=function(e){return Array.isArray(e.value)?ale(e.value):e.value};function va(t){var e=t.valueAccessor,n=e===void 0?yle:e,r=OO(t,ole),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=OO(r,sle);return!i||!i.length?null:U.createElement(Et,{className:"recharts-label-list"},i.map(function(c,d){var p=Ce(a)?n(c,d):qn(c&&c.payload,a),m=Ce(s)?{}:{id:"".concat(s,"-").concat(d)};return U.createElement(fn,Bp({},Re(c,!0),u,m,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:fn.parseViewBox(Ce(o)?c:PO(PO({},c),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}va.displayName="LabelList";function vle(t,e){return t?t===!0?U.createElement(va,{key:"labelList-implicit",data:e}):U.isValidElement(t)||Ie(t)?U.createElement(va,{key:"labelList-implicit",data:e,content:t}):jl(t)?U.createElement(va,Bp({data:e},t,{key:"labelList-implicit"})):null:null}function wle(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=sr(r,va).map(function(o,s){return L.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=vle(t.label,e);return[a].concat(lle(i))}va.renderCallByParent=wle;function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e,n){return e=_le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=xle(t,"string");return Zc(e)=="symbol"?e:e+""}function xle(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ele=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Up,p=u?a:a+o*d,m=Xt(n,r,c,p),g=Xt(n,r,i,p),w=u?a-o*d:a,x=Xt(n,r,c*Math.cos(d*Up),w);return{center:m,circleTangency:g,lineTangency:x,theta:d}},iM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Ele(o,s),u=o+l,c=Xt(n,r,a,o),d=Xt(n,r,a,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Xt(n,r,i,o),g=Xt(n,r,i,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Sle=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Ar(c-u),p=Fd({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),m=p.circleTangency,g=p.lineTangency,w=p.theta,x=Fd({cx:n,cy:r,radius:a,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:l}),b=x.circleTangency,y=x.lineTangency,E=x.theta,N=l?Math.abs(u-c):Math.abs(u-c)-w-E;if(N<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):iM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var A="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var P=Fd({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=P.circleTangency,v=P.lineTangency,T=P.theta,O=Fd({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=O.circleTangency,j=O.lineTangency,C=O.theta,$=l?Math.abs(u-c):Math.abs(u-c)-T-C;if($<0&&o===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},Tle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aM=function(e){var n=CO(CO({},Tle),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,p=n.className;if(o<a||c===d)return null;var m=Le("recharts-sector",p),g=o-a,w=Io(s,g,0,!0),x;return w>0&&Math.abs(c-d)<360?x=Sle({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=iM({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}),U.createElement("path",Cw({},Re(n,!0),{className:m,d:x,role:"img"}))};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ale(t,e,n){return e=Ple(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ple(t){var e=Ole(t,"string");return ef(e)=="symbol"?e:e+""}function Ole(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jO={curveBasisClosed:AG,curveBasisOpen:PG,curveBasis:TG,curveBumpX:fG,curveBumpY:dG,curveLinearClosed:OG,curveLinear:mg,curveMonotoneX:IG,curveMonotoneY:CG,curveNatural:kG,curveStep:NG,curveStepAfter:DG,curveStepBefore:jG},Ud=function(e){return e.x===+e.x&&e.y===+e.y},xu=function(e){return e.x},Eu=function(e){return e.y},Ile=function(e,n){if(Ie(e))return e;var r="curve".concat(hg(e));return(r==="curveMonotone"||r==="curveBump")&&n?jO["".concat(r).concat(n==="vertical"?"Y":"X")]:jO[r]||mg},Cle=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Ile(r,s),d=u?a.filter(function(w){return Ud(w)}):a,p;if(Array.isArray(o)){var m=u?o.filter(function(w){return Ud(w)}):o,g=d.map(function(w,x){return NO(NO({},w),{},{base:m[x]})});return s==="vertical"?p=kd().y(Eu).x1(xu).x0(function(w){return w.base.x}):p=kd().x(xu).y1(Eu).y0(function(w){return w.base.y}),p.defined(Ud).curve(c),p(g)}return s==="vertical"&&oe(o)?p=kd().y(Eu).x1(xu).x0(o):oe(o)?p=kd().x(xu).y1(Eu).y0(o):p=oD().x(xu).y(Eu),p.defined(Ud).curve(c),p(d)},Nw=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Cle(e):i;return L.createElement("path",kw({},Re(e,!1),fp(e),{className:Le("recharts-curve",n),d:o,ref:a}))},oM={exports:{}},kle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nle=kle,jle=Nle;function sM(){}function lM(){}lM.resetWarningCache=sM;var Dle=function(){function t(r,i,a,o,s,l){if(l!==jle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lM,resetWarningCache:sM};return n.PropTypes=n,n};oM.exports=Dle();var Rle=oM.exports;const We=et(Rle);var Mle=Object.getOwnPropertyNames,$le=Object.getOwnPropertySymbols,Lle=Object.prototype.hasOwnProperty;function DO(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Bd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function RO(t){return Mle(t).concat($le(t))}var Vle=Object.hasOwn||function(t,e){return Lle.call(t,e)};function Fo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Fle="__v",Ule="__o",Ble="_owner",MO=Object.getOwnPropertyDescriptor,$O=Object.keys;function zle(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Wle(t,e){return Fo(t.getTime(),e.getTime())}function qle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Hle(t,e){return t===e}function LO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var p=o.value,m=s.value;if(n.equals(p[0],m[0],l,d,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var Gle=Fo;function Kle(t,e,n){var r=$O(t),i=r.length;if($O(e).length!==i)return!1;for(;i-- >0;)if(!uM(t,e,n,r[i]))return!1;return!0}function Su(t,e,n){var r=RO(t),i=r.length;if(RO(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!uM(t,e,n,a)||(o=MO(t,a),s=MO(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Yle(t,e){return Fo(t.valueOf(),e.valueOf())}function Xle(t,e){return t.source===e.source&&t.flags===e.flags}function VO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Qle(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Jle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function uM(t,e,n,r){return(r===Ble||r===Ule||r===Fle)&&(t.$$typeof||e.$$typeof)?!0:Vle(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Zle="[object Arguments]",eue="[object Boolean]",tue="[object Date]",nue="[object Error]",rue="[object Map]",iue="[object Number]",aue="[object Object]",oue="[object RegExp]",sue="[object Set]",lue="[object String]",uue="[object URL]",cue=Array.isArray,FO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,UO=Object.assign,fue=Object.prototype.toString.call.bind(Object.prototype.toString);function due(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,w,x){if(g===w)return!0;if(g==null||w==null)return!1;var b=typeof g;if(b!==typeof w)return!1;if(b!=="object")return b==="number"?o(g,w,x):b==="function"?i(g,w,x):!1;var y=g.constructor;if(y!==w.constructor)return!1;if(y===Object)return s(g,w,x);if(cue(g))return e(g,w,x);if(FO!=null&&FO(g))return d(g,w,x);if(y===Date)return n(g,w,x);if(y===RegExp)return u(g,w,x);if(y===Map)return a(g,w,x);if(y===Set)return c(g,w,x);var E=fue(g);return E===tue?n(g,w,x):E===oue?u(g,w,x):E===rue?a(g,w,x):E===sue?c(g,w,x):E===aue?typeof g.then!="function"&&typeof w.then!="function"&&s(g,w,x):E===uue?p(g,w,x):E===nue?r(g,w,x):E===Zle?s(g,w,x):E===eue||E===iue||E===lue?l(g,w,x):!1}}function hue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Su:zle,areDatesEqual:Wle,areErrorsEqual:qle,areFunctionsEqual:Hle,areMapsEqual:r?DO(LO,Su):LO,areNumbersEqual:Gle,areObjectsEqual:r?Su:Kle,arePrimitiveWrappersEqual:Yle,areRegExpsEqual:Xle,areSetsEqual:r?DO(VO,Su):VO,areTypedArraysEqual:r?Su:Qle,areUrlsEqual:Jle};if(n&&(i=UO({},i,n(i))),e){var a=Bd(i.areArraysEqual),o=Bd(i.areMapsEqual),s=Bd(i.areObjectsEqual),l=Bd(i.areSetsEqual);i=UO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function pue(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function mue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,p=d===void 0?e?new WeakMap:void 0:d,m=c.meta;return n(l,u,{cache:p,equals:i,meta:m,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var gue=Va();Va({strict:!0});Va({circular:!0});Va({circular:!0,strict:!0});Va({createInternalComparator:function(){return Fo}});Va({strict:!0,createInternalComparator:function(){return Fo}});Va({circular:!0,createInternalComparator:function(){return Fo}});Va({circular:!0,createInternalComparator:function(){return Fo},strict:!0});function Va(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=hue(t),l=due(s),u=r?r(l):pue(l);return mue({circular:n,comparator:l,createState:i,equals:u,strict:o})}function yue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):yue(i)};requestAnimationFrame(r)}function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function vue(t){return xue(t)||_ue(t)||bue(t)||wue()}function wue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(t,e){if(t){if(typeof t=="string")return zO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xue(t){if(Array.isArray(t))return t}function Eue(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=vue(o),l=s[0],u=s.slice(1);if(typeof l=="number"){BO(i.bind(null,u),l);return}i(l),BO(i.bind(null,u));return}jw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){cM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cM(t,e,n){return e=Sue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sue(t){var e=Tue(t,"string");return tf(e)==="symbol"?e:String(e)}function Tue(t,e){if(tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Pue=function(e){return e},Oue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ic=function(e,n){return Object.keys(n).reduce(function(r,i){return qO(qO({},r),{},cM({},i,e(i,n[i])))},{})},HO=function(e,n,r){return e.map(function(i){return"".concat(Oue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Iue(t,e){return Nue(t)||kue(t,e)||fM(t,e)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Nue(t){if(Array.isArray(t))return t}function jue(t){return Mue(t)||Rue(t)||fM(t)||Due()}function Due(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fM(t,e){if(t){if(typeof t=="string")return Dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dw(t,e)}}function Rue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mue(t){if(Array.isArray(t))return Dw(t)}function Dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zp=1e-4,dM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},hM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},GO=function(e,n){return function(r){var i=dM(e,n);return hM(i,r)}},$ue=function(e,n){return function(r){var i=dM(e,n),a=[].concat(jue(i.map(function(o,s){return o*s}).slice(1)),[0]);return hM(a,r)}},KO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=Iue(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var d=GO(i,o),p=GO(a,s),m=$ue(i,o),g=function(b){return b>1?1:b<0?0:b},w=function(b){for(var y=b>1?1:b,E=y,N=0;N<8;++N){var A=d(E)-y,P=m(E);if(Math.abs(A-y)<zp||P<zp)return p(E);E=g(E-A/P)}return p(E)};return w.isStepper=!1,w},Lue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,d,p){var m=-(c-d)*r,g=p*a,w=p+(m-g)*s/1e3,x=p*s/1e3+c;return Math.abs(x-d)<zp&&Math.abs(w)<zp?[d,0]:[x,w]};return l.isStepper=!0,l.dt=s,l},Vue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KO(i);case"spring":return Lue();default:if(i.split("(")[0]==="cubic-bezier")return KO(i)}return typeof i=="function"?i:null};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function YO(t){return Bue(t)||Uue(t)||pM(t)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bue(t){if(Array.isArray(t))return Mw(t)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Rw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rw(t,e,n){return e=zue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zue(t){var e=Wue(t,"string");return nf(e)==="symbol"?e:String(e)}function Wue(t,e){if(nf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function que(t,e){return Kue(t)||Gue(t,e)||pM(t,e)||Hue()}function Hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pM(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Kue(t){if(Array.isArray(t))return t}var Wp=function(e,n,r){return e+(n-e)*r},$w=function(e){var n=e.from,r=e.to;return n!==r},Yue=function t(e,n,r){var i=ic(function(a,o){if($w(o)){var s=e(o.from,o.to,o.velocity),l=que(s,2),u=l[0],c=l[1];return Ht(Ht({},o),{},{from:u,velocity:c})}return o},n);return r<1?ic(function(a,o){return $w(o)?Ht(Ht({},o),{},{velocity:Wp(o.velocity,i[a].velocity,r),from:Wp(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Xue=function(t,e,n,r,i){var a=Aue(t,e),o=a.reduce(function(x,b){return Ht(Ht({},x),{},Rw({},b,[t[b],e[b]]))},{}),s=a.reduce(function(x,b){return Ht(Ht({},x),{},Rw({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,d=function(){return null},p=function(){return ic(function(b,y){return y.from},s)},m=function(){return!Object.values(s).filter($w).length},g=function(b){u||(u=b);var y=b-u,E=y/n.dt;s=Yue(n,s,E),i(Ht(Ht(Ht({},t),e),p())),u=b,m()||(l=requestAnimationFrame(d))},w=function(b){c||(c=b);var y=(b-c)/r,E=ic(function(A,P){return Wp.apply(void 0,YO(P).concat([n(y)]))},o);if(i(Ht(Ht(Ht({},t),e),E)),y<1)l=requestAnimationFrame(d);else{var N=ic(function(A,P){return Wp.apply(void 0,YO(P).concat([n(1)]))},o);i(Ht(Ht(Ht({},t),e),N))}};return d=n.isStepper?g:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}var Que=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Jue(t,e){if(t==null)return{};var n=Zue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fv(t){return rce(t)||nce(t)||tce(t)||ece()}function ece(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tce(t,e){if(t){if(typeof t=="string")return Lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lw(t,e)}}function nce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rce(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Mu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mu(t,e,n){return e=mM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ace(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mM(r.key),r)}}function oce(t,e,n){return e&&ace(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mM(t){var e=sce(t,"string");return ol(e)==="symbol"?e:String(e)}function sce(t,e){if(ol(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function uce(t){var e=cce();return function(){var r=qp(t),i;if(e){var a=qp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Fw(this,i)}}function Fw(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uw(t)}function Uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}var ki=function(t){lce(n,t);var e=uce(n);function n(r,i){var a;ice(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,d=o.steps,p=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Uw(a)),a.changeStyle=a.changeStyle.bind(Uw(a)),!s||m<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:c}),Fw(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof p=="function")return a.state={style:u},Fw(a);a.state={style:l?Mu({},l,u):u}}else a.state={style:{}};return a}return oce(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,d=a.from,p=this.state.style;if(s){if(!o){var m={style:l?Mu({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(m);return}if(!(gue(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=g||u?d:i.to;if(this.state&&p){var x={style:l?Mu({},l,w):w};(l&&p[l]!==w||!l&&p!==w)&&this.setState(x)}this.runAnimation(gr(gr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,m=Xue(o,s,Vue(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([p,c,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,d=u.duration,p=d===void 0?0:d,m=function(w,x,b){if(b===0)return w;var y=x.duration,E=x.easing,N=E===void 0?"ease":E,A=x.style,P=x.properties,S=x.onAnimationEnd,v=b>0?o[b-1]:x,T=P||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(fv(w),[a.runJSAnimation.bind(a,{from:v.style,to:A,duration:y,easing:N}),y]);var O=HO(T,y,N),k=gr(gr(gr({},v.style),A),{},{transition:O});return[].concat(fv(w),[k,y,S]).filter(Pue)};return this.manager.start([l].concat(fv(o.reduce(m,[c,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Eue());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var w=s?Mu({},s,l):l,x=HO(Object.keys(w),o,u);g.start([c,a,gr(gr({},w),{},{transition:x}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Jue(i,Que),u=L.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var d=function(m){var g=m.props,w=g.style,x=w===void 0?{}:w,b=g.className,y=L.cloneElement(m,gr(gr({},l),{},{style:gr(gr({},x),c),className:b}));return y};return u===1?d(L.Children.only(a)):U.createElement("div",null,L.Children.map(a,function(p){return d(p)}))}}]),n}(L.PureComponent);ki.displayName="Animate";ki.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ki.propTypes={from:We.oneOfType([We.object,We.string]),to:We.oneOfType([We.object,We.string]),attributeName:We.string,duration:We.number,begin:We.number,easing:We.oneOfType([We.string,We.func]),steps:We.arrayOf(We.shape({duration:We.number.isRequired,style:We.object.isRequired,easing:We.oneOfType([We.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),We.func]),properties:We.arrayOf("string"),onAnimationEnd:We.func})),children:We.oneOfType([We.node,We.func]),isActive:We.bool,canBegin:We.bool,onAnimationEnd:We.func,shouldReAnimate:We.bool,onAnimationStart:We.func,onAnimationReStart:We.func};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(this,arguments)}function fce(t,e){return mce(t)||pce(t,e)||hce(t,e)||dce()}function dce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(t,e){if(t){if(typeof t=="string")return JO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JO(t,e)}}function JO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mce(t){if(Array.isArray(t))return t}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return e=yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return rf(e)=="symbol"?e:e+""}function vce(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tI=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],p=0,m=4;p<m;p++)d[p]=a[p]>o?o:a[p];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},wce=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),d=Math.min(o,o+l),p=Math.max(o,o+l);return r>=u&&r<=c&&i>=d&&i<=p}return!1},bce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ex=function(e){var n=eI(eI({},bce),e),r=L.useRef(),i=L.useState(-1),a=fce(i,2),o=a[0],s=a[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&s(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,p=n.radius,m=n.className,g=n.animationEasing,w=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var E=Le("recharts-rectangle",m);return y?U.createElement(ki,{canBegin:o>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:g,isActive:y},function(N){var A=N.width,P=N.height,S=N.x,v=N.y;return U.createElement(ki,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:b,easing:g},U.createElement("path",Hp({},Re(n,!0),{className:E,d:tI(S,v,A,P,p),ref:r})))}):U.createElement("path",Hp({},Re(n,!0),{className:E,d:tI(l,u,c,d,p)}))};function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}var tx=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Le("recharts-dot",a);return n===+n&&r===+r&&i===+i?L.createElement("circle",Bw({},Re(e,!1),fp(e),{className:o,cx:n,cy:r,r:i})):null};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}var _ce=["x","y","top","left","width","height","className"];function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return e=Sce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=Tce(t,"string");return af(e)=="symbol"?e:e+""}function Tce(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ace(t,e){if(t==null)return{};var n=Pce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Oce=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Ice=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,p=e.height,m=p===void 0?0:p,g=e.className,w=Ace(e,_ce),x=xce({x:r,y:a,top:s,left:u,width:d,height:m},w);return!oe(r)||!oe(a)||!oe(d)||!oe(m)||!oe(s)||!oe(u)?null:U.createElement("path",zw({},Re(x,!0),{className:Le("recharts-cross",g),d:Oce(r,a,d,m,s,u)}))},Cce=CD,kce=Cce(Object.getPrototypeOf,Object),Nce=kce,jce=Ri,Dce=Nce,Rce=Mi,Mce="[object Object]",$ce=Function.prototype,Lce=Object.prototype,gM=$ce.toString,Vce=Lce.hasOwnProperty,Fce=gM.call(Object);function Uce(t){if(!Rce(t)||jce(t)!=Mce)return!1;var e=Dce(t);if(e===null)return!0;var n=Vce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&gM.call(n)==Fce}var Bce=Uce;const zce=et(Bce);var Wce=Ri,qce=Mi,Hce="[object Boolean]";function Gce(t){return t===!0||t===!1||qce(t)&&Wce(t)==Hce}var Kce=Gce;const Yce=et(Kce);function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gp.apply(this,arguments)}function Xce(t,e){return efe(t)||Zce(t,e)||Jce(t,e)||Qce()}function Qce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jce(t,e){if(t){if(typeof t=="string")return rI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rI(t,e)}}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function efe(t){if(Array.isArray(t))return t}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return of(e)=="symbol"?e:e+""}function rfe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oI=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},ife={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},afe=function(e){var n=aI(aI({},ife),e),r=L.useRef(),i=L.useState(-1),a=Xce(i,2),o=a[0],s=a[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,p=n.height,m=n.className,g=n.animationEasing,w=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||p!==+p||c===0&&d===0||p===0)return null;var y=Le("recharts-trapezoid",m);return b?U.createElement(ki,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:p,x:l,y:u},duration:w,animationEasing:g,isActive:b},function(E){var N=E.upperWidth,A=E.lowerWidth,P=E.height,S=E.x,v=E.y;return U.createElement(ki,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:g},U.createElement("path",Gp({},Re(n,!0),{className:y,d:oI(S,v,N,A,P),ref:r})))}):U.createElement("g",null,U.createElement("path",Gp({},Re(n,!0),{className:y,d:oI(l,u,c,d,p)})))},ofe=["option","shapeType","propTransformer","activeClassName","isActive"];function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function sfe(t,e){if(t==null)return{};var n=lfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return e=cfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ffe(t,"string");return sf(e)=="symbol"?e:e+""}function ffe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dfe(t,e){return Kp(Kp({},e),t)}function hfe(t,e){return t==="symbols"}function lI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(ex,n);case"trapezoid":return U.createElement(afe,n);case"sector":return U.createElement(aM,n);case"symbols":if(hfe(e))return U.createElement(v1,n);break;default:return null}}function pfe(t){return L.isValidElement(t)?t.props:t}function mfe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?dfe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=sfe(t,ofe),u;if(L.isValidElement(e))u=L.cloneElement(e,Kp(Kp({},l),pfe(e)));else if(Ie(e))u=e(l);else if(zce(e)&&!Yce(e)){var c=i(e,l);u=U.createElement(lI,{shapeType:n,elementProps:c})}else{var d=l;u=U.createElement(lI,{shapeType:n,elementProps:d})}return s?U.createElement(Et,{className:o},u):u}function kg(t,e){return e!=null&&"trapezoids"in t.props}function Ng(t,e){return e!=null&&"sectors"in t.props}function lf(t,e){return e!=null&&"points"in t.props}function gfe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function yfe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function vfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function wfe(t,e){var n;return kg(t,e)?n=gfe:Ng(t,e)?n=yfe:lf(t,e)&&(n=vfe),n}function bfe(t,e){var n;return kg(t,e)?n="trapezoids":Ng(t,e)?n="sectors":lf(t,e)&&(n="points"),n}function _fe(t,e){if(kg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ng(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return lf(t,e)?e.payload:{}}function xfe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=bfe(n,e),a=_fe(n,e),o=r.filter(function(l,u){var c=Og(a,l),d=n.props[i].filter(function(g){var w=wfe(n,e);return w(g,e)}),p=n.props[i].indexOf(d[d.length-1]),m=u===p;return c&&m}),s=r.indexOf(o[o.length-1]);return s}var Efe=Math.ceil,Sfe=Math.max;function Tfe(t,e,n,r){for(var i=-1,a=Sfe(Efe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Afe=Tfe,Pfe=YD,uI=1/0,Ofe=17976931348623157e292;function Ife(t){if(!t)return t===0?t:0;if(t=Pfe(t),t===uI||t===-uI){var e=t<0?-1:1;return e*Ofe}return t===t?t:0}var yM=Ife,Cfe=Afe,kfe=wg,dv=yM;function Nfe(t){return function(e,n,r){return r&&typeof r!="number"&&kfe(e,n,r)&&(n=r=void 0),e=dv(e),n===void 0?(n=e,e=0):n=dv(n),r=r===void 0?e<n?1:-1:dv(r),Cfe(e,n,r,t)}}var jfe=Nfe,Dfe=jfe,Rfe=Dfe(),Mfe=Rfe;const Yp=et(Mfe);function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){vM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vM(t,e,n){return e=$fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Lfe(t,"string");return uf(e)=="symbol"?e:e+""}function Lfe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vfe=["Webkit","Moz","O","ms"],Ffe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Vfe.reduce(function(a,o){return fI(fI({},a),{},vM({},o+r,n))},{});return i[e]=n,i};function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){$n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ufe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bM(r.key),r)}}function Bfe(t,e,n){return e&&hI(t.prototype,e),n&&hI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zfe(t,e,n){return e=Qp(e),Wfe(t,wM()?Reflect.construct(e,n||[],Qp(t).constructor):e.apply(t,n))}function Wfe(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qfe(t)}function qfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function Hfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function $n(t,e,n){return e=bM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bM(t){var e=Gfe(t,"string");return sl(e)=="symbol"?e:e+""}function Gfe(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=nc().domain(Yp(0,l)).range([a,a+o-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},pI=function(e){return e.changedTouches&&!!e.changedTouches.length},ll=function(t){function e(n){var r;return Ufe(this,e),r=zfe(this,e,[n]),$n(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),$n(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),$n(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),$n(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),$n(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),$n(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),$n(r,"handleSlideDragStart",function(i){var a=pI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Hfe(e,t),Bfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,a),p=Math.max(i,a),m=e.getIndexInRange(o,d),g=e.getIndexInRange(o,p);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=qn(a[r],s,r);return Ie(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,p=l.startIndex,m=l.endIndex,g=l.onChange,w=r.pageX-a;w>0?w=Math.min(w,u+c-d-s,u+c-d-o):w<0&&(w=Math.max(w,u-o,u-s));var x=this.getIndex({startX:o+w,endX:s+w});(x.startIndex!==p||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+w,endX:s+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=pI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,d=c.x,p=c.width,m=c.travellerWidth,g=c.onChange,w=c.gap,x=c.data,b={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,d+p-m-u):y<0&&(y=Math.max(y,d-u)),b[o]=u+y;var E=this.getIndex(b),N=E.startIndex,A=E.endIndex,P=function(){var v=x.length-1;return o==="startX"&&(s>l?N%w===0:A%w===0)||s<l&&A===v||o==="endX"&&(s>l?A%w===0:N%w===0)||s>l&&A===v};this.setState($n($n({},o,u+y),"brushMoveStartX",r.pageX),function(){g&&P()&&g(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var p=d+r;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState($n({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=L.Children.only(u);return d?U.cloneElement(d,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,p=l.traveller,m=l.ariaLabel,g=l.data,w=l.startIndex,x=l.endIndex,b=Math.max(r,this.props.x),y=hv(hv({},Re(this.props,!1)),{},{x:b,y:u,width:c,height:d}),E=m||"Min value: ".concat((a=g[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return U.createElement(Et,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,p=c.endX,m=5,g={pointerEvents:"none",fill:u};return U.createElement(Et,{className:"recharts-brush-texts"},U.createElement(Ap,Xp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-m,y:o+s/2},g),this.getTextOfTick(i)),U.createElement(Ap,Xp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,p=this.state,m=p.startX,g=p.endX,w=p.isTextActive,x=p.isSlideMoving,b=p.isTravellerMoving,y=p.isTravellerFocused;if(!i||!i.length||!oe(s)||!oe(l)||!oe(u)||!oe(c)||u<=0||c<=0)return null;var E=Le("recharts-brush",a),N=U.Children.count(o)===1,A=Ffe("userSelect","none");return U.createElement(Et,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(w||x||b||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return U.isValidElement(r)?a=U.cloneElement(r,i):Ie(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return hv({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Kfe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(L.PureComponent);$n(ll,"displayName","Brush");$n(ll,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Yfe=T1;function Xfe(t,e){var n;return Yfe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Qfe=Xfe,Jfe=xD,Zfe=Ma,ede=Qfe,tde=jn,nde=wg;function rde(t,e,n){var r=tde(t)?Jfe:ede;return n&&nde(t,e,n)&&(e=void 0),r(t,Zfe(e))}var ide=rde;const ade=et(ide);var Xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},mI=WD;function ode(t,e,n){e=="__proto__"&&mI?mI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var sde=ode,lde=sde,ude=BD,cde=Ma;function fde(t,e){var n={};return e=cde(e),ude(t,function(r,i,a){lde(n,i,e(r,i,a))}),n}var dde=fde;const hde=et(dde);function pde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var mde=pde,gde=T1;function yde(t,e){var n=!0;return gde(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var vde=yde,wde=mde,bde=vde,_de=Ma,xde=jn,Ede=wg;function Sde(t,e,n){var r=xde(t)?wde:bde;return n&&Ede(t,e,n)&&(e=void 0),r(t,_de(e))}var Tde=Sde;const _M=et(Tde);var Ade=["x","y"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pde(t,e,n){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Ide(t,"string");return cf(e)=="symbol"?e:e+""}function Ide(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cde(t,e){if(t==null)return{};var n=kde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nde(t,e){var n=t.x,r=t.y,i=Cde(t,Ade),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),p=parseInt(d,10);return Tu(Tu(Tu(Tu(Tu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:e.name,radius:e.radius})}function yI(t){return U.createElement(mfe,qw({shapeType:"rectangle",propTransformer:Nde,activeClassName:"recharts-active-bar"},t))}var jde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=oe(r)||Xq(r);return a?e(r,i):(a||ko(),n)}},Dde=["value","background"],xM;function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Rde(t,e){if(t==null)return{};var n=Mde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jp.apply(this,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){ra(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SM(r.key),r)}}function Lde(t,e,n){return e&&wI(t.prototype,e),n&&wI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vde(t,e,n){return e=Zp(e),Fde(t,EM()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function Fde(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(t)}function Ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EM=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function Bde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function ra(t,e,n){return e=SM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SM(t){var e=zde(t,"string");return ul(e)=="symbol"?e:e+""}function zde(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uo=function(t){function e(){var n;$de(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Vde(this,e,[].concat(i)),ra(n,"state",{isAnimationFinished:!1}),ra(n,"id",Rf("recharts-bar-")),ra(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ra(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Bde(e,t),Lde(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Re(this.props,!1);return r&&r.map(function(d,p){var m=p===l,g=m?u:o,w=Pt(Pt(Pt({},c),d),{},{isActive:m,option:g,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Et,Jp({className:"recharts-bar-rectangle"},dp(i.props,d,p),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(p)}),U.createElement(yI,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,p=this.state.prevData;return U.createElement(ki,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,w=a.map(function(x,b){var y=p&&p[b];if(y){var E=Er(y.x,x.x),N=Er(y.y,x.y),A=Er(y.width,x.width),P=Er(y.height,x.height);return Pt(Pt({},x),{},{x:E(g),y:N(g),width:A(g),height:P(g)})}if(o==="horizontal"){var S=Er(0,x.height),v=S(g);return Pt(Pt({},x),{},{y:x.y+x.height-v,height:v})}var T=Er(0,x.width),O=T(g);return Pt(Pt({},x),{},{width:O})});return U.createElement(Et,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Og(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Re(this.props.background,!1);return a.map(function(u,c){u.value;var d=u.background,p=Rde(u,Dde);if(!d)return null;var m=Pt(Pt(Pt(Pt(Pt({},p),{},{fill:"#eee"},d),l),dp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return U.createElement(yI,Jp({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=sr(c,Uf);if(!d)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:qn(x,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Et,g,d.map(function(w){return U.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,p=r.height,m=r.isAnimationActive,g=r.background,w=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=Le("recharts-bar",o),y=s&&s.allowDataOverflow,E=l&&l.allowDataOverflow,N=y||E,A=Ce(w)?this.id:w;return U.createElement(Et,{className:b},y||E?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(A)},U.createElement("rect",{x:y?u:u-d/2,y:E?c:c-p/2,width:y?d:d*2,height:E?p:p*2}))):null,U.createElement(Et,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!m||x)&&va.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(L.PureComponent);xM=Uo;ra(Uo,"displayName","Bar");ra(Uo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ra(Uo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,p=t.offset,m=wse(r,n);if(!m)return null;var g=e.layout,w=n.type.defaultProps,x=w!==void 0?Pt(Pt({},w),n.props):n.props,b=x.dataKey,y=x.children,E=x.minPointSize,N=g==="horizontal"?o:a,A=u?N.scale.domain():null,P=Pse({numericAxis:N}),S=sr(y,O1),v=d.map(function(T,O){var k,j,C,$,F,W;u?k=bse(u[c+O],A):(k=qn(T,b),Array.isArray(k)||(k=[P,k]));var R=jde(E,xM.defaultProps.minPointSize)(k[1],O);if(g==="horizontal"){var B,M=[o.scale(k[0]),o.scale(k[1])],X=M[0],H=M[1];j=vO({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:T,index:O}),C=(B=H??X)!==null&&B!==void 0?B:void 0,$=m.size;var V=X-H;if(F=Number.isNaN(V)?0:V,W={x:j,y:o.y,width:$,height:o.height},Math.abs(R)>0&&Math.abs(F)<Math.abs(R)){var G=Ar(F||R)*(Math.abs(R)-Math.abs(F));C-=G,F+=G}}else{var me=[a.scale(k[0]),a.scale(k[1])],ye=me[0],Ve=me[1];if(j=ye,C=vO({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:T,index:O}),$=Ve-ye,F=m.size,W={x:a.x,y:C,width:a.width,height:F},Math.abs(R)>0&&Math.abs($)<Math.abs(R)){var Be=Ar($||R)*(Math.abs(R)-Math.abs($));$+=Be}}return Pt(Pt(Pt({},T),{},{x:j,y:C,width:$,height:F,value:u?k:k[1],payload:T,background:W},S&&S[O]&&S[O].props),{},{tooltipPayload:[nM(n,T)],tooltipPosition:{x:j+$/2,y:C+F/2}})});return Pt({data:v,layout:g},p)});function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function Wde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TM(r.key),r)}}function qde(t,e,n){return e&&bI(t.prototype,e),n&&bI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jg(t,e,n){return e=TM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TM(t){var e=Hde(t,"string");return ff(e)=="symbol"?e:e+""}function Hde(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AM=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!Vn(u,Uo);return c.reduce(function(m,g){var w=n[g],x=w.orientation,b=w.domain,y=w.padding,E=y===void 0?{}:y,N=w.mirror,A=w.reversed,P="".concat(x).concat(N?"Mirror":""),S,v,T,O,k;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var j=b[1]-b[0],C=1/0,$=w.categoricalDomain.sort(Zq);if($.forEach(function(me,ye){ye>0&&(C=Math.min((me||0)-($[ye-1]||0),C))}),Number.isFinite(C)){var F=C/j,W=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=F*W/2),w.padding==="no-gap"){var R=Io(e.barCategoryGap,F*W),B=F*W/2;S=B-R-(B-R)/W*R}}}i==="xAxis"?v=[r.left+(E.left||0)+(S||0),r.left+r.width-(E.right||0)-(S||0)]:i==="yAxis"?v=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(S||0),r.top+r.height-(E.bottom||0)-(S||0)]:v=w.range,A&&(v=[v[1],v[0]]);var M=yse(w,a,p),X=M.scale,H=M.realScaleType;X.domain(b).range(v),vse(X);var V=Ase(X,br(br({},w),{},{realScaleType:H}));i==="xAxis"?(k=x==="top"&&!N||x==="bottom"&&N,T=r.left,O=d[P]-k*w.height):i==="yAxis"&&(k=x==="left"&&!N||x==="right"&&N,T=d[P]-k*w.width,O=r.top);var G=br(br(br({},w),V),{},{realScaleType:H,x:T,y:O,scale:X,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return G.bandSize=Fp(G,V),!w.hide&&i==="xAxis"?d[P]+=(k?-1:1)*G.height:w.hide||(d[P]+=(k?-1:1)*G.width),br(br({},m),{},jg({},g,G))},{})},PM=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Gde=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return PM({x:n,y:r},{x:i,y:a})},OM=function(){function t(e){Wde(this,t),this.scale=e}return qde(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();jg(OM,"EPS",1e-4);var nx=function(e){var n=Object.keys(e).reduce(function(r,i){return br(br({},r),{},jg({},i,OM.create(e[i])))},{});return br(br({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return hde(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return _M(i,function(a,o){return n[o].isInRange(a)})}})};function Kde(t){return(t%180+180)%180}var Yde=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Kde(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Xde=Ma,Qde=Mf,Jde=yg;function Zde(t){return function(e,n,r){var i=Object(e);if(!Qde(e)){var a=Xde(n);e=Jde(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var ehe=Zde,the=yM;function nhe(t){var e=the(t),n=e%1;return e===e?n?e-n:e:0}var rhe=nhe,ihe=MD,ahe=Ma,ohe=rhe,she=Math.max;function lhe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:ohe(n);return i<0&&(i=she(r+i,0)),ihe(t,ahe(e),i)}var uhe=lhe,che=ehe,fhe=uhe,dhe=che(fhe),hhe=dhe;const phe=et(hhe);var mhe=nq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),rx=L.createContext(void 0),ix=L.createContext(void 0),IM=L.createContext(void 0),CM=L.createContext({}),kM=L.createContext(void 0),NM=L.createContext(0),jM=L.createContext(0),xI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=mhe(a);return U.createElement(rx.Provider,{value:r},U.createElement(ix.Provider,{value:i},U.createElement(CM.Provider,{value:a},U.createElement(IM.Provider,{value:c},U.createElement(kM.Provider,{value:o},U.createElement(NM.Provider,{value:u},U.createElement(jM.Provider,{value:l},s)))))))},ghe=function(){return L.useContext(kM)},DM=function(e){var n=L.useContext(rx);n==null&&ko();var r=n[e];return r==null&&ko(),r},yhe=function(){var e=L.useContext(rx);return Zi(e)},vhe=function(){var e=L.useContext(ix),n=phe(e,function(r){return _M(r.domain,Number.isFinite)});return n||Zi(e)},RM=function(e){var n=L.useContext(ix);n==null&&ko();var r=n[e];return r==null&&ko(),r},whe=function(){var e=L.useContext(IM);return e},bhe=function(){return L.useContext(CM)},ax=function(){return L.useContext(jM)},ox=function(){return L.useContext(NM)};function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function _he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$M(r.key),r)}}function Ehe(t,e,n){return e&&xhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function She(t,e,n){return e=em(e),The(t,MM()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function The(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ahe(t)}function Ahe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MM=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function Phe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){sx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sx(t,e,n){return e=$M(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $M(t){var e=Ohe(t,"string");return cl(e)=="symbol"?e:e+""}function Ohe(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ihe(t,e){return jhe(t)||Nhe(t,e)||khe(t,e)||Che()}function Che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(t,e){if(t){if(typeof t=="string")return TI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(t,e)}}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jhe(t){if(Array.isArray(t))return t}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}var Dhe=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):Ie(e)?r=e(n):r=U.createElement("line",Kw({},n,{className:"recharts-reference-line-line"})),r},Rhe=function(e,n,r,i,a,o,s,l,u){var c=a.x,d=a.y,p=a.width,m=a.height;if(r){var g=u.y,w=e.y.apply(g,{position:o});if(Xr(u,"discard")&&!e.y.isInRange(w))return null;var x=[{x:c+p,y:w},{x:c,y:w}];return l==="left"?x.reverse():x}if(n){var b=u.x,y=e.x.apply(b,{position:o});if(Xr(u,"discard")&&!e.x.isInRange(y))return null;var E=[{x:y,y:d+m},{x:y,y:d}];return s==="top"?E.reverse():E}if(i){var N=u.segment,A=N.map(function(P){return e.apply(P,{position:o})});return Xr(u,"discard")&&ade(A,function(P){return!e.isInRange(P)})?null:A}return null};function Mhe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=ghe(),c=DM(i),d=RM(a),p=whe();if(!u||!p)return null;vi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=nx({x:c.scale,y:d.scale}),g=$t(e),w=$t(n),x=r&&r.length===2,b=Rhe(m,g,w,x,p,t.position,c.orientation,d.orientation,t);if(!b)return null;var y=Ihe(b,2),E=y[0],N=E.x,A=E.y,P=y[1],S=P.x,v=P.y,T=Xr(t,"hidden")?"url(#".concat(u,")"):void 0,O=SI(SI({clipPath:T},Re(t,!0)),{},{x1:N,y1:A,x2:S,y2:v});return U.createElement(Et,{className:Le("recharts-reference-line",s)},Dhe(o,O),fn.renderCallByParent(t,Gde({x1:N,y1:A,x2:S,y2:v})))}var lx=function(t){function e(){return _he(this,e),She(this,e,arguments)}return Phe(e,t),Ehe(e,[{key:"render",value:function(){return U.createElement(Mhe,this.props)}}])}(U.Component);sx(lx,"displayName","ReferenceLine");sx(lx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VM(r.key),r)}}function Vhe(t,e,n){return e&&Lhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fhe(t,e,n){return e=tm(e),Uhe(t,LM()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function Uhe(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bhe(t)}function Bhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LM=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function Dg(t,e,n){return e=VM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VM(t){var e=Whe(t,"string");return fl(e)=="symbol"?e:e+""}function Whe(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qhe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=nx({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Xr(e,"discard")&&!o.isInRange(s)?null:s},Rg=function(t){function e(){return $he(this,e),Fhe(this,e,arguments)}return zhe(e,t),Vhe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=$t(i),c=$t(a);if(vi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=qhe(this.props);if(!d)return null;var p=d.x,m=d.y,g=this.props,w=g.shape,x=g.className,b=Xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=PI(PI({clipPath:b},Re(this.props,!0)),{},{cx:p,cy:m});return U.createElement(Et,{className:Le("recharts-reference-dot",x)},e.renderDot(w,y),fn.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])}(U.Component);Dg(Rg,"displayName","ReferenceDot");Dg(Rg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dg(Rg,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):Ie(t)?n=t(e):n=U.createElement(tx,Yw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ghe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UM(r.key),r)}}function Khe(t,e,n){return e&&Ghe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yhe(t,e,n){return e=nm(e),Xhe(t,FM()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function Xhe(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qhe(t)}function Qhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Jhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function Mg(t,e,n){return e=UM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UM(t){var e=Zhe(t,"string");return dl(e)=="symbol"?e:e+""}function Zhe(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var epe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var p=nx({x:c.scale,y:d.scale}),m={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},g={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Xr(a,"discard")&&(!p.isInRange(m)||!p.isInRange(g))?null:PM(m,g)},$g=function(t){function e(){return Hhe(this,e),Yhe(this,e,arguments)}return Jhe(e,t),Khe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;vi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=$t(i),p=$t(a),m=$t(o),g=$t(s),w=this.props.shape;if(!d&&!p&&!m&&!g&&!w)return null;var x=epe(d,p,m,g,this.props);if(!x&&!w)return null;var b=Xr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return U.createElement(Et,{className:Le("recharts-reference-area",l)},e.renderRect(w,II(II({clipPath:b},Re(this.props,!0)),x)),fn.renderCallByParent(this.props,x))}}])}(U.Component);Mg($g,"displayName","ReferenceArea");Mg($g,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mg($g,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):Ie(t)?n=t(e):n=U.createElement(ex,Qw({},e,{className:"recharts-reference-area-rect"})),n});function BM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Yde(r,n)}function npe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function rm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function rpe(t,e){return BM(t,e+1)}function ipe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:BM(r,u)};var w=l,x,b=function(){return x===void 0&&(x=n(g,w)),x},y=g.coordinate,E=l===0||rm(t,y,b,c,s);E||(l=0,c=o,u+=1),E&&(c=y+t*(b()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){ape(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ape(t,e,n){return e=ope(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=spe(t,"string");return df(e)=="symbol"?e:e+""}function spe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var m=a[p],g,w=function(){return g===void 0&&(g=n(m,p)),g};if(p===o-1){var x=t*(m.coordinate+t*w()/2-l);a[p]=m=sn(sn({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else a[p]=m=sn(sn({},m),{},{tickCoord:m.coordinate});var b=rm(t,m.tickCoord,w,s,l);b&&(l=m.tickCoord-t*(w()/2+i),a[p]=sn(sn({},m),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function upe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],d=n(c,s-1),p=t*(c.coordinate+t*d/2-u);o[s-1]=c=sn(sn({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate});var m=rm(t,c.tickCoord,function(){return d},l,u);m&&(u=c.tickCoord-t*(d/2+i),o[s-1]=sn(sn({},c),{},{isShow:!0}))}for(var g=a?s-1:s,w=function(y){var E=o[y],N,A=function(){return N===void 0&&(N=n(E,y)),N};if(y===0){var P=t*(E.coordinate-t*A()/2-l);o[y]=E=sn(sn({},E),{},{tickCoord:P<0?E.coordinate-P*t:E.coordinate})}else o[y]=E=sn(sn({},E),{},{tickCoord:E.coordinate});var S=rm(t,E.tickCoord,A,l,u);S&&(l=E.tickCoord+t*(A()/2+i),o[y]=sn(sn({},E),{},{isShow:!0}))},x=0;x<g;x++)w(x);return o}function ux(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(oe(l)||Fl.isSsr)return rpe(i,typeof l=="number"&&oe(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?tc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(E,N){var A=Ie(u)?u(E.value,N):E.value;return m==="width"?tpe(tc(A,{fontSize:e,letterSpacing:n}),g,d):tc(A,{fontSize:e,letterSpacing:n})[m]},x=i.length>=2?Ar(i[1].coordinate-i[0].coordinate):1,b=npe(a,x,m);return l==="equidistantPreserveStart"?ipe(x,b,w,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=upe(x,b,w,i,o,l==="preserveStartEnd"):p=lpe(x,b,w,i,o),p.filter(function(y){return y.isShow}))}var cpe=["viewBox"],fpe=["viewBox"],dpe=["ticks"];function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pv(t,e){if(t==null)return{};var n=hpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WM(r.key),r)}}function mpe(t,e,n){return e&&NI(t.prototype,e),n&&NI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=im(e),ype(t,zM()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zM=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zw(t,e)}function cx(t,e,n){return e=WM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WM(t){var e=bpe(t,"string");return hl(e)=="symbol"?e:e+""}function bpe(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wl=function(t){function e(n){var r;return ppe(this,e),r=gpe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return wpe(e,t),mpe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=pv(r,cpe),s=this.props,l=s.viewBox,u=pv(s,fpe);return!Is(a,l)||!Is(o,u)||!Is(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,p=i.tickMargin,m,g,w,x,b,y,E=d?-1:1,N=r.tickSize||c,A=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,x=o+ +!d*l,w=x-E*N,y=w-E*p,b=A;break;case"left":w=x=r.coordinate,g=a+ +!d*s,m=g-E*N,b=m-E*p,y=A;break;case"right":w=x=r.coordinate,g=a+ +d*s,m=g+E*N,b=m+E*p,y=A;break;default:m=g=r.coordinate,x=o+ +d*l,w=x+E*N,y=w+E*p,b=A;break}return{line:{x1:m,y1:w,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=jt(jt(jt({},Re(this.props,!1)),Re(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);d=jt(jt({},d),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=jt(jt({},d),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return U.createElement("line",ys({},d,{className:Le("recharts-cartesian-axis-line",or(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,p=s.unit,m=ux(jt(jt({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Re(this.props,!1),b=Re(c,!1),y=jt(jt({},x),{},{fill:"none"},Re(l,!1)),E=m.map(function(N,A){var P=o.getTickLineCoord(N),S=P.line,v=P.tick,T=jt(jt(jt(jt({textAnchor:g,verticalAnchor:w},x),{},{stroke:"none",fill:u},b),v),{},{index:A,payload:N,visibleTicksCount:m.length,tickFormatter:d});return U.createElement(Et,ys({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},dp(o.props,N,A)),l&&U.createElement("line",ys({},y,S,{className:Le("recharts-cartesian-axis-tick-line",or(l,"className"))})),c&&e.renderTickItem(c,T,"".concat(Ie(d)?d(N.value,A):N.value).concat(p||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,p=d.ticks,m=pv(d,dpe),g=p;return Ie(l)&&(g=p&&p.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:U.createElement(Et,{className:Le("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Le(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?o=U.cloneElement(r,jt(jt({},i),{},{className:s})):Ie(r)?o=r(jt(jt({},i),{},{className:s})):o=U.createElement(Ap,ys({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(L.Component);cx(Wl,"displayName","CartesianAxis");cx(Wl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _pe=["x1","y1","x2","y2","key"],xpe=["offset"];function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){Epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Epe(t,e,n){return e=Spe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=Tpe(t,"string");return No(e)=="symbol"?e:e+""}function Tpe(t,e){if(No(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(No(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(this,arguments)}function DI(t,e){if(t==null)return{};var n=Ape(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ape(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ppe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return U.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qM(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(Ie(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=DI(e,_pe),u=Re(l,!1);u.offset;var c=DI(u,xpe);n=U.createElement("line",ao({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Ope(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=dn(dn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return qM(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ipe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=dn(dn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return qM(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Cpe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==c[0]&&c.unshift(0);var d=c.map(function(p,m){var g=!c[m+1],w=g?i+o-p:c[m+1]-p;if(w<=0)return null;var x=m%e.length;return U.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:w,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function kpe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==c[0]&&c.unshift(0);var d=c.map(function(p,m){var g=!c[m+1],w=g?a+s-p:c[m+1]-p;if(w<=0)return null;var x=m%r.length;return U.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:w,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Npe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return eM(ux(dn(dn(dn({},Wl.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},jpe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return eM(ux(dn(dn(dn({},Wl.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Qo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eb(t){var e,n,r,i,a,o,s=ax(),l=ox(),u=bhe(),c=dn(dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Qo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Qo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Qo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Qo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Qo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Qo.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),d=c.x,p=c.y,m=c.width,g=c.height,w=c.syncWithTicks,x=c.horizontalValues,b=c.verticalValues,y=yhe(),E=vhe();if(!oe(m)||m<=0||!oe(g)||g<=0||!oe(d)||d!==+d||!oe(p)||p!==+p)return null;var N=c.verticalCoordinatesGenerator||Npe,A=c.horizontalCoordinatesGenerator||jpe,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&Ie(A)){var v=x&&x.length,T=A({yAxis:E?dn(dn({},E),{},{ticks:v?x:E.ticks}):void 0,width:s,height:l,offset:u},v?!0:w);vi(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(No(T),"]")),Array.isArray(T)&&(P=T)}if((!S||!S.length)&&Ie(N)){var O=b&&b.length,k=N({xAxis:y?dn(dn({},y),{},{ticks:O?b:y.ticks}):void 0,width:s,height:l,offset:u},O?!0:w);vi(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(No(k),"]")),Array.isArray(k)&&(S=k)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(Ppe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),U.createElement(Ope,ao({},c,{offset:u,horizontalPoints:P,xAxis:y,yAxis:E})),U.createElement(Ipe,ao({},c,{offset:u,verticalPoints:S,xAxis:y,yAxis:E})),U.createElement(Cpe,ao({},c,{horizontalPoints:P})),U.createElement(kpe,ao({},c,{verticalPoints:S})))}eb.displayName="CartesianGrid";var Dpe=["type","layout","connectNulls","ref"],Rpe=["key"];function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function RI(t,e){if(t==null)return{};var n=Mpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jo(t){return Fpe(t)||Vpe(t)||Lpe(t)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lpe(t,e){if(t){if(typeof t=="string")return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(t,e)}}function Vpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fpe(t){if(Array.isArray(t))return tb(t)}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GM(r.key),r)}}function Bpe(t,e,n){return e&&$I(t.prototype,e),n&&$I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zpe(t,e,n){return e=am(e),Wpe(t,HM()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function Wpe(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qpe(t)}function qpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HM=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function Hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function _r(t,e,n){return e=GM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GM(t){var e=Gpe(t,"string");return pl(e)=="symbol"?e:e+""}function Gpe(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var po=function(t){function e(){var n;Upe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zpe(this,e,[].concat(i)),_r(n,"state",{isAnimationFinished:!0,totalLength:0}),_r(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),_r(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(b,y){return b+y});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),d=o%u,p=s-o,m=[],g=0,w=0;g<l.length;w+=l[g],++g)if(w+l[g]>d){m=[].concat(Jo(l.slice(0,g)),[d-w]);break}var x=m.length%2===0?[0,p]:[p];return[].concat(Jo(e.repeat(l,c)),Jo(m),x).map(function(b){return"".concat(b,"px")}).join(", ")}),_r(n,"id",Rf("recharts-line-")),_r(n,"pathRef",function(o){n.mainCurve=o}),_r(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_r(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Hpe(e,t),Bpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=sr(c,Uf);if(!d)return null;var p=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:qn(w.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Et,m,d.map(function(g){return U.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=Re(this.props,!1),p=Re(l,!0),m=u.map(function(w,x){var b=Mn(Mn(Mn({key:"dot-".concat(x),r:3},d),p),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:c,payload:w.payload,points:u});return e.renderDotItem(l,b)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Et,ac({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=RI(s,Dpe),p=Mn(Mn(Mn({},Re(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return U.createElement(Nw,ac({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,d=o.animationDuration,p=o.animationEasing,m=o.animationId,g=o.animateNewValues,w=o.width,x=o.height,b=this.state,y=b.prevPoints,E=b.totalLength;return U.createElement(ki,{begin:c,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t;if(y){var P=y.length/s.length,S=s.map(function(j,C){var $=Math.floor(C*P);if(y[$]){var F=y[$],W=Er(F.x,j.x),R=Er(F.y,j.y);return Mn(Mn({},j),{},{x:W(A),y:R(A)})}if(g){var B=Er(w*2,j.x),M=Er(x/2,j.y);return Mn(Mn({},j),{},{x:B(A),y:M(A)})}return Mn(Mn({},j),{},{x:j.x,y:j.y})});return a.renderCurveStatically(S,r,i)}var v=Er(0,E),T=v(A),O;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});O=a.getStrokeDasharray(T,E,k)}else O=a.generateSimpleStrokeDasharray(E,T);return a.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!Og(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,p=i.left,m=i.width,g=i.height,w=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,y=s.length===1,E=Le("recharts-line",l),N=u&&u.allowDataOverflow,A=c&&c.allowDataOverflow,P=N||A,S=Ce(x)?this.id:x,v=(r=Re(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=v.r,O=T===void 0?3:T,k=v.strokeWidth,j=k===void 0?2:k,C=lH(o)?o:{},$=C.clipDot,F=$===void 0?!0:$,W=O*2+j;return U.createElement(Et,{className:E},N||A?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(S)},U.createElement("rect",{x:N?p:p-m/2,y:A?d:d-g/2,width:N?m:m*2,height:A?g:g*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(S)},U.createElement("rect",{x:p-W/2,y:d-W/2,width:m+W,height:g+W}))):null,!y&&this.renderCurve(P,S),this.renderErrorBar(P,S),(y||o)&&this.renderDots(P,F,S),(!w||b)&&va.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Jo(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Jo(o),Jo(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(U.isValidElement(r))a=U.cloneElement(r,i);else if(Ie(r))a=r(i);else{var o=i.key,s=RI(i,Rpe),l=Le("recharts-line-dot",typeof r!="boolean"?r.className:"");a=U.createElement(tx,ac({key:o},s,{className:l}))}return a}}])}(L.PureComponent);_r(po,"displayName","Line");_r(po,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_r(po,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(p,m){var g=qn(p,o);return c==="horizontal"?{x:yO({axis:n,ticks:i,bandSize:s,entry:p,index:m}),y:Ce(g)?null:r.scale(g),value:g,payload:p}:{x:Ce(g)?null:n.scale(g),y:yO({axis:r,ticks:a,bandSize:s,entry:p,index:m}),value:g,payload:p}});return Mn({points:d,layout:c},u)});function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function Kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ype(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XM(r.key),r)}}function Xpe(t,e,n){return e&&Ype(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qpe(t,e,n){return e=om(e),Jpe(t,KM()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function Jpe(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zpe(t)}function Zpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KM=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function YM(t,e,n){return e=XM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XM(t){var e=tme(t,"string");return ml(e)=="symbol"?e:e+""}function tme(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function nme(t){var e=t.xAxisId,n=ax(),r=ox(),i=DM(e);return i==null?null:L.createElement(Wl,ib({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return hi(o,!0)}}))}var gl=function(t){function e(){return Kpe(this,e),Qpe(this,e,arguments)}return eme(e,t),Xpe(e,[{key:"render",value:function(){return L.createElement(nme,this.props)}}])}(L.Component);YM(gl,"displayName","XAxis");YM(gl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function rme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ime(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZM(r.key),r)}}function ame(t,e,n){return e&&ime(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ome(t,e,n){return e=sm(e),sme(t,QM()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function sme(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lme(t)}function lme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QM=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function JM(t,e,n){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZM(t){var e=cme(t,"string");return yl(e)=="symbol"?e:e+""}function cme(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(this,arguments)}var fme=function(e){var n=e.yAxisId,r=ax(),i=ox(),a=RM(n);return a==null?null:L.createElement(Wl,ob({},a,{className:Le("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return hi(s,!0)}}))},vl=function(t){function e(){return rme(this,e),ome(this,e,arguments)}return ume(e,t),ame(e,[{key:"render",value:function(){return L.createElement(fme,this.props)}}])}(L.Component);JM(vl,"displayName","YAxis");JM(vl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LI(t){return mme(t)||pme(t)||hme(t)||dme()}function dme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function pme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mme(t){if(Array.isArray(t))return sb(t)}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lb=function(e,n,r,i,a){var o=sr(e,lx),s=sr(e,Rg),l=[].concat(LI(o),LI(s)),u=sr(e,$g),c="".concat(i,"Id"),d=i[0],p=n;if(l.length&&(p=l.reduce(function(w,x){if(x.props[c]===r&&Xr(x.props,"extendDomain")&&oe(x.props[d])){var b=x.props[d];return[Math.min(w[0],b),Math.max(w[1],b)]}return w},p)),u.length){var m="".concat(d,"1"),g="".concat(d,"2");p=u.reduce(function(w,x){if(x.props[c]===r&&Xr(x.props,"extendDomain")&&oe(x.props[m])&&oe(x.props[g])){var b=x.props[m],y=x.props[g];return[Math.min(w[0],b,y),Math.max(w[1],b,y)]}return w},p)}return a&&a.length&&(p=a.reduce(function(w,x){return oe(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},p)),p},e$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,p,m,g){var w=n?n+u:u;if(!this._events[w])return!1;var x=this._events[w],b=arguments.length,y,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,p),!0;case 5:return x.fn.call(x.context,c,d,p,m),!0;case 6:return x.fn.call(x.context,c,d,p,m,g),!0}for(E=1,y=new Array(b-1);E<b;E++)y[E-1]=arguments[E];x.fn.apply(x.context,y)}else{var N=x.length,A;for(E=0;E<N;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),b){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,c);break;case 3:x[E].fn.call(x[E].context,c,d);break;case 4:x[E].fn.call(x[E].context,c,d,p);break;default:if(!y)for(A=1,y=new Array(b-1);A<b;A++)y[A-1]=arguments[A];x[E].fn.apply(x[E].context,y)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,p){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var w=0,x=[],b=g.length;w<b;w++)(g[w].fn!==c||p&&!g[w].once||d&&g[w].context!==d)&&x.push(g[w]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(e$);var gme=e$.exports;const yme=et(gme);var mv=new yme,gv="recharts.syncMouseEvents";function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function bme(t,e,n){return e&&wme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yv(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=_me(t,"string");return hf(e)=="symbol"?e:e+""}function _me(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xme=function(){function t(){vme(this,t),yv(this,"activeIndex",0),yv(this,"coordinateList",[]),yv(this,"layout","horizontal")}return bme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,p=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])}();function Eme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function Sme(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function n$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Xt(e,n,r,i),s=Xt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Tme(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,p=Xt(s,l,u,d),m=Xt(s,l,c,d);r=p.x,i=p.y,a=m.x,o=m.y}else return n$(e);return[{x:r,y:i},{x:a,y:o}]}function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){Ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e,n){return e=Pme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Ome(t,"string");return pf(e)=="symbol"?e:e+""}function Ome(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ime(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,p=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var g,w=Nw;if(p==="ScatterChart")g=o,w=Ice;else if(p==="BarChart")g=Sme(d,o,l,c),w=ex;else if(d==="radial"){var x=n$(o),b=x.cx,y=x.cy,E=x.radius,N=x.startAngle,A=x.endAngle;g={cx:b,cy:y,startAngle:N,endAngle:A,innerRadius:E,outerRadius:E},w=aM}else g={points:Tme(d,o,l)},w=Nw;var P=zd(zd(zd(zd({stroke:"#ccc",pointerEvents:"none"},l),g),Re(m,!1)),{},{payload:s,payloadIndex:u,className:Le("recharts-tooltip-cursor",m.className)});return L.isValidElement(m)?L.cloneElement(m,P):L.createElement(w,P)}var Cme=["item"],kme=["children","className","width","height","style","compact","title","desc"];function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function FI(t,e){return Dme(t)||jme(t,e)||i$(t,e)||Nme()}function Nme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Dme(t){if(Array.isArray(t))return t}function UI(t,e){if(t==null)return{};var n=Rme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a$(r.key),r)}}function Lme(t,e,n){return e&&$me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vme(t,e,n){return e=lm(e),Fme(t,r$()?Reflect.construct(e,n||[],lm(t).constructor):e.apply(t,n))}function Fme(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ume(t)}function Ume(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}function Bme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function bl(t){return qme(t)||Wme(t)||i$(t)||zme()}function zme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$(t,e){if(t){if(typeof t=="string")return cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(t,e)}}function Wme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qme(t){if(Array.isArray(t))return cb(t)}function cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=Hme(t,"string");return wl(e)=="symbol"?e:e+""}function Hme(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gme={xAxis:["bottom","top"],yAxis:["left","right"]},Kme={width:"100%",height:"100%"},o$={x:0,y:0};function Wd(t){return t}var Yme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Xme=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Y(Y(Y({},i),Xt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Y(Y(Y({},i),Xt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return o$},Lg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(bl(s),bl(u)):s},[]);return o.length>0?o:e&&e.length&&oe(i)&&oe(a)?e.slice(i,a+1):[]};function s$(t){return t==="number"?[0,"auto"]:void 0}var fb=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Lg(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?s:d;p=cp(m,o.dataKey,i)}else p=d&&d[r]||s[r];return p?[].concat(bl(l),[nM(u,p)]):l},[])},zI=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Yme(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=fse(o,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,p=fb(e,n,c,d),m=Xme(r,s,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:p,activeCoordinate:m}}return null},Qme=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,p=e.stackOffset,m=ZR(c,a);return r.reduce(function(g,w){var x,b=w.type.defaultProps!==void 0?Y(Y({},w.type.defaultProps),w.props):w.props,y=b.type,E=b.dataKey,N=b.allowDataOverflow,A=b.allowDuplicatedCategory,P=b.scale,S=b.ticks,v=b.includeHidden,T=b[o];if(g[T])return g;var O=Lg(e.data,{graphicalItems:i.filter(function(V){var G,me=o in V.props?V.props[o]:(G=V.type.defaultProps)===null||G===void 0?void 0:G[o];return me===T}),dataStartIndex:l,dataEndIndex:u}),k=O.length,j,C,$;Eme(b.domain,N,y)&&(j=Pw(b.domain,null,N),m&&(y==="number"||P!=="auto")&&($=rc(O,E,"category")));var F=s$(y);if(!j||j.length===0){var W,R=(W=b.domain)!==null&&W!==void 0?W:F;if(E){if(j=rc(O,E,y),y==="category"&&m){var B=Jq(j);A&&B?(C=j,j=Yp(0,k)):A||(j=_O(R,j,w).reduce(function(V,G){return V.indexOf(G)>=0?V:[].concat(bl(V),[G])},[]))}else if(y==="category")A?j=j.filter(function(V){return V!==""&&!Ce(V)}):j=_O(R,j,w).reduce(function(V,G){return V.indexOf(G)>=0||G===""||Ce(G)?V:[].concat(bl(V),[G])},[]);else if(y==="number"){var M=gse(O,i.filter(function(V){var G,me,ye=o in V.props?V.props[o]:(G=V.type.defaultProps)===null||G===void 0?void 0:G[o],Ve="hide"in V.props?V.props.hide:(me=V.type.defaultProps)===null||me===void 0?void 0:me.hide;return ye===T&&(v||!Ve)}),E,a,c);M&&(j=M)}m&&(y==="number"||P!=="auto")&&($=rc(O,E,"category"))}else m?j=Yp(0,k):s&&s[T]&&s[T].hasStack&&y==="number"?j=p==="expand"?[0,1]:tM(s[T].stackGroups,l,u):j=JR(O,i.filter(function(V){var G=o in V.props?V.props[o]:V.type.defaultProps[o],me="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return G===T&&(v||!me)}),y,c,!0);if(y==="number")j=lb(d,j,T,a,S),R&&(j=Pw(R,j,N));else if(y==="category"&&R){var X=R,H=j.every(function(V){return X.indexOf(V)>=0});H&&(j=X)}}return Y(Y({},g),{},we({},T,Y(Y({},b),{},{axisType:a,domain:j,categoricalDomain:$,duplicateDomain:C,originalDomain:(x=b.domain)!==null&&x!==void 0?x:F,isCategorical:m,layout:c})))},{})},Jme=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,p=Lg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=p.length,g=ZR(c,a),w=-1;return r.reduce(function(x,b){var y=b.type.defaultProps!==void 0?Y(Y({},b.type.defaultProps),b.props):b.props,E=y[o],N=s$("number");if(!x[E]){w++;var A;return g?A=Yp(0,m):s&&s[E]&&s[E].hasStack?(A=tM(s[E].stackGroups,l,u),A=lb(d,A,E,a)):(A=Pw(N,JR(p,r.filter(function(P){var S,v,T=o in P.props?P.props[o]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[o],O="hide"in P.props?P.props.hide:(v=P.type.defaultProps)===null||v===void 0?void 0:v.hide;return T===E&&!O}),"number",c),i.defaultProps.allowDataOverflow),A=lb(d,A,E,a)),Y(Y({},x),{},we({},E,Y(Y({axisType:a},i.defaultProps),{},{hide:!0,orientation:or(Gme,"".concat(a,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:g,layout:c})))}return x},{})},Zme=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),p=sr(c,a),m={};return p&&p.length?m=Qme(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=Jme(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},ege=function(e){var n=Zi(e),r=hi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:A1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Fp(n,r)}},WI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vn(n,ll),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},tge=function(e){return!e||!e.length?!1:e.some(function(n){var r=yi(n&&n.type);return r&&r.indexOf("Bar")>=0})},qI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nge=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,p=r.margin||{},m=Vn(d,ll),g=Vn(d,co),w=Object.keys(l).reduce(function(A,P){var S=l[P],v=S.orientation;return!S.mirror&&!S.hide?Y(Y({},A),{},we({},v,A[v]+S.width)):A},{left:p.left||0,right:p.right||0}),x=Object.keys(o).reduce(function(A,P){var S=o[P],v=S.orientation;return!S.mirror&&!S.hide?Y(Y({},A),{},we({},v,or(A,"".concat(v))+S.height)):A},{top:p.top||0,bottom:p.bottom||0}),b=Y(Y({},x),w),y=b.bottom;m&&(b.bottom+=m.props.height||ll.defaultProps.height),g&&n&&(b=pse(b,i,r,n));var E=u-b.left-b.right,N=c-b.top-b.bottom;return Y(Y({brushBottom:y},b),{},{width:Math.max(E,0),height:Math.max(N,0)})},rge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},l$=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,p=function(b,y){var E=y.graphicalItems,N=y.stackGroups,A=y.offset,P=y.updateId,S=y.dataStartIndex,v=y.dataEndIndex,T=b.barSize,O=b.layout,k=b.barGap,j=b.barCategoryGap,C=b.maxBarSize,$=qI(O),F=$.numericAxisName,W=$.cateAxisName,R=tge(E),B=[];return E.forEach(function(M,X){var H=Lg(b.data,{graphicalItems:[M],dataStartIndex:S,dataEndIndex:v}),V=M.type.defaultProps!==void 0?Y(Y({},M.type.defaultProps),M.props):M.props,G=V.dataKey,me=V.maxBarSize,ye=V["".concat(F,"Id")],Ve=V["".concat(W,"Id")],Be={},ie=l.reduce(function(ue,q){var te=y["".concat(q.axisType,"Map")],pe=V["".concat(q.axisType,"Id")];te&&te[pe]||q.axisType==="zAxis"||ko();var Oe=te[pe];return Y(Y({},ue),{},we(we({},q.axisType,Oe),"".concat(q.axisType,"Ticks"),hi(Oe)))},Be),J=ie[W],se=ie["".concat(W,"Ticks")],ge=N&&N[ye]&&N[ye].hasStack&&Ose(M,N[ye].stackGroups),ee=yi(M.type).indexOf("Bar")>=0,Pe=Fp(J,se),xe=[],ze=R&&dse({barSize:T,stackGroups:N,totalSize:rge(ie,W)});if(ee){var Qe,Tt,Dn=Ce(me)?C:me,gn=(Qe=(Tt=Fp(J,se,!0))!==null&&Tt!==void 0?Tt:Dn)!==null&&Qe!==void 0?Qe:0;xe=hse({barGap:k,barCategoryGap:j,bandSize:gn!==Pe?gn:Pe,sizeList:ze[Ve],maxBarSize:Dn}),gn!==Pe&&(xe=xe.map(function(ue){return Y(Y({},ue),{},{position:Y(Y({},ue.position),{},{offset:ue.position.offset-gn/2})})}))}var ne=M&&M.type&&M.type.getComposedData;ne&&B.push({props:Y(Y({},ne(Y(Y({},ie),{},{displayedData:H,props:b,dataKey:G,item:M,bandSize:Pe,barPosition:xe,offset:A,stackedData:ge,layout:O,dataStartIndex:S,dataEndIndex:v}))),{},we(we(we({key:M.key||"item-".concat(X)},F,ie[F]),W,ie[W]),"animationId",P)),childIndex:fH(M,b.children),item:M})}),B},m=function(b,y){var E=b.props,N=b.dataStartIndex,A=b.dataEndIndex,P=b.updateId;if(!hA({props:E}))return null;var S=E.children,v=E.layout,T=E.stackOffset,O=E.data,k=E.reverseStackOrder,j=qI(v),C=j.numericAxisName,$=j.cateAxisName,F=sr(S,r),W=Tse(O,F,"".concat(C,"Id"),"".concat($,"Id"),T,k),R=l.reduce(function(V,G){var me="".concat(G.axisType,"Map");return Y(Y({},V),{},we({},me,Zme(E,Y(Y({},G),{},{graphicalItems:F,stackGroups:G.axisType===C&&W,dataStartIndex:N,dataEndIndex:A}))))},{}),B=nge(Y(Y({},R),{},{props:E,graphicalItems:F}),y==null?void 0:y.legendBBox);Object.keys(R).forEach(function(V){R[V]=c(E,R[V],B,V.replace("Map",""),n)});var M=R["".concat($,"Map")],X=ege(M),H=p(E,Y(Y({},R),{},{dataStartIndex:N,dataEndIndex:A,updateId:P,graphicalItems:F,stackGroups:W,offset:B}));return Y(Y({formattedGraphicalItems:H,graphicalItems:F,offset:B,stackGroups:W},X),R)},g=function(x){function b(y){var E,N,A;return Mme(this,b),A=Vme(this,b,[y]),we(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(A,"accessibilityManager",new xme),we(A,"handleLegendBBoxUpdate",function(P){if(P){var S=A.state,v=S.dataStartIndex,T=S.dataEndIndex,O=S.updateId;A.setState(Y({legendBBox:P},m({props:A.props,dataStartIndex:v,dataEndIndex:T,updateId:O},Y(Y({},A.state),{},{legendBBox:P}))))}}),we(A,"handleReceiveSyncEvent",function(P,S,v){if(A.props.syncId===P){if(v===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(S)}}),we(A,"handleBrushChange",function(P){var S=P.startIndex,v=P.endIndex;if(S!==A.state.dataStartIndex||v!==A.state.dataEndIndex){var T=A.state.updateId;A.setState(function(){return Y({dataStartIndex:S,dataEndIndex:v},m({props:A.props,dataStartIndex:S,dataEndIndex:v,updateId:T},A.state))}),A.triggerSyncEvent({dataStartIndex:S,dataEndIndex:v})}}),we(A,"handleMouseEnter",function(P){var S=A.getMouseInfo(P);if(S){var v=Y(Y({},S),{},{isTooltipActive:!0});A.setState(v),A.triggerSyncEvent(v);var T=A.props.onMouseEnter;Ie(T)&&T(v,P)}}),we(A,"triggeredAfterMouseMove",function(P){var S=A.getMouseInfo(P),v=S?Y(Y({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(v),A.triggerSyncEvent(v);var T=A.props.onMouseMove;Ie(T)&&T(v,P)}),we(A,"handleItemMouseEnter",function(P){A.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),we(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),we(A,"handleMouseMove",function(P){P.persist(),A.throttleTriggeredAfterMouseMove(P)}),we(A,"handleMouseLeave",function(P){A.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var v=A.props.onMouseLeave;Ie(v)&&v(S,P)}),we(A,"handleOuterEvent",function(P){var S=cH(P),v=or(A.props,"".concat(S));if(S&&Ie(v)){var T,O;/.*touch.*/i.test(S)?O=A.getMouseInfo(P.changedTouches[0]):O=A.getMouseInfo(P),v((T=O)!==null&&T!==void 0?T:{},P)}}),we(A,"handleClick",function(P){var S=A.getMouseInfo(P);if(S){var v=Y(Y({},S),{},{isTooltipActive:!0});A.setState(v),A.triggerSyncEvent(v);var T=A.props.onClick;Ie(T)&&T(v,P)}}),we(A,"handleMouseDown",function(P){var S=A.props.onMouseDown;if(Ie(S)){var v=A.getMouseInfo(P);S(v,P)}}),we(A,"handleMouseUp",function(P){var S=A.props.onMouseUp;if(Ie(S)){var v=A.getMouseInfo(P);S(v,P)}}),we(A,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),we(A,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseDown(P.changedTouches[0])}),we(A,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseUp(P.changedTouches[0])}),we(A,"handleDoubleClick",function(P){var S=A.props.onDoubleClick;if(Ie(S)){var v=A.getMouseInfo(P);S(v,P)}}),we(A,"handleContextMenu",function(P){var S=A.props.onContextMenu;if(Ie(S)){var v=A.getMouseInfo(P);S(v,P)}}),we(A,"triggerSyncEvent",function(P){A.props.syncId!==void 0&&mv.emit(gv,A.props.syncId,P,A.eventEmitterSymbol)}),we(A,"applySyncEvent",function(P){var S=A.props,v=S.layout,T=S.syncMethod,O=A.state.updateId,k=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)A.setState(Y({dataStartIndex:k,dataEndIndex:j},m({props:A.props,dataStartIndex:k,dataEndIndex:j,updateId:O},A.state)));else if(P.activeTooltipIndex!==void 0){var C=P.chartX,$=P.chartY,F=P.activeTooltipIndex,W=A.state,R=W.offset,B=W.tooltipTicks;if(!R)return;if(typeof T=="function")F=T(B,P);else if(T==="value"){F=-1;for(var M=0;M<B.length;M++)if(B[M].value===P.activeLabel){F=M;break}}var X=Y(Y({},R),{},{x:R.left,y:R.top}),H=Math.min(C,X.x+X.width),V=Math.min($,X.y+X.height),G=B[F]&&B[F].value,me=fb(A.state,A.props.data,F),ye=B[F]?{x:v==="horizontal"?B[F].coordinate:H,y:v==="horizontal"?V:B[F].coordinate}:o$;A.setState(Y(Y({},P),{},{activeLabel:G,activeCoordinate:ye,activePayload:me,activeTooltipIndex:F}))}else A.setState(P)}),we(A,"renderCursor",function(P){var S,v=A.state,T=v.isTooltipActive,O=v.activeCoordinate,k=v.activePayload,j=v.offset,C=v.activeTooltipIndex,$=v.tooltipAxisBandSize,F=A.getTooltipEventType(),W=(S=P.props.active)!==null&&S!==void 0?S:T,R=A.props.layout,B=P.key||"_recharts-cursor";return U.createElement(Ime,{key:B,activeCoordinate:O,activePayload:k,activeTooltipIndex:C,chartName:n,element:P,isActive:W,layout:R,offset:j,tooltipAxisBandSize:$,tooltipEventType:F})}),we(A,"renderPolarAxis",function(P,S,v){var T=or(P,"type.axisType"),O=or(A.state,"".concat(T,"Map")),k=P.type.defaultProps,j=k!==void 0?Y(Y({},k),P.props):P.props,C=O&&O[j["".concat(T,"Id")]];return L.cloneElement(P,Y(Y({},C),{},{className:Le(T,C.className),key:P.key||"".concat(S,"-").concat(v),ticks:hi(C,!0)}))}),we(A,"renderPolarGrid",function(P){var S=P.props,v=S.radialLines,T=S.polarAngles,O=S.polarRadius,k=A.state,j=k.radiusAxisMap,C=k.angleAxisMap,$=Zi(j),F=Zi(C),W=F.cx,R=F.cy,B=F.innerRadius,M=F.outerRadius;return L.cloneElement(P,{polarAngles:Array.isArray(T)?T:hi(F,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(O)?O:hi($,!0).map(function(X){return X.coordinate}),cx:W,cy:R,innerRadius:B,outerRadius:M,key:P.key||"polar-grid",radialLines:v})}),we(A,"renderLegend",function(){var P=A.state.formattedGraphicalItems,S=A.props,v=S.children,T=S.width,O=S.height,k=A.props.margin||{},j=T-(k.left||0)-(k.right||0),C=XR({children:v,formattedGraphicalItems:P,legendWidth:j,legendContent:u});if(!C)return null;var $=C.item,F=UI(C,Cme);return L.cloneElement($,Y(Y({},F),{},{chartWidth:T,chartHeight:O,margin:k,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),we(A,"renderTooltip",function(){var P,S=A.props,v=S.children,T=S.accessibilityLayer,O=Vn(v,wr);if(!O)return null;var k=A.state,j=k.isTooltipActive,C=k.activeCoordinate,$=k.activePayload,F=k.activeLabel,W=k.offset,R=(P=O.props.active)!==null&&P!==void 0?P:j;return L.cloneElement(O,{viewBox:Y(Y({},W),{},{x:W.left,y:W.top}),active:R,label:F,payload:R?$:[],coordinate:C,accessibilityLayer:T})}),we(A,"renderBrush",function(P){var S=A.props,v=S.margin,T=S.data,O=A.state,k=O.offset,j=O.dataStartIndex,C=O.dataEndIndex,$=O.updateId;return L.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Vd(A.handleBrushChange,P.props.onChange),data:T,x:oe(P.props.x)?P.props.x:k.left,y:oe(P.props.y)?P.props.y:k.top+k.height+k.brushBottom-(v.bottom||0),width:oe(P.props.width)?P.props.width:k.width,startIndex:j,endIndex:C,updateId:"brush-".concat($)})}),we(A,"renderReferenceElement",function(P,S,v){if(!P)return null;var T=A,O=T.clipPathId,k=A.state,j=k.xAxisMap,C=k.yAxisMap,$=k.offset,F=P.type.defaultProps||{},W=P.props,R=W.xAxisId,B=R===void 0?F.xAxisId:R,M=W.yAxisId,X=M===void 0?F.yAxisId:M;return L.cloneElement(P,{key:P.key||"".concat(S,"-").concat(v),xAxis:j[B],yAxis:C[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:O})}),we(A,"renderActivePoints",function(P){var S=P.item,v=P.activePoint,T=P.basePoint,O=P.childIndex,k=P.isRange,j=[],C=S.props.key,$=S.item.type.defaultProps!==void 0?Y(Y({},S.item.type.defaultProps),S.item.props):S.item.props,F=$.activeDot,W=$.dataKey,R=Y(Y({index:O,dataKey:W,cx:v.x,cy:v.y,r:4,fill:Z1(S.item),strokeWidth:2,stroke:"#fff",payload:v.payload,value:v.value},Re(F,!1)),fp(F));return j.push(b.renderActiveDot(F,R,"".concat(C,"-activePoint-").concat(O))),T?j.push(b.renderActiveDot(F,Y(Y({},R),{},{cx:T.x,cy:T.y}),"".concat(C,"-basePoint-").concat(O))):k&&j.push(null),j}),we(A,"renderGraphicChild",function(P,S,v){var T=A.filterFormatItem(P,S,v);if(!T)return null;var O=A.getTooltipEventType(),k=A.state,j=k.isTooltipActive,C=k.tooltipAxis,$=k.activeTooltipIndex,F=k.activeLabel,W=A.props.children,R=Vn(W,wr),B=T.props,M=B.points,X=B.isRange,H=B.baseLine,V=T.item.type.defaultProps!==void 0?Y(Y({},T.item.type.defaultProps),T.item.props):T.item.props,G=V.activeDot,me=V.hide,ye=V.activeBar,Ve=V.activeShape,Be=!!(!me&&j&&R&&(G||ye||Ve)),ie={};O!=="axis"&&R&&R.props.trigger==="click"?ie={onClick:Vd(A.handleItemMouseEnter,P.props.onClick)}:O!=="axis"&&(ie={onMouseLeave:Vd(A.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Vd(A.handleItemMouseEnter,P.props.onMouseEnter)});var J=L.cloneElement(P,Y(Y({},T.props),ie));function se(q){return typeof C.dataKey=="function"?C.dataKey(q.payload):null}if(Be)if($>=0){var ge,ee;if(C.dataKey&&!C.allowDuplicatedCategory){var Pe=typeof C.dataKey=="function"?se:"payload.".concat(C.dataKey.toString());ge=cp(M,Pe,F),ee=X&&H&&cp(H,Pe,F)}else ge=M==null?void 0:M[$],ee=X&&H&&H[$];if(Ve||ye){var xe=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[L.cloneElement(P,Y(Y(Y({},T.props),ie),{},{activeIndex:xe})),null,null]}if(!Ce(ge))return[J].concat(bl(A.renderActivePoints({item:T,activePoint:ge,basePoint:ee,childIndex:$,isRange:X})))}else{var ze,Qe=(ze=A.getItemByXY(A.state.activeCoordinate))!==null&&ze!==void 0?ze:{graphicalItem:J},Tt=Qe.graphicalItem,Dn=Tt.item,gn=Dn===void 0?P:Dn,ne=Tt.childIndex,ue=Y(Y(Y({},T.props),ie),{},{activeIndex:ne});return[L.cloneElement(gn,ue),null,null]}return X?[J,null,null]:[J,null]}),we(A,"renderCustomized",function(P,S,v){return L.cloneElement(P,Y(Y({key:"recharts-customized-".concat(v)},A.props),A.state))}),we(A,"renderMap",{CartesianGrid:{handler:Wd,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Wd},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Wd},YAxis:{handler:Wd},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((E=y.id)!==null&&E!==void 0?E:Rf("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=XD(A.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Bme(b,x),Lme(b,[{key:"componentDidMount",value:function(){var E,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,N=E.children,A=E.data,P=E.height,S=E.layout,v=Vn(N,wr);if(v){var T=v.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,k=fb(this.state,A,T,O),j=this.state.tooltipTicks[T].coordinate,C=(this.state.offset.top+P)/2,$=S==="horizontal",F=$?{x:j,y:C}:{y:j,x:C},W=this.state.formattedGraphicalItems.find(function(B){var M=B.item;return M.type.name==="Scatter"});W&&(F=Y(Y({},F),W.props.points[T].tooltipPosition),k=W.props.points[T].tooltipPayload);var R={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:k,activeCoordinate:F};this.setState(R),this.renderCursor(v),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var A,P;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(E){B0([Vn(E.children,wr)],[Vn(this.props.children,wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Vn(this.props.children,wr);if(E&&typeof E.props.shared=="boolean"){var N=E.props.shared?"axis":"item";return s.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),P=$ne(A),S={chartX:Math.round(E.pageX-P.left),chartY:Math.round(E.pageY-P.top)},v=A.width/N.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,v);if(!T)return null;var O=this.state,k=O.xAxisMap,j=O.yAxisMap,C=this.getTooltipEventType(),$=zI(this.state,this.props.data,this.props.layout,T);if(C!=="axis"&&k&&j){var F=Zi(k).scale,W=Zi(j).scale,R=F&&F.invert?F.invert(S.chartX):null,B=W&&W.invert?W.invert(S.chartY):null;return Y(Y({},S),{},{xValue:R,yValue:B},$)}return $?Y(Y({},S),$):null}},{key:"inRange",value:function(E,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=E/A,v=N/A;if(P==="horizontal"||P==="vertical"){var T=this.state.offset,O=S>=T.left&&S<=T.left+T.width&&v>=T.top&&v<=T.top+T.height;return O?{x:S,y:v}:null}var k=this.state,j=k.angleAxisMap,C=k.radiusAxisMap;if(j&&C){var $=Zi(j);return SO({x:S,y:v},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,N=this.getTooltipEventType(),A=Vn(E,wr),P={};A&&N==="axis"&&(A.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=fp(this.props,this.handleOuterEvent);return Y(Y({},S),P)}},{key:"addListener",value:function(){mv.on(gv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mv.removeListener(gv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,N,A){for(var P=this.state.formattedGraphicalItems,S=0,v=P.length;S<v;S++){var T=P[S];if(T.item===E||T.props.key===E.key||N===yi(T.item.type)&&A===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,N=this.state.offset,A=N.left,P=N.top,S=N.height,v=N.width;return U.createElement("defs",null,U.createElement("clipPath",{id:E},U.createElement("rect",{x:A,y:P,height:S,width:v})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(N,A){var P=FI(A,2),S=P[0],v=P[1];return Y(Y({},N),{},we({},S,v.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(N,A){var P=FI(A,2),S=P[0],v=P[1];return Y(Y({},N),{},we({},S,v.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[E])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(E){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[E])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(E){var N=this.state,A=N.formattedGraphicalItems,P=N.activeItem;if(A&&A.length)for(var S=0,v=A.length;S<v;S++){var T=A[S],O=T.props,k=T.item,j=k.type.defaultProps!==void 0?Y(Y({},k.type.defaultProps),k.props):k.props,C=yi(k.type);if(C==="Bar"){var $=(O.data||[]).find(function(B){return wce(E,B)});if($)return{graphicalItem:T,payload:$}}else if(C==="RadialBar"){var F=(O.data||[]).find(function(B){return SO(E,B)});if(F)return{graphicalItem:T,payload:F}}else if(kg(T,P)||Ng(T,P)||lf(T,P)){var W=xfe({graphicalItem:T,activeTooltipItem:P,itemData:j.data}),R=j.activeIndex===void 0?W:j.activeIndex;return{graphicalItem:Y(Y({},T),{},{childIndex:R}),payload:lf(T,P)?j.data[W]:T.props.data[W]}}}return null}},{key:"render",value:function(){var E=this;if(!hA(this))return null;var N=this.props,A=N.children,P=N.className,S=N.width,v=N.height,T=N.style,O=N.compact,k=N.title,j=N.desc,C=UI(N,kme),$=Re(C,!1);if(O)return U.createElement(xI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(W0,vs({},$,{width:S,height:v,title:k,desc:j}),this.renderClipPath(),mA(A,this.renderMap)));if(this.props.accessibilityLayer){var F,W;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(W=this.props.role)!==null&&W!==void 0?W:"application",$.onKeyDown=function(B){E.accessibilityManager.keyboardEvent(B)},$.onFocus=function(){E.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return U.createElement(xI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",vs({className:Le("recharts-wrapper",P),style:Y({position:"relative",cursor:"default",width:S,height:v},T)},R,{ref:function(M){E.container=M}}),U.createElement(W0,vs({},$,{width:S,height:v,title:k,desc:j,style:Kme}),this.renderClipPath(),mA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);we(g,"displayName",n),we(g,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),we(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,E=x.data,N=x.children,A=x.width,P=x.height,S=x.layout,v=x.stackOffset,T=x.margin,O=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var j=WI(x);return Y(Y(Y({},j),{},{updateId:0},m(Y(Y({props:x},j),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:E,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:v,prevMargin:T,prevChildren:N})}if(y!==b.prevDataKey||E!==b.prevData||A!==b.prevWidth||P!==b.prevHeight||S!==b.prevLayout||v!==b.prevStackOffset||!Is(T,b.prevMargin)){var C=WI(x),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=Y(Y({},zI(b,E,S)),{},{updateId:b.updateId+1}),W=Y(Y(Y({},C),$),F);return Y(Y(Y({},W),m(Y({props:x},W),b)),{},{prevDataKey:y,prevData:E,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:v,prevMargin:T,prevChildren:N})}if(!B0(N,b.prevChildren)){var R,B,M,X,H=Vn(N,ll),V=H&&(R=(B=H.props)===null||B===void 0?void 0:B.startIndex)!==null&&R!==void 0?R:O,G=H&&(M=(X=H.props)===null||X===void 0?void 0:X.endIndex)!==null&&M!==void 0?M:k,me=V!==O||G!==k,ye=!Ce(E),Ve=ye&&!me?b.updateId:b.updateId+1;return Y(Y({updateId:Ve},m(Y(Y({props:x},b),{},{updateId:Ve,dataStartIndex:V,dataEndIndex:G}),b)),{},{prevChildren:N,dataStartIndex:V,dataEndIndex:G})}return null}),we(g,"renderActiveDot",function(x,b,y){var E;return L.isValidElement(x)?E=L.cloneElement(x,b):Ie(x)?E=x(b):E=U.createElement(tx,b),U.createElement(Et,{className:"recharts-active-dot",key:y},E)});var w=L.forwardRef(function(b,y){return U.createElement(g,vs({},b,{ref:y}))});return w.displayName=g.displayName,w},ige=l$({chartName:"LineChart",GraphicalChild:po,axisComponents:[{axisType:"xAxis",AxisComp:gl},{axisType:"yAxis",AxisComp:vl}],formatAxisMap:AM}),HI=l$({chartName:"BarChart",GraphicalChild:Uo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gl},{axisType:"yAxis",AxisComp:vl}],formatAxisMap:AM});function age({transactions:t=[],categories:e=[],budgets:n=[],currency:r="USD"}){const[i,a]=L.useState("last30days"),[o,s]=L.useState("all"),[l,u]=L.useState("category"),[c,d]=L.useState(!0),p=Tn.find(v=>v.code===r),m=v=>v.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),g=v=>{const T=new Date;switch(v){case"last7days":return{start:new Date(T.getTime()-7*24*60*60*1e3),end:T};case"last30days":return{start:new Date(T.getTime()-30*24*60*60*1e3),end:T};case"last90days":return{start:new Date(T.getTime()-90*24*60*60*1e3),end:T};case"thisMonth":return{start:new Date(T.getFullYear(),T.getMonth(),1),end:T};case"lastMonth":{const O=new Date(T.getFullYear(),T.getMonth()-1,1),k=new Date(T.getFullYear(),T.getMonth(),0);return{start:O,end:k}}case"last3Months":return{start:new Date(T.getFullYear(),T.getMonth()-2,1),end:T};case"last6Months":return{start:new Date(T.getFullYear(),T.getMonth()-5,1),end:T};case"thisYear":return{start:new Date(T.getFullYear(),0,1),end:T};case"lastYear":{const O=T.getFullYear()-1;return{start:new Date(O,0,1),end:new Date(O,11,31)}}case"all":return{start:new Date(0),end:T};default:return{start:new Date(T.getTime()-30*24*60*60*1e3),end:T}}},w=v=>{const{start:T,end:O}=g(v);return Math.max(1,Math.ceil((O-T)/(1e3*60*60*24)))},x=L.useMemo(()=>{if(!t||!Array.isArray(t))return[];const{start:v,end:T}=g(i);return t.filter(O=>{const k=new Date(O.date);return k>=v&&k<=T&&(o==="all"||O.categoryId===o)})},[t,i,o]),b=L.useMemo(()=>{const v=x.filter(M=>M.type==="expense"),T=x.filter(M=>M.type==="income"),O=v.reduce((M,X)=>M+X.amount,0),k=T.reduce((M,X)=>M+X.amount,0),j=k-O,C={};v.forEach(M=>{const X=e&&e.find?e.find(V=>V.id===M.categoryId):null,H=X?X.name:"Other";C[H]=(C[H]||0)+M.amount});const $={};v.forEach(M=>{const X=M.date;$[X]=($[X]||0)+M.amount});const F=Object.entries(C).sort(([,M],[,X])=>X-M).map(([M,X])=>{const H=e&&e.find?e.find(V=>V.name===M):null;return{name:M,amount:X,percentage:O>0?X/O*100:0,color:(H==null?void 0:H.color)||"#6b7280"}}),W=w(i),R=O/W,B=v.length/W;return{totalExpenses:O,totalIncome:k,netAmount:j,categoryTotals:C,dailySpending:$,topCategories:F,avgDailySpending:R,transactionVelocity:B,expenseCount:v.length,incomeCount:T.length}},[x,e,i]),y=L.useMemo(()=>{const v=b.topCategories.map(j=>({name:j.name,value:j.amount,color:j.color})),T=new Date,k=cz({start:ZT(Xs(T),5),end:Ys(T)}).map(j=>{const C=Xs(j),$=Ys(j),F=t.filter(B=>{const M=new Date(B.date);return M>=C&&M<=$}),W=F.filter(B=>B.type==="income").reduce((B,M)=>B+M.amount,0),R=F.filter(B=>B.type==="expense").reduce((B,M)=>B+M.amount,0);return{month:Nc(j,"MMM yyyy"),income:W,expenses:R,balance:W-R}});return{expensesByCategory:v,monthlyTrend:k}},[b.topCategories,t]),N=(()=>{const v=[];if(b.netAmount<0?v.push({type:"warning",icon:Am,title:"Spending Alert",message:`You're spending ${p==null?void 0:p.symbol} ${Math.abs(b.netAmount).toFixed(2)} more than you earn this ${i}.`}):b.netAmount>0&&v.push({type:"success",icon:bo,title:"Great Job!",message:`You saved ${p==null?void 0:p.symbol} ${b.netAmount.toFixed(2)} this ${i}.`}),b.topCategories.length>0){const T=b.topCategories[0];T.percentage>40&&v.push({type:"info",icon:rh,title:"Category Focus",message:`${T.name} accounts for ${T.percentage.toFixed(1)}% of your spending. Consider if this aligns with your priorities.`})}return b.avgDailySpending>0&&v.push({type:"info",icon:Zn,title:"Daily Average",message:`You spend an average of ${p==null?void 0:p.symbol} ${b.avgDailySpending.toFixed(2)} per day.`}),v})(),A=()=>{const T={title:"Financial Insights & Reports",period:{last7days:"Last 7 Days",last30days:"Last 30 Days",last90days:"Last 90 Days",thisMonth:"This Month",lastMonth:"Last Month",last3Months:"Last 3 Months",last6Months:"Last 6 Months",thisYear:"This Year",lastYear:"Last Year",all:"All Time"}[i]||i,generatedAt:new Date().toISOString(),currency:r,summary:{totalIncome:b.totalIncome,totalExpenses:b.totalExpenses,netAmount:b.netAmount,transactionCount:x.length,expenseCount:b.expenseCount,incomeCount:b.incomeCount,avgDailySpending:b.avgDailySpending,transactionVelocity:b.transactionVelocity},categoryBreakdown:b.topCategories,spendingTips:N,transactions:x},O=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),k=URL.createObjectURL(O),j=document.createElement("a");j.href=k,j.download=`financial-insights-${i}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(k)},P=({data:v})=>{const T=Math.max(...v.map(O=>O.amount));return h.jsx("div",{className:"category-chart",children:v.map((O,k)=>h.jsx("div",{className:"chart-item",children:h.jsxs("div",{className:"chart-bar-container",children:[h.jsxs("div",{className:"chart-label",children:[h.jsx("div",{className:"category-indicator",style:{backgroundColor:O.color}}),h.jsx("span",{className:"category-name",children:O.name}),h.jsxs("span",{className:"category-percentage",children:[O.percentage.toFixed(1),"%"]})]}),h.jsx("div",{className:"chart-bar-track",children:h.jsx("div",{className:"chart-bar-fill",style:{width:`${O.amount/T*100}%`,backgroundColor:O.color}})}),h.jsxs("span",{className:"chart-amount",children:[p==null?void 0:p.symbol,O.amount.toFixed(2)]})]})},k))})},S=({data:v})=>{const[T,O]=L.useState(null),k=Object.entries(v).sort(([C],[$])=>C.localeCompare($)).slice(-14),j=Math.max(...k.map(([,C])=>C));return h.jsx("div",{className:"daily-chart",children:h.jsx("div",{className:"chart-grid",children:k.map(([C,$],F)=>{const W=new Date(C),R=W.toLocaleDateString("en",{weekday:"short"}),B=W.getDate();return h.jsxs("div",{className:"daily-bar-container",onMouseEnter:()=>O(F),onMouseLeave:()=>O(null),children:[h.jsx("div",{className:"daily-bar",style:{height:`${j>0?$/j*100:0}%`}}),T===F&&h.jsxs("div",{className:"daily-tooltip tooltip-below",children:[p==null?void 0:p.symbol,$.toFixed(2)]}),h.jsxs("div",{className:"daily-label",children:[h.jsx("div",{className:"day-name",children:R}),h.jsx("div",{className:"day-num",children:B})]})]},F)})})})};return h.jsxs("div",{className:"spending-insights",children:[h.jsx("div",{className:"insights-header",children:h.jsx("div",{className:"header-left",children:h.jsx("h2",{children:"Insights"})})}),h.jsxs("div",{className:"insights-controls",children:[h.jsxs("div",{className:"controls-left",children:[h.jsxs("div",{className:"control-group",children:[h.jsx("label",{children:"Period:"}),h.jsxs("select",{value:i,onChange:v=>a(v.target.value),className:"period-select",children:[h.jsx("option",{value:"last7days",children:"Last 7 Days"}),h.jsx("option",{value:"last30days",children:"Last 30 Days"}),h.jsx("option",{value:"last90days",children:"Last 90 Days"}),h.jsx("option",{value:"thisMonth",children:"This Month"}),h.jsx("option",{value:"lastMonth",children:"Last Month"}),h.jsx("option",{value:"last3Months",children:"Last 3 Months"}),h.jsx("option",{value:"last6Months",children:"Last 6 Months"}),h.jsx("option",{value:"thisYear",children:"This Year"}),h.jsx("option",{value:"lastYear",children:"Last Year"}),h.jsx("option",{value:"all",children:"All Time"})]})]}),h.jsxs("div",{className:"control-group",children:[h.jsx("label",{children:"Category:"}),h.jsxs("select",{value:o,onChange:v=>s(v.target.value),className:"category-select",children:[h.jsx("option",{value:"all",children:"All Categories"}),e&&e.filter?e.filter(v=>v.type==="expense").map(v=>h.jsx("option",{value:v.id,children:v.name},v.id)):[]]})]})]}),h.jsx("div",{className:"controls-right",children:h.jsxs("button",{onClick:A,className:"export-button",title:"Export detailed financial report",children:[h.jsx(cV,{size:16}),"Export Report"]})})]}),h.jsx("div",{className:"summary-stats",children:h.jsxs("div",{className:"stats-grid",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(Tm,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Most Expensive Day"}),h.jsx("div",{className:"stat-value",children:Object.entries(b.dailySpending).length>0?(()=>{const[v,T]=Object.entries(b.dailySpending).sort(([,O],[,k])=>k-O)[0];return`${p==null?void 0:p.symbol} ${T.toFixed(2)}`})():"No data"}),h.jsx("div",{className:"stat-detail",children:Object.entries(b.dailySpending).length>0?(()=>{const[v]=Object.entries(b.dailySpending).sort(([,T],[,O])=>O-T)[0];return new Date(v).toLocaleDateString()})():""})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(pV,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Top Spending Category"}),h.jsx("div",{className:"stat-value",children:Object.keys(b.categoryTotals).length>0?(()=>{const v=Object.entries(b.categoryTotals).sort(([,T],[,O])=>O-T)[0];return`${p==null?void 0:p.symbol} ${v[1].toFixed(2)}`})():"No data"}),h.jsx("div",{className:"stat-detail",children:Object.keys(b.categoryTotals).length>0?Object.entries(b.categoryTotals).sort(([,T],[,O])=>O-T)[0][0]:""})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(bo,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Largest Expense"}),h.jsx("div",{className:"stat-value",children:x.filter(v=>v.type==="expense").length>0?(()=>{const v=x.filter(T=>T.type==="expense").reduce((T,O)=>O.amount>T.amount?O:T);return`${p==null?void 0:p.symbol} ${v.amount.toFixed(2)}`})():"No data"}),h.jsx("div",{className:"stat-detail",children:x.filter(v=>v.type==="expense").length>0?x.filter(T=>T.type==="expense").reduce((T,O)=>O.amount>T.amount?O:T).description:""})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(HI,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Average Daily Spending"}),h.jsx("div",{className:"stat-value",children:x.filter(v=>v.type==="expense").length>0?(()=>{const v=x.filter(j=>j.type==="expense"),T=v.reduce((j,C)=>j+C.amount,0),O=new Set(v.map(j=>new Date(j.date).toDateString())).size,k=O>0?T/O:0;return`${p==null?void 0:p.symbol} ${k.toFixed(2)}`})():"No data"}),h.jsx("div",{className:"stat-detail",children:"per day average"})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(Oy,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Monthly Growth"}),h.jsx("div",{className:"stat-value",children:(()=>{const v=new Date,T=ZT(v,1),O=t.filter($=>$.type==="expense"&&new Date($.date).getMonth()===v.getMonth()&&new Date($.date).getFullYear()===v.getFullYear()).reduce(($,F)=>$+F.amount,0),k=t.filter($=>$.type==="expense"&&new Date($.date).getMonth()===T.getMonth()&&new Date($.date).getFullYear()===T.getFullYear()).reduce(($,F)=>$+F.amount,0);if(k===0)return"No data";const j=(O-k)/k*100;return`${j>=0?"+":""}${j.toFixed(1)}%`})()}),h.jsx("div",{className:"stat-detail",children:"vs last month"})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(f0,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Most Active Day"}),h.jsx("div",{className:"stat-value",children:x.length>0?(()=>{const v={},T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];x.forEach(k=>{const j=new Date(k.date).getDay(),C=T[j];v[C]=(v[C]||0)+1});const O=Object.entries(v).sort(([,k],[,j])=>j-k)[0];return O?O[0]:"No data"})():"No data"}),h.jsx("div",{className:"stat-detail",children:x.length>0?(()=>{const v={},T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];x.forEach(k=>{const j=new Date(k.date).getDay(),C=T[j];v[C]=(v[C]||0)+1});const O=Object.entries(v).sort(([,k],[,j])=>j-k)[0];return O?`${O[1]} transactions`:""})():""})]})]})]})}),c&&N.length>0&&h.jsxs("div",{className:"tips-section",children:[h.jsx("div",{className:"tips-header",children:h.jsxs("h3",{children:[h.jsx(gV,{size:20}),"Insights & Tips"]})}),h.jsx("div",{className:"tips-grid",children:N.map((v,T)=>{const O=v.icon;return h.jsxs("div",{className:`tip-card ${v.type}`,children:[h.jsx("div",{className:"tip-icon",children:h.jsx(O,{size:20})}),h.jsxs("div",{className:"tip-content",children:[h.jsx("h4",{children:v.title}),h.jsx("p",{children:v.message})]})]},T)})})]}),!c&&h.jsxs("button",{onClick:()=>d(!0),className:"show-tips-button",children:[h.jsx(Gu,{size:16}),"Show Insights & Tips"]}),h.jsxs("div",{className:"charts-grid",children:[y.expensesByCategory.length>0&&h.jsxs("div",{className:"chart-card",children:[h.jsx("h3",{children:"Expenses by Category"}),h.jsx(dP,{width:"100%",height:400,children:h.jsxs(HI,{data:y.expensesByCategory,margin:{top:20,right:30,left:80,bottom:80},children:[h.jsx(eb,{strokeDasharray:"3 3"}),h.jsx(gl,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0}),h.jsx(vl,{tickFormatter:v=>`${p==null?void 0:p.symbol}${m(v)}`}),h.jsx(wr,{formatter:v=>[`${p==null?void 0:p.symbol} ${m(v)}`,"Amount"],labelFormatter:v=>`Category: ${v}`}),h.jsx(Uo,{dataKey:"value",children:y.expensesByCategory.map((v,T)=>h.jsx(O1,{fill:v.color},`cell-${T}`))})]})})]}),y.monthlyTrend.length>0&&h.jsxs("div",{className:"chart-card",children:[h.jsx("h3",{children:"6-Month Trend"}),h.jsx(dP,{width:"100%",height:300,children:h.jsxs(ige,{data:y.monthlyTrend,children:[h.jsx(eb,{strokeDasharray:"3 3"}),h.jsx(gl,{dataKey:"month"}),h.jsx(vl,{}),h.jsx(wr,{formatter:v=>`${p==null?void 0:p.symbol} ${m(v)}`}),h.jsx(co,{}),h.jsx(po,{type:"monotone",dataKey:"income",stroke:"#10b981",strokeWidth:2}),h.jsx(po,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:2}),h.jsx(po,{type:"monotone",dataKey:"balance",stroke:"#3b82f6",strokeWidth:2})]})})]})]}),h.jsxs("div",{className:"charts-grid",children:[h.jsxs("div",{className:"chart-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("h3",{children:[h.jsx(rh,{size:20}),"Top Categories"]}),h.jsxs("div",{className:"chart-info",children:[h.jsx(h0,{size:16}),h.jsx("span",{children:"Based on total spending"})]})]}),b.topCategories.length>0?h.jsx(P,{data:b.topCategories}):h.jsxs("div",{className:"empty-chart",children:[h.jsx(rh,{size:48}),h.jsx("p",{children:"No expenses found for this period"})]})]}),h.jsxs("div",{className:"chart-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("h3",{children:[h.jsx(Oy,{size:20}),"Daily Spending Trend"]}),h.jsxs("div",{className:"chart-info",children:[h.jsx(h0,{size:16}),h.jsx("span",{children:"Last 14 days"})]})]}),Object.keys(b.dailySpending).length>0?h.jsx(S,{data:b.dailySpending}):h.jsxs("div",{className:"empty-chart",children:[h.jsx(Oy,{size:48}),h.jsx("p",{children:"No daily spending data available"})]})]})]})]})}const fx=({isOpen:t,onClose:e,title:n,children:r,type:i="info",showCloseButton:a=!0})=>{if(L.useEffect(()=>{const l=u=>{u.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[t,e]),!t)return null;const o=()=>{switch(i){case"success":return h.jsx(Hu,{className:"icon success"});case"error":return h.jsx(hn,{className:"icon error"});case"warning":return h.jsx(hn,{className:"icon warning"});case"confirm":return h.jsx(mV,{className:"icon confirm"});default:return h.jsx(h0,{className:"icon info"})}},s=l=>{l.target===l.currentTarget&&e()};return h.jsx("div",{className:"modal-overlay",onClick:s,children:h.jsxs("div",{className:`modal-content ${i}`,children:[h.jsxs("div",{className:"modal-header",children:[h.jsxs("div",{className:"modal-title-section",children:[o(),h.jsx("h3",{className:"modal-title",children:n})]}),a&&h.jsx("button",{className:"modal-close-btn",onClick:e,children:h.jsx(_o,{size:20})})]}),h.jsx("div",{className:"modal-body",children:r})]})})},oge=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmText:a="Confirm",cancelText:o="Cancel",type:s="confirm",isDestructive:l=!1})=>{const u=()=>{n(),e()};return h.jsx(fx,{isOpen:t,onClose:e,title:r,type:s,showCloseButton:!1,children:h.jsxs("div",{className:"confirm-content",children:[h.jsx("p",{className:"confirm-message",children:i}),h.jsxs("div",{className:"confirm-actions",children:[h.jsx("button",{className:"btn btn-secondary",onClick:e,children:o}),h.jsx("button",{className:`btn ${l?"btn-danger":"btn-primary"}`,onClick:u,children:a})]})]})})},ii=(t,e=2)=>{const n=Math.round(t*100)/100;if(n>=1e6){const r=n/1e6;return r%1===0?r+"M":r.toFixed(1)+"M"}if(n>=1e3){const r=n/1e3;return r%1===0?r+"k":r.toFixed(1)+"k"}return n%1===0?n.toString():n.toFixed(e).replace(/\.?0+$/,"")};function sge({goals:t,transactions:e,currency:n,categories:r,onAdd:i,onUpdate:a,onDelete:o,onAddTransaction:s}){const[l,u]=L.useState(!1),[c,d]=L.useState(null),p=L.useRef(null),[m,g]=L.useState(!1),[w,x]=L.useState(null),[b,y]=L.useState(""),[E,N]=L.useState(!0),[A,P]=L.useState(5),[S,v]=L.useState(!1),[T,O]=L.useState([]),[k,j]=L.useState({name:"",description:"",targetAmount:"",currentAmount:"",targetDate:"",category:"savings",priority:"medium",isActive:!0,notes:""}),[C,$]=L.useState({}),[F,W]=L.useState(!1),[R,B]=L.useState({}),M=Tn.find(q=>q.code===n);L.useEffect(()=>{c&&j({name:c.name,description:c.description||"",targetAmount:c.targetAmount.toString(),currentAmount:c.currentAmount.toString(),targetDate:c.targetDate,category:c.category,priority:c.priority,isActive:c.isActive,notes:c.notes||""})},[c]);const X=(q,te)=>{const pe={...C};switch(q){case"name":te.trim()?te.trim().length<2?pe.name="Goal name must be at least 2 characters":te.trim().length>100?pe.name="Goal name must be less than 100 characters":delete pe.name:pe.name="Goal name is required";break;case"targetAmount":te?isNaN(te)||parseFloat(te)<=0?pe.targetAmount="Target amount must be a positive number":parseFloat(te)>999999999e-2?pe.targetAmount="Target amount must be less than 10,000,000":delete pe.targetAmount:pe.targetAmount="Target amount is required";break;case"currentAmount":te&&(isNaN(te)||parseFloat(te)<0)?pe.currentAmount="Current amount must be a positive number":te&&parseFloat(te)>999999999e-2?pe.currentAmount="Current amount must be less than 10,000,000":delete pe.currentAmount;break;case"targetDate":te?new Date(te)<=new Date?pe.targetDate="Target date must be in the future":delete pe.targetDate:pe.targetDate="Target date is required";break}return $(pe),Object.keys(pe).length===0},H=()=>{const q=k.name.trim()!==""&&k.targetAmount.trim()!==""&&k.targetDate!=="",te=Object.keys(C).length===0;return q&&te&&!F},V=async q=>{if(q.preventDefault(),!H()){const te={};["name","targetAmount","currentAmount","targetDate"].forEach(pe=>te[pe]=!0),B(te);return}W(!0);try{if(c){const te={...k,targetAmount:parseFloat(k.targetAmount),currentAmount:parseFloat(k.currentAmount)||0,id:c.id};await a(te)}else{const te={...k,targetAmount:parseFloat(k.targetAmount),currentAmount:parseFloat(k.currentAmount)||0};await i(te)}ye()}catch(te){console.error("Error submitting goal:",te)}finally{W(!1)}},G=q=>{const{name:te,value:pe,type:Oe,checked:ce}=q.target,Ee=Oe==="checkbox"?ce:pe;j(tt=>({...tt,[te]:Ee})),C[te]&&$(tt=>{const yn={...tt};return delete yn[te],yn})},me=q=>{const{name:te,value:pe}=q.target;B(Oe=>({...Oe,[te]:!0})),X(te,pe)},ye=()=>{j({name:"",description:"",targetAmount:"",currentAmount:"",targetDate:"",category:"savings",priority:"medium",isActive:!0,notes:""}),$({}),B({}),d(null),u(!1)},Ve=()=>{setTimeout(()=>{p.current&&p.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},Be=()=>{u(!0),Ve()},ie=q=>{d(q),u(!0),Ve()},J=q=>{o(q.id)},se=q=>{const te={...q,isManuallyCompleted:!0,completedDate:new Date().toISOString().split("T")[0]};a(te)},ge=q=>{x(q),y(""),g(!0)},ee=q=>{q.preventDefault();const te=parseFloat(b);if(te<=0||isNaN(te)){alert("Please enter a valid contribution amount");return}const pe={...w,currentAmount:w.currentAmount+te,lastContribution:new Date().toISOString().split("T")[0],contributionHistory:[...w.contributionHistory||[],{amount:te,date:new Date().toISOString().split("T")[0],id:Date.now().toString()+Math.random().toString(36).substr(2,9)}]},Oe=r.find(tt=>tt.name==="Savings"),ce=Oe?Oe.id:"1",Ee={amount:te,description:`Contribution to ${w.name}`,categoryId:ce,subcategory:`Goal: ${w.name}`,date:new Date().toISOString().split("T")[0],type:"expense",isGoalContribution:!0,goalId:w.id};a(pe),s(Ee),g(!1),x(null),y("")},Pe=q=>{const te=q.currentAmount/q.targetAmount*100,pe=q.targetAmount-q.currentAmount,Oe=new Date(q.targetDate),Ee=Math.ceil((Oe-new Date)/(1e3*60*60*24)),tt=Ee<0,yn=te>=100||q.isManuallyCompleted,ql=Math.max(1,Math.ceil(Ee/30)),Vg=pe/ql;let hr="on-track";return yn?hr="completed":tt?hr="overdue":Ee<=30?hr="urgent":te<25&&Ee<=90&&(hr="behind"),{progress:Math.min(te,100),remaining:pe,daysRemaining:Ee,monthsRemaining:ql,requiredMonthlySavings:Math.max(0,Vg),isOverdue:tt,isCompleted:yn,isTargetReached:te>=100,canBeCompleted:te>=100&&!q.isManuallyCompleted,status:hr}},xe=q=>{switch(q){case"high":return{icon:IV,color:"#ef4444",label:"High Priority"};case"medium":return{icon:Zn,color:"#f59e0b",label:"Medium Priority"};case"low":return{icon:f0,color:"#6b7280",label:"Low Priority"};default:return{icon:Zn,color:"#6b7280",label:"Medium Priority"}}},ze=q=>{switch(q){case"completed":return{icon:Hu,color:"#10b981",label:"Completed"};case"overdue":return{icon:Vh,color:"#ef4444",label:"Overdue"};case"urgent":return{icon:f0,color:"#f59e0b",label:"Urgent"};case"behind":return{icon:Am,color:"#f97316",label:"Behind Schedule"};case"on-track":return{icon:bo,color:"#10b981",label:"On Track"};default:return{icon:Zn,color:"#6b7280",label:"Active"}}},Qe=[{value:"savings",label:"💰 General Savings"},{value:"emergency",label:"🚨 Emergency Fund"},{value:"vacation",label:"✈️ Vacation"},{value:"house",label:"🏠 House/Property"},{value:"car",label:"🚗 Vehicle"},{value:"education",label:"🎓 Education"},{value:"retirement",label:"👴 Retirement"},{value:"investment",label:"📈 Investment"},{value:"debt",label:"💳 Debt Payoff"},{value:"other",label:"🎯 Other"}],Tt=[{value:"high",label:"High Priority"},{value:"medium",label:"Medium Priority"},{value:"low",label:"Low Priority"}],gn=[...t.filter(q=>{const te=Pe(q);return E?!te.isCompleted:te.isCompleted})].sort((q,te)=>{const pe={high:3,medium:2,low:1},Oe={overdue:5,urgent:4,behind:3,"on-track":2,completed:1},ce=Pe(q),Ee=Pe(te),tt=Oe[Ee.status]-Oe[ce.status];if(tt!==0)return tt;const yn=pe[te.priority]-pe[q.priority];return yn!==0?yn:!ce.isCompleted&&!Ee.isCompleted?ce.progress-Ee.progress:0}),ne=gn.slice(0,A),ue=gn.length>A;return h.jsxs("div",{className:"goal-tracking",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Goal Tracking"}),h.jsxs("button",{onClick:Be,className:"add-button",disabled:l,children:[h.jsx(Vr,{size:20}),"Add Savings Goal"]})]}),t.length>0&&h.jsx("div",{className:"goals-filter-section",children:h.jsxs("div",{className:"filter-toggle-group",children:[h.jsxs("button",{className:`filter-toggle-btn ${E?"active":""}`,onClick:()=>{N(!0),P(5)},children:["Active (",t.filter(q=>!Pe(q).isCompleted).length,")"]}),h.jsxs("button",{className:`filter-toggle-btn ${E?"":"active"}`,onClick:()=>{N(!1),P(5)},children:["Completed (",t.filter(q=>Pe(q).isCompleted).length,")"]})]})}),t.length>0&&h.jsx("div",{className:"goals-summary-compact",children:h.jsxs("div",{className:"summary-compact-grid",children:[h.jsxs("div",{className:"summary-metric",children:[h.jsx(Zn,{size:16,className:"metric-icon"}),h.jsx("span",{className:"metric-value",children:t.length}),h.jsx("span",{className:"metric-label",children:"Total"})]}),h.jsxs("div",{className:"summary-metric completed",children:[h.jsx(Hu,{size:16,className:"metric-icon"}),h.jsx("span",{className:"metric-value",children:t.filter(q=>Pe(q).isCompleted).length}),h.jsx("span",{className:"metric-label",children:"Done"})]}),h.jsxs("div",{className:"summary-metric progress",children:[h.jsx(bo,{size:16,className:"metric-icon"}),h.jsx("span",{className:"metric-value",children:t.filter(q=>!Pe(q).isCompleted&&q.isActive).length}),h.jsx("span",{className:"metric-label",children:"Active"})]}),h.jsxs("div",{className:"summary-metric amount",children:[h.jsx(d0,{size:16,className:"metric-icon"}),h.jsxs("span",{className:"metric-value",children:[(t.reduce((q,te)=>q+te.targetAmount,0)/1e3).toFixed(0),"k"]}),h.jsx("span",{className:"metric-label",children:"Target"})]})]})}),l&&h.jsx("div",{className:"goal-form-container",ref:p,children:h.jsxs("form",{onSubmit:V,className:"goal-form",noValidate:!0,children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:c?"Edit Savings Goal":"Add Savings Goal"}),h.jsx("button",{type:"button",onClick:ye,className:"icon-button",disabled:F,children:h.jsx(_o,{size:20})})]}),h.jsxs("div",{className:"form-content",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",children:"Goal Name *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"text",id:"name",name:"name",value:k.name,onChange:G,onBlur:me,required:!0,placeholder:"e.g., Emergency Fund, Vacation to Europe",className:C.name&&R.name?"error":"",disabled:F,maxLength:"100"}),C.name&&R.name&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:C.name})]}),h.jsxs("div",{className:"char-count",children:[k.name.length,"/100"]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"description",children:"Description"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("textarea",{id:"description",name:"description",value:k.description,onChange:G,rows:"3",placeholder:"Describe your goal (optional)",disabled:F,maxLength:"500"}),h.jsxs("div",{className:"char-count",children:[k.description.length,"/500"]})]})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"targetAmount",children:["Target Amount (",M==null?void 0:M.symbol,") *"]}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"number",id:"targetAmount",name:"targetAmount",value:k.targetAmount,onChange:G,onBlur:me,step:"0.01",min:"0",required:!0,placeholder:"0.00",className:C.targetAmount&&R.targetAmount?"error":"",disabled:F,autoComplete:"off"}),C.targetAmount&&R.targetAmount&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:C.targetAmount})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"currentAmount",children:["Current Amount (",M==null?void 0:M.symbol,")"]}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"number",id:"currentAmount",name:"currentAmount",value:k.currentAmount,onChange:G,onBlur:me,step:"0.01",min:"0",placeholder:"0.00",className:C.currentAmount&&R.currentAmount?"error":"",disabled:F,autoComplete:"off"}),C.currentAmount&&R.currentAmount&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:C.currentAmount})]})]})]})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"targetDate",children:"Target Date *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"date",id:"targetDate",name:"targetDate",value:k.targetDate,onChange:G,onBlur:me,required:!0,className:C.targetDate&&R.targetDate?"error":"",disabled:F}),C.targetDate&&R.targetDate&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:C.targetDate})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"category",children:"Category"}),h.jsx("select",{id:"category",name:"category",value:k.category,onChange:G,disabled:F,children:Qe.map(q=>h.jsx("option",{value:q.value,children:q.label},q.value))})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"priority",children:"Priority"}),h.jsx("select",{id:"priority",name:"priority",value:k.priority,onChange:G,disabled:F,children:Tt.map(q=>h.jsx("option",{value:q.value,children:q.label},q.value))})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"notes",children:"Notes"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("textarea",{id:"notes",name:"notes",value:k.notes,onChange:G,rows:"3",placeholder:"Additional notes or action steps (optional)",disabled:F,maxLength:"500"}),h.jsxs("div",{className:"char-count",children:[k.notes.length,"/500"]})]})]}),h.jsx("div",{className:"form-group",children:h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",name:"isActive",checked:k.isActive,onChange:G,disabled:F}),h.jsx("span",{children:"Active (track progress towards this goal)"})]})})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:ye,className:"cancel-button",disabled:F,children:"Cancel"}),h.jsx("button",{type:"submit",className:"save-button",disabled:!H(),children:F?h.jsxs(h.Fragment,{children:[h.jsx(o_,{size:16,className:"spinning"}),c?"Updating...":"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(bf,{size:16}),c?"Update":"Save"," Goal"]})})]})]})}),ne.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"goals-list",children:ne.map(q=>{const te=Pe(q),pe=xe(q.priority),Oe=ze(te.status),ce=pe.icon,Ee=Oe.icon,tt=Qe.find(yn=>yn.value===q.category);return h.jsxs("div",{className:`goal-item ${te.status} ${q.isActive?"":"inactive"}`,children:[h.jsxs("div",{className:"goal-header",children:[h.jsxs("div",{className:"goal-title-section",children:[h.jsx("h4",{className:"goal-name",children:q.name}),h.jsxs("div",{className:"goal-meta",children:[h.jsx("span",{className:"goal-category",children:tt?tt.label:"🎯 Other"}),h.jsxs("span",{className:"goal-priority",style:{color:pe.color},children:[h.jsx(ce,{size:14}),pe.label]}),h.jsxs("span",{className:"goal-status",style:{color:Oe.color},children:[h.jsx(Ee,{size:14}),Oe.label]})]})]}),h.jsxs("div",{className:"goal-actions",children:[!te.isCompleted&&h.jsx("button",{onClick:()=>ge(q),className:"icon-button contribute-button",title:"Add contribution",children:h.jsx(Vr,{size:16})}),!te.isCompleted&&h.jsx("button",{onClick:()=>ie(q),className:"icon-button edit-button",title:"Edit goal",children:h.jsx(Vs,{size:16})}),h.jsx("button",{onClick:()=>J(q),className:"icon-button delete-button",title:"Delete goal",children:h.jsx(Fs,{size:16})})]})]}),q.description&&h.jsx("p",{className:"goal-description",children:q.description}),h.jsxs("div",{className:"goal-progress-section",children:[h.jsxs("div",{className:"progress-info",children:[h.jsxs("div",{className:"amount-info",children:[h.jsxs("span",{className:"current-amount",children:[M==null?void 0:M.symbol," ",ii(q.currentAmount)]}),h.jsx(uV,{size:16,className:"arrow"}),h.jsxs("span",{className:"target-amount",children:[M==null?void 0:M.symbol," ",ii(q.targetAmount)]})]}),h.jsxs("div",{className:"progress-percentage",children:[te.progress.toFixed(1),"%"]})]}),h.jsx("div",{className:"progress-bar",children:h.jsx("div",{className:"progress-fill",style:{width:`${te.progress}%`,backgroundColor:Oe.color}})}),h.jsxs("div",{className:"goal-stats",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Remaining"}),h.jsxs("span",{className:"stat-value",children:[M==null?void 0:M.symbol," ",ii(te.remaining)]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Days left"}),h.jsx("span",{className:`stat-value ${te.isOverdue?"overdue":""}`,children:te.isOverdue?`${Math.abs(te.daysRemaining)} days overdue`:`${te.daysRemaining} days`})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Target date"}),h.jsx("span",{className:"stat-value",children:new Date(q.targetDate).toLocaleDateString()})]}),!te.isCompleted&&te.requiredMonthlySavings>0&&h.jsxs("div",{className:"stat-item recommended",children:[h.jsx("span",{className:"stat-label",children:"Monthly suggestion"}),h.jsxs("span",{className:"stat-value highlight",children:[M==null?void 0:M.symbol," ",ii(te.requiredMonthlySavings)]})]})]})]}),q.notes&&h.jsxs("div",{className:"goal-notes",children:[h.jsx("strong",{children:"Notes:"})," ",q.notes]}),te.canBeCompleted&&h.jsxs("div",{className:"goal-completion-cta",children:[h.jsxs("div",{className:"completion-message",children:[h.jsx(Hu,{size:20,className:"success-icon"}),h.jsx("span",{children:"🎉 Congratulations! You've reached your goal!"})]}),h.jsxs("button",{onClick:()=>se(q),className:"complete-goal-button",children:[h.jsx(pS,{size:16}),"Mark as Completed"]})]}),te.isCompleted&&q.isManuallyCompleted&&h.jsxs("div",{className:"completion-badge",children:[h.jsx(pS,{size:20}),h.jsx("span",{children:"Goal Achieved!"}),q.completedDate&&h.jsxs("span",{className:"completion-date",children:["Completed on ",new Date(q.completedDate).toLocaleDateString()]})]})]},q.id)})}),ue&&h.jsx("div",{className:"load-more-container",children:h.jsxs("button",{onClick:()=>P(q=>q+5),className:"load-more-button",children:["Load More Goals (",gn.length-A," remaining)"]})})]}):h.jsxs("div",{className:"empty-state",children:[h.jsx(Zn,{size:48}),h.jsx("h3",{children:"No Savings Goals"}),h.jsx("p",{children:"Create your first savings goal to start tracking your financial progress."}),h.jsxs("button",{onClick:Be,className:"add-button",children:[h.jsx(Vr,{size:20}),"Add Your First Goal"]})]}),m&&w&&h.jsx("div",{className:"modal-overlay",children:h.jsxs("div",{className:"contribution-modal",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h3",{children:"Add Contribution"}),h.jsx("button",{onClick:()=>g(!1),className:"icon-button",children:h.jsx(_o,{size:20})})]}),h.jsxs("form",{onSubmit:ee,className:"contribution-form",children:[h.jsxs("div",{className:"goal-info",children:[h.jsx("h4",{children:w.name}),h.jsxs("div",{className:"current-progress",children:[h.jsxs("span",{children:["Current: ",M==null?void 0:M.symbol," ",ii(w.currentAmount)]}),h.jsxs("span",{children:["Target: ",M==null?void 0:M.symbol," ",ii(w.targetAmount)]})]}),h.jsxs("div",{className:"remaining-amount",children:["Remaining: ",M==null?void 0:M.symbol," ",ii(w.targetAmount-w.currentAmount)]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"contribution-amount",children:"Contribution Amount"}),h.jsxs("div",{className:"amount-input-wrapper",children:[h.jsx("span",{className:"currency-symbol",children:M==null?void 0:M.symbol}),h.jsx("input",{id:"contribution-amount",type:"number",step:"0.01",min:"0.01",value:b,onChange:q=>y(q.target.value),placeholder:"0.00",required:!0,autoFocus:!0})]})]}),h.jsxs("div",{className:"quick-amounts",children:[h.jsx("span",{className:"quick-label",children:"Quick amounts:"}),Pe(w).requiredMonthlySavings>0&&h.jsxs("button",{type:"button",onClick:()=>y(Pe(w).requiredMonthlySavings.toFixed(2)),className:"quick-amount-btn",children:["Suggested: ",M==null?void 0:M.symbol," ",ii(Pe(w).requiredMonthlySavings)]}),h.jsxs("button",{type:"button",onClick:()=>y("50"),className:"quick-amount-btn",children:[M==null?void 0:M.symbol,"50"]}),h.jsxs("button",{type:"button",onClick:()=>y("100"),className:"quick-amount-btn",children:[M==null?void 0:M.symbol,"100"]})]}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{type:"button",onClick:()=>g(!1),className:"cancel-button",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"add-button",disabled:!b||parseFloat(b)<=0,children:[h.jsx(Vr,{size:16}),"Add Contribution"]})]})]})]})}),h.jsx(fx,{isOpen:S,onClose:()=>v(!1),title:"Monthly Goal Reminders",type:"info",children:h.jsx("div",{className:"reminders-modal-content",children:T.length>0?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"reminder-intro",children:"The following goals need your attention:"}),h.jsx("div",{className:"reminder-goals-list",children:T.map(q=>{const te=Pe(q),pe=q.lastContribution?new Date(q.lastContribution):new Date(q.createdDate||"2024-01-01"),Oe=Math.ceil((new Date-pe)/(1e3*60*60*24));return h.jsxs("div",{className:"reminder-goal-item",children:[h.jsxs("div",{className:"goal-info",children:[h.jsx("h4",{className:"goal-name",children:q.name}),h.jsxs("div",{className:"goal-details",children:[h.jsxs("p",{className:"goal-status",children:["Status: ",h.jsx("span",{className:`status-badge ${te.status}`,children:te.status.replace("-"," ")})]}),h.jsxs("p",{className:"last-contribution",children:["Last contribution: ",h.jsxs("strong",{children:[Oe," days ago"]})]}),te.requiredMonthlySavings>0&&h.jsxs("p",{className:"monthly-suggestion",children:["Monthly suggestion: ",h.jsxs("strong",{children:[M==null?void 0:M.symbol," ",ii(te.requiredMonthlySavings)]})]})]})]}),h.jsxs("button",{onClick:()=>{x(q),v(!1),g(!0)},className:"contribute-btn",children:[h.jsx(Vr,{size:16}),"Add Contribution"]})]},q.id)})})]}):h.jsxs("div",{className:"no-reminders",children:[h.jsx(Zn,{size:48,className:"no-reminders-icon"}),h.jsx("h4",{className:"no-reminders-title",children:"All Goals Up to Date!"}),h.jsx("p",{className:"no-reminders-text",children:"Great job! All your active goals have recent contributions or are on track."})]})})})]})}const lge=({isOpen:t,onClose:e,title:n,message:r,type:i="info"})=>h.jsx(fx,{isOpen:t,onClose:e,title:n,type:i,children:h.jsxs("div",{className:"alert-content",children:[h.jsx("p",{className:"alert-message",children:r}),h.jsx("div",{className:"alert-actions",children:h.jsx("button",{className:"btn btn-primary",onClick:e,children:"OK"})})]})}),uge=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState({}),[i,a]=L.useState(null);return{isOpen:t,modalProps:n,showAlert:({title:c,message:d,type:p="info"})=>(r({title:c,message:d,type:p,modalType:"alert"}),e(!0),new Promise(m=>{a(()=>m)})),showConfirm:({title:c,message:d,confirmText:p="Confirm",cancelText:m="Cancel",type:g="confirm",isDestructive:w=!1})=>(r({title:c,message:d,confirmText:p,cancelText:m,type:g,isDestructive:w,modalType:"confirm"}),e(!0),new Promise(x=>{a(()=>x)})),closeModal:()=>{e(!1),i&&(i(!1),a(null))},confirmModal:()=>{e(!1),i&&(i(!0),a(null))}}};function cge(){const{currentUser:t,logout:e}=Xm(),{transactions:n,categories:r,budgets:i,recurringTransactions:a,goals:o,settings:s,loading:l,error:u,addTransaction:c,updateTransaction:d,deleteTransaction:p,addCategory:m,updateCategory:g,deleteCategory:w,addBudget:x,updateBudget:b,deleteBudget:y,addGoal:E,updateGoal:N,deleteGoal:A,addRecurringTransaction:P,updateRecurringTransaction:S,deleteRecurringTransaction:v,updateSettings:T,clearError:O}=Z5(),[k,j]=L.useState("dashboard"),[C,$]=L.useState(!1),[F,W]=L.useState(null),R=uge();if(l)return h.jsxs("div",{className:"loading-container",children:[h.jsx("div",{className:"loading-spinner"}),h.jsx("p",{children:"Loading your financial data..."})]});L.useEffect(()=>{document.documentElement.setAttribute("data-theme",s.theme)},[s.theme]),L.useEffect(()=>{if(u){const ne=setTimeout(()=>{O()},5e3);return()=>clearTimeout(ne)}},[u,O]),L.useEffect(()=>{let ne=window.scrollY,ue=!1;const q=()=>{const Oe=document.querySelector(".header"),ce=document.querySelector(".nav");if(Oe&&ce)if(Oe.classList.contains("hidden"))ce.style.top="0px",ce.classList.add("header-hidden");else{const Ee=Oe.offsetHeight;ce.style.top=`${Ee}px`,ce.classList.remove("header-hidden")}},te=()=>{const Oe=window.scrollY,ce=document.querySelector(".header"),Ee=document.querySelector(".nav");if(ue=Oe>ne,ce){const tt=ce.classList.contains("hidden");Oe>100&&ue?ce.classList.add("hidden"):(!ue||Oe<50)&&ce.classList.remove("hidden");const yn=ce.classList.contains("hidden");tt!==yn&&q(),Oe>10?ce.classList.add("scrolled"):ce.classList.remove("scrolled")}Ee&&(Oe>10?Ee.classList.add("scrolled"):Ee.classList.remove("scrolled")),ne=Oe};q();const pe=()=>{q()};return window.addEventListener("scroll",te),window.addEventListener("resize",pe),()=>{window.removeEventListener("scroll",te),window.removeEventListener("resize",pe)}},[]);const B=async ne=>{try{await c(ne),$(!1),await R.showAlert({title:"Transaction Added",message:"Transaction has been successfully saved to your account.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add transaction. Please try again.",type:"error"})}},M=async ne=>{try{await d(ne.id,ne),W(null),$(!1),await R.showAlert({title:"Transaction Updated",message:"Transaction has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update transaction. Please try again.",type:"error"})}},X=async ne=>{const ue=n.find(Ee=>Ee.id===ne);if(!ue)return;const q=r.find(Ee=>Ee.id===ue.categoryId),te=q?q.name:"Unknown Category",pe=Tn.find(Ee=>Ee.code===s.currency)||Tn[0],Oe=`${ue.type==="expense"?"-":"+"}${pe.symbol}${Math.abs(ue.amount).toFixed(2)}`;if(await R.showConfirm({title:"Delete Transaction",message:`Are you sure you want to delete this transaction?

📝 ${ue.description}
💰 ${Oe}
🏷️ ${te}
📅 ${new Date(ue.date).toLocaleDateString()}

This action cannot be undone.`,confirmText:"Delete Transaction",cancelText:"Cancel",type:"confirm",isDestructive:!0}))try{await p(ne),await R.showAlert({title:"Transaction Deleted",message:"The transaction has been successfully deleted.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete transaction. Please try again.",type:"error"})}},H=async ne=>{try{await m(ne),await R.showAlert({title:"Category Added",message:"Category has been successfully created.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add category. Please try again.",type:"error"})}},V=async ne=>{try{await g(ne.id,ne),await R.showAlert({title:"Category Updated",message:"Category has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update category. Please try again.",type:"error"})}},G=async ne=>{const ue=r.find(ce=>ce.id===ne);if(!ue)return;const q=n.filter(ce=>ce.categoryId===ne),te=i.filter(ce=>ce.categoryId===ne);let pe=`Are you sure you want to delete the category "${ue.name}"?

`;if(q.length>0&&(pe+=`⚠️ This will affect ${q.length} transaction(s) using this category.
`),te.length>0&&(pe+=`⚠️ This will also delete ${te.length} budget(s) for this category.
`),pe+=`
This action cannot be undone.`,await R.showConfirm({title:"Delete Category",message:pe,confirmText:"Delete Category",cancelText:"Cancel",type:"warning",isDestructive:!0}))try{await w(ne),te.length>0&&await Promise.all(te.map(ce=>y(ce.id))),await R.showAlert({title:"Category Deleted",message:`The category "${ue.name}" has been successfully deleted.${q.length>0?`

${q.length} transaction(s) will now show "Unknown Category".`:""}`,type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete category. Please try again.",type:"error"})}},me=async ne=>{try{await x(ne),await R.showAlert({title:"Budget Added",message:"Budget has been successfully created.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add budget. Please try again.",type:"error"})}},ye=async ne=>{try{await b(ne.id,ne),await R.showAlert({title:"Budget Updated",message:"Budget has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update budget. Please try again.",type:"error"})}},Ve=async ne=>{const ue=i.find(ce=>ce.id===ne);if(!ue)return;const q=r.find(ce=>ce.id===ue.categoryId),te=q?q.name:"Unknown Category",pe=Tn.find(ce=>ce.code===s.currency)||Tn[0];if(await R.showConfirm({title:"Delete Budget",message:`Are you sure you want to delete this budget?

📊 ${ue.name||te+" Budget"}
💰 ${pe.symbol}${ue.amount.toFixed(2)} per ${ue.period}
🏷️ ${te}

This action cannot be undone.`,confirmText:"Delete Budget",cancelText:"Cancel",type:"confirm",isDestructive:!0}))try{await y(ne),await R.showAlert({title:"Budget Deleted",message:"The budget has been successfully deleted.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete budget. Please try again.",type:"error"})}},Be=async ne=>{try{await E(ne),await R.showAlert({title:"Goal Added",message:"Goal has been successfully created.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add goal. Please try again.",type:"error"})}},ie=async ne=>{try{await N(ne.id,ne),await R.showAlert({title:"Goal Updated",message:"Goal has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update goal. Please try again.",type:"error"})}},J=async ne=>{try{await A(ne),await R.showAlert({title:"Goal Deleted",message:"Goal has been successfully deleted.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete goal. Please try again.",type:"error"})}},se=async ne=>{try{await P(ne),await R.showAlert({title:"Recurring Transaction Added",message:"Recurring transaction has been successfully created.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add recurring transaction. Please try again.",type:"error"})}},ge=async ne=>{try{await S(ne.id,ne),await R.showAlert({title:"Recurring Transaction Updated",message:"Recurring transaction has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update recurring transaction. Please try again.",type:"error"})}},ee=async ne=>{const ue=a.find(ce=>ce.id===ne);if(!ue)return;const q=r.find(ce=>ce.id===ue.categoryId),te=q?q.name:"Unknown Category",pe=Tn.find(ce=>ce.code===s.currency)||Tn[0];if(await R.showConfirm({title:"Delete Recurring Transaction",message:`Are you sure you want to delete this recurring transaction?

📋 ${ue.description}
💰 ${pe.symbol}${ue.amount.toFixed(2)}
🔄 ${ue.frequency.charAt(0).toUpperCase()+ue.frequency.slice(1)}
🏷️ ${te}

This will not affect already generated transactions.`,confirmText:"Delete Recurring Transaction",cancelText:"Cancel",type:"confirm",isDestructive:!0}))try{await v(ne),await R.showAlert({title:"Recurring Transaction Deleted",message:"The recurring transaction has been successfully deleted.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete recurring transaction. Please try again.",type:"error"})}},Pe=async(ne,ue)=>{try{const q=a.find(te=>te.id===ne);q&&await S(ne,{...q,isActive:ue})}catch{await R.showAlert({title:"Error",message:"Failed to update recurring transaction status.",type:"error"})}},xe=async ne=>{try{await T(ne),await R.showAlert({title:"Settings Updated",message:"Your settings have been successfully saved.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to save settings. Please try again.",type:"error"})}},ze=()=>{const ne=new Date,ue=[];a.filter(q=>q.isActive).forEach(q=>{const te=new Date(q.startDate),pe=q.endDate?new Date(q.endDate):null;if(pe&&ne>pe||te>ne)return;if(Qe(q,ne)){const ce=ne.toISOString().split("T")[0];if(!n.find(tt=>tt.date===ce&&tt.recurringId===q.id)){const tt={id:Date.now().toString()+"_"+q.id,type:q.type,amount:q.amount,description:`${q.description} (Auto)`,categoryId:q.categoryId,date:ce,recurringId:q.id,notes:q.notes||"",createdAt:new Date().toISOString()};ue.push(tt)}}}),ue.length>0&&(setTransactions(q=>[...q,...ue]),console.log(`Generated ${ue.length} recurring transactions`))},Qe=(ne,ue)=>{const q=new Date(ne.startDate);switch(ne.frequency){case"daily":return ue>=q;case"weekly":return ue>=q&&ue.getDay()===ne.dayOfWeek;case"monthly":const te=Math.min(ne.dayOfMonth,Tt(ue));return ue>=q&&ue.getDate()===te;case"yearly":return ue>=q&&ue.getMonth()===q.getMonth()&&ue.getDate()===q.getDate();default:return!1}},Tt=ne=>new Date(ne.getFullYear(),ne.getMonth()+1,0).getDate();L.useEffect(()=>{if(!isInitialized)return;ze();const ne=setInterval(ze,24*60*60*1e3);return()=>clearInterval(ne)},[isInitialized,a]),L.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[k]);const Dn=async()=>{const ne=s.theme==="light"?"dark":"light";await xe({...s,theme:ne})},gn=[{id:"dashboard",label:"Dashboard",icon:rh},{id:"transactions",label:"Transactions",icon:OV},{id:"budgets",label:"Budgets",icon:Zn},{id:"recurring",label:"Recurring",icon:Ku},{id:"goals",label:"Goals",icon:dV},{id:"categories",label:"Categories",icon:hV},{id:"insights",label:"Insights & Reports",icon:bo}];return h.jsxs("div",{className:"app",children:[u&&h.jsxs("div",{className:"error-banner",style:{position:"fixed",top:0,left:0,right:0,background:"#ef4444",color:"white",padding:"8px 16px",textAlign:"center",zIndex:9999},children:[u," ",h.jsx("button",{onClick:O,style:{background:"transparent",border:"1px solid white",color:"white",marginLeft:"8px",padding:"2px 8px",borderRadius:"4px",cursor:"pointer"},children:"✕"})]}),h.jsx("header",{className:"header",style:{marginTop:u?"40px":"0"},children:h.jsxs("div",{className:"header-content",children:[h.jsx("div",{className:"header-left",children:h.jsxs("div",{className:"logo",onClick:()=>j("dashboard"),children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M4 8C4 6.89543 4.89543 6 6 6H24C25.1046 6 26 6.89543 26 8V24C26 25.1046 25.1046 26 24 26H6C4.89543 26 4 25.1046 4 24V8Z",fill:"currentColor",fillOpacity:"0.1",stroke:"currentColor",strokeWidth:"2"}),h.jsx("path",{d:"M4 8V12C4 13.1046 4.89543 14 6 14H20C21.1046 14 22 13.1046 22 12V10",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("circle",{cx:"19",cy:"5",r:"4",fill:"var(--primary-color)",stroke:"var(--primary-dark)",strokeWidth:"1"}),h.jsx("path",{d:"M18.5 3V7M19.5 3V7M17.5 4.5H20.5C20.7761 4.5 21 4.72386 21 5C21 5.27614 20.7761 5.5 20.5 5.5H17.5C17.2239 5.5 17 5.72386 17 6C17 6.27614 17.2239 6.5 17.5 6.5H20.5",stroke:"white",strokeWidth:"0.8",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"7",y:"17",width:"12",height:"1.5",rx:"0.75",fill:"currentColor",fillOpacity:"0.3"}),h.jsx("rect",{x:"7",y:"20",width:"8",height:"1.5",rx:"0.75",fill:"currentColor",fillOpacity:"0.2"})]})}),h.jsx("h1",{children:"CashPilot"})]})}),h.jsxs("div",{className:"header-right",children:[h.jsx("button",{onClick:Dn,className:"icon-button",title:"Toggle theme",children:s.theme==="light"?h.jsx(bV,{size:20}):h.jsx(TV,{size:20})}),h.jsx("select",{value:s.currency,onChange:ne=>xe({...s,currency:ne.target.value}),className:"currency-select",children:Tn.map(ne=>h.jsxs("option",{value:ne.code,children:[ne.symbol," ",ne.code]},ne.code))}),h.jsxs("div",{className:"user-menu",children:[h.jsx("span",{className:"user-name",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),h.jsx("button",{onClick:e,className:"icon-button",title:"Sign out",children:h.jsx(vV,{size:20})})]})]})]})}),h.jsx("nav",{className:"nav",children:h.jsx("div",{className:"nav-content",children:gn.map(ne=>{const ue=ne.icon;return h.jsxs("button",{onClick:()=>j(ne.id),className:`nav-button ${k===ne.id?"active":""}`,children:[h.jsx(ue,{size:20}),h.jsx("span",{children:ne.label})]},ne.id)})})}),h.jsx("main",{className:"main",children:h.jsxs("div",{className:"main-content",children:[k==="dashboard"&&h.jsx(p8,{transactions:n,categories:r,budgets:i,goals:o,recurringTransactions:a,currency:s.currency,onNavigateToTab:j}),k==="transactions"&&h.jsxs("div",{children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Transactions"}),h.jsxs("button",{onClick:()=>{W(null),$(!0)},className:"add-button",children:[h.jsx(EV,{size:20}),"Add Transaction"]})]}),h.jsx(h8,{transactions:n,categories:r,currency:s.currency,onEdit:ne=>{W(ne),$(!0)},onDelete:X})]}),k==="categories"&&h.jsx(m8,{categories:r,onAdd:H,onUpdate:V,onDelete:G}),k==="budgets"&&h.jsx(g8,{budgets:i,categories:r,transactions:n,currency:s.currency,onAdd:me,onUpdate:ye,onDelete:Ve}),k==="recurring"&&h.jsx(w8,{recurringTransactions:a,categories:r,currency:s.currency,onAdd:se,onUpdate:ge,onDelete:ee,onToggleActive:Pe}),k==="insights"&&h.jsx(age,{transactions:n,categories:r,budgets:i,currency:s.currency}),k==="goals"&&h.jsx(sge,{goals:o,transactions:n,currency:s.currency,categories:r,onAdd:Be,onUpdate:ie,onDelete:J,onAddTransaction:B})]})}),C&&h.jsx("div",{className:"modal-overlay",onClick:()=>$(!1),children:h.jsx("div",{className:"modal",onClick:ne=>ne.stopPropagation(),children:h.jsx(nz,{transaction:F,categories:r,currency:s.currency,onSubmit:F?M:B,onCancel:()=>{$(!1),W(null)}})})}),R.modalProps.modalType==="alert"&&h.jsx(lge,{isOpen:R.isOpen,onClose:R.closeModal,title:R.modalProps.title,message:R.modalProps.message,type:R.modalProps.type}),R.modalProps.modalType==="confirm"&&h.jsx(oge,{isOpen:R.isOpen,onClose:R.closeModal,onConfirm:R.confirmModal,title:R.modalProps.title,message:R.modalProps.message,confirmText:R.modalProps.confirmText,cancelText:R.modalProps.cancelText,type:R.modalProps.type,isDestructive:R.modalProps.isDestructive})]})}function fge(){return h.jsx(J5,{children:h.jsx(dge,{})})}function dge(){const{currentUser:t,loading:e}=Xm();return e?h.jsxs("div",{className:"loading-container",children:[h.jsx("div",{className:"loading-spinner"}),h.jsx("p",{children:"Loading..."})]}):t?h.jsx(ez,{children:h.jsx(cge,{})}):h.jsx(tz,{})}vv.createRoot(document.getElementById("root")).render(h.jsx(U.StrictMode,{children:h.jsx(fge,{})}));
