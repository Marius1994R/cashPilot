(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XO={exports:{}},pm={},QO={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=Symbol.for("react.element"),K$=Symbol.for("react.portal"),Y$=Symbol.for("react.fragment"),X$=Symbol.for("react.strict_mode"),Q$=Symbol.for("react.profiler"),J$=Symbol.for("react.provider"),Z$=Symbol.for("react.context"),eL=Symbol.for("react.forward_ref"),tL=Symbol.for("react.suspense"),nL=Symbol.for("react.memo"),rL=Symbol.for("react.lazy"),uE=Symbol.iterator;function iL(t){return t===null||typeof t!="object"?null:(t=uE&&t[uE]||t["@@iterator"],typeof t=="function"?t:null)}var JO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZO=Object.assign,eC={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=eC,this.updater=n||JO}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tC(){}tC.prototype=Tl.prototype;function bb(t,e,n){this.props=t,this.context=e,this.refs=eC,this.updater=n||JO}var _b=bb.prototype=new tC;_b.constructor=bb;ZO(_b,Tl.prototype);_b.isPureReactComponent=!0;var cE=Array.isArray,nC=Object.prototype.hasOwnProperty,xb={current:null},rC={key:!0,ref:!0,__self:!0,__source:!0};function iC(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)nC.call(e,r)&&!rC.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:yf,type:t,key:a,ref:o,props:i,_owner:xb.current}}function aL(t,e){return{$$typeof:yf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eb(t){return typeof t=="object"&&t!==null&&t.$$typeof===yf}function oL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fE=/\/+/g;function ly(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oL(""+t.key):e.toString(36)}function Qd(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yf:case K$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ly(o,0):r,cE(i)?(n="",t!=null&&(n=t.replace(fE,"$&/")+"/"),Qd(i,e,n,"",function(u){return u})):i!=null&&(Eb(i)&&(i=aL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cE(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+ly(a,s);o+=Qd(a,e,n,l,i)}else if(l=iL(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+ly(a,s++),o+=Qd(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cd(t,e,n){if(t==null)return t;var r=[],i=0;return Qd(t,r,"","",function(a){return e.call(n,a,i++)}),r}function sL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},Jd={transition:null},lL={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Jd,ReactCurrentOwner:xb};function aC(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:cd,forEach:function(t,e,n){cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!Eb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Tl;ke.Fragment=Y$;ke.Profiler=Q$;ke.PureComponent=bb;ke.StrictMode=X$;ke.Suspense=tL;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lL;ke.act=aC;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=xb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)nC.call(e,l)&&!rC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:yf,type:t.type,key:i,ref:a,props:r,_owner:o}};ke.createContext=function(t){return t={$$typeof:Z$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:J$,_context:t},t.Consumer=t};ke.createElement=iC;ke.createFactory=function(t){var e=iC.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:eL,render:t}};ke.isValidElement=Eb;ke.lazy=function(t){return{$$typeof:rL,_payload:{_status:-1,_result:t},_init:sL}};ke.memo=function(t,e){return{$$typeof:nL,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Jd.transition;Jd.transition={};try{t()}finally{Jd.transition=e}};ke.unstable_act=aC;ke.useCallback=function(t,e){return xn.current.useCallback(t,e)};ke.useContext=function(t){return xn.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};ke.useEffect=function(t,e){return xn.current.useEffect(t,e)};ke.useId=function(){return xn.current.useId()};ke.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return xn.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};ke.useRef=function(t){return xn.current.useRef(t)};ke.useState=function(t){return xn.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return xn.current.useTransition()};ke.version="18.3.1";QO.exports=ke;var L=QO.exports;const U=tt(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uL=L,cL=Symbol.for("react.element"),fL=Symbol.for("react.fragment"),dL=Object.prototype.hasOwnProperty,hL=uL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pL={key:!0,ref:!0,__self:!0,__source:!0};function oC(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dL.call(e,r)&&!pL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cL,type:t,key:a,ref:o,props:i,_owner:hL.current}}pm.Fragment=fL;pm.jsx=oC;pm.jsxs=oC;XO.exports=pm;var h=XO.exports,Ev={},sC={exports:{}},Kn={},lC={exports:{}},uC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,M){var X=B.length;B.push(M);e:for(;0<X;){var q=X-1>>>1,V=B[q];if(0<i(V,M))B[q]=M,B[X]=V,X=q;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var M=B[0],X=B.pop();if(X!==M){B[0]=X;e:for(var q=0,V=B.length,H=V>>>1;q<H;){var pe=2*(q+1)-1,ve=B[pe],Ve=pe+1,Be=B[Ve];if(0>i(ve,X))Ve<V&&0>i(Be,ve)?(B[q]=Be,B[Ve]=X,q=Ve):(B[q]=ve,B[pe]=X,q=pe);else if(Ve<V&&0>i(Be,X))B[q]=Be,B[Ve]=X,q=Ve;else break e}}return M}function i(B,M){var X=B.sortIndex-M.sortIndex;return X!==0?X:B.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=B)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function N(B){if(w=!1,E(B),!g)if(n(l)!==null)g=!0,W(A);else{var M=n(u);M!==null&&R(N,M.startTime-B)}}function A(B,M){g=!1,w&&(w=!1,b(v),v=-1),m=!0;var X=p;try{for(E(M),f=n(l);f!==null&&(!(f.expirationTime>M)||B&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var V=q(f.expirationTime<=M);M=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(l)&&r(l),E(M)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var pe=n(u);pe!==null&&R(N,pe.startTime-M),H=!1}return H}finally{f=null,p=X,m=!1}}var I=!1,S=null,v=-1,T=5,P=-1;function O(){return!(t.unstable_now()-P<T)}function j(){if(S!==null){var B=t.unstable_now();P=B;var M=!0;try{M=S(!0,B)}finally{M?k():(I=!1,S=null)}}else I=!1}var k;if(typeof y=="function")k=function(){y(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=j,k=function(){F.postMessage(null)}}else k=function(){x(j,0)};function W(B){S=B,I||(I=!0,k())}function R(B,M){v=x(function(){B(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,W(A))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var X=p;p=M;try{return B()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,M){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=p;p=B;try{return M()}finally{p=X}},t.unstable_scheduleCallback=function(B,M,X){var q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=X+V,B={id:c++,callback:M,priorityLevel:B,startTime:X,expirationTime:V,sortIndex:-1},X>q?(B.sortIndex=X,e(u,B),n(l)===null&&B===n(u)&&(w?(b(v),v=-1):w=!0,R(N,X-q))):(B.sortIndex=V,e(l,B),g||m||(g=!0,W(A))),B},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(B){var M=p;return function(){var X=p;p=M;try{return B.apply(this,arguments)}finally{p=X}}}})(uC);lC.exports=uC;var mL=lC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gL=L,Hn=mL;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cC=new Set,uc={};function Ro(t,e){Ms(t,e),Ms(t+"Capture",e)}function Ms(t,e){for(uc[t]=e,t=0;t<e.length;t++)cC.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sv=Object.prototype.hasOwnProperty,yL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dE={},hE={};function vL(t){return Sv.call(hE,t)?!0:Sv.call(dE,t)?!1:yL.test(t)?hE[t]=!0:(dE[t]=!0,!1)}function wL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bL(t,e,n,r){if(e===null||typeof e>"u"||wL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sb=/[\-:]([a-z])/g;function Tb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sb,Tb);en[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sb,Tb);en[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sb,Tb);en[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ab(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bL(e,n,i,r)&&(n=null),r||i===null?vL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Di=gL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),os=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Pb=Symbol.for("react.strict_mode"),Tv=Symbol.for("react.profiler"),fC=Symbol.for("react.provider"),dC=Symbol.for("react.context"),Ib=Symbol.for("react.forward_ref"),Av=Symbol.for("react.suspense"),Pv=Symbol.for("react.suspense_list"),Ob=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),hC=Symbol.for("react.offscreen"),pE=Symbol.iterator;function lu(t){return t===null||typeof t!="object"?null:(t=pE&&t[pE]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,uy;function Iu(t){if(uy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uy=e&&e[1]||""}return`
`+uy+t}var cy=!1;function fy(t,e){if(!t||cy)return"";cy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{cy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Iu(t):""}function _L(t){switch(t.tag){case 5:return Iu(t.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 2:case 15:return t=fy(t.type,!1),t;case 11:return t=fy(t.type.render,!1),t;case 1:return t=fy(t.type,!0),t;default:return""}}function Iv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ss:return"Fragment";case os:return"Portal";case Tv:return"Profiler";case Pb:return"StrictMode";case Av:return"Suspense";case Pv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dC:return(t.displayName||"Context")+".Consumer";case fC:return(t._context.displayName||"Context")+".Provider";case Ib:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ob:return e=t.displayName||null,e!==null?e:Iv(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return Iv(t(e))}catch{}}return null}function xL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iv(e);case 8:return e===Pb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EL(t){var e=pC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dd(t){t._valueTracker||(t._valueTracker=EL(t))}function mC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ov(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gC(t,e){e=e.checked,e!=null&&Ab(t,"checked",e,!1)}function Cv(t,e){gC(t,e);var n=Ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kv(t,e.type,n):e.hasOwnProperty("defaultValue")&&kv(t,e.type,Ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kv(t,e,n){(e!=="number"||bh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ou=Array.isArray;function Es(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Ou(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ea(n)}}function yC(t,e){var n=Ea(e.value),r=Ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hd,wC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SL=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(t){SL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lu[e]=Lu[t]})});function bC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lu.hasOwnProperty(t)&&Lu[t]?(""+e).trim():e+"px"}function _C(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var TL=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dv(t,e){if(e){if(TL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Rv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mv=null;function Cb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $v=null,Ss=null,Ts=null;function wE(t){if(t=bf(t)){if(typeof $v!="function")throw Error(re(280));var e=t.stateNode;e&&(e=wm(e),$v(t.stateNode,t.type,e))}}function xC(t){Ss?Ts?Ts.push(t):Ts=[t]:Ss=t}function EC(){if(Ss){var t=Ss,e=Ts;if(Ts=Ss=null,wE(t),e)for(t=0;t<e.length;t++)wE(e[t])}}function SC(t,e){return t(e)}function TC(){}var dy=!1;function AC(t,e,n){if(dy)return t(e,n);dy=!0;try{return SC(t,e,n)}finally{dy=!1,(Ss!==null||Ts!==null)&&(TC(),EC())}}function fc(t,e){var n=t.stateNode;if(n===null)return null;var r=wm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Lv=!1;if(_i)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){Lv=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Lv=!1}function AL(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Vu=!1,_h=null,xh=!1,Vv=null,PL={onError:function(t){Vu=!0,_h=t}};function IL(t,e,n,r,i,a,o,s,l){Vu=!1,_h=null,AL.apply(PL,arguments)}function OL(t,e,n,r,i,a,o,s,l){if(IL.apply(this,arguments),Vu){if(Vu){var u=_h;Vu=!1,_h=null}else throw Error(re(198));xh||(xh=!0,Vv=u)}}function Mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bE(t){if(Mo(t)!==t)throw Error(re(188))}function CL(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return bE(i),t;if(a===r)return bE(i),e;a=a.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function IC(t){return t=CL(t),t!==null?OC(t):null}function OC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OC(t);if(e!==null)return e;t=t.sibling}return null}var CC=Hn.unstable_scheduleCallback,_E=Hn.unstable_cancelCallback,kL=Hn.unstable_shouldYield,NL=Hn.unstable_requestPaint,Et=Hn.unstable_now,jL=Hn.unstable_getCurrentPriorityLevel,kb=Hn.unstable_ImmediatePriority,kC=Hn.unstable_UserBlockingPriority,Eh=Hn.unstable_NormalPriority,DL=Hn.unstable_LowPriority,NC=Hn.unstable_IdlePriority,mm=null,zr=null;function RL(t){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(mm,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:LL,ML=Math.log,$L=Math.LN2;function LL(t){return t>>>=0,t===0?32:31-(ML(t)/$L|0)|0}var pd=64,md=4194304;function Cu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Cu(s):(a&=o,a!==0&&(r=Cu(a)))}else o=n&~i,o!==0?r=Cu(o):a!==0&&(r=Cu(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function VL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Pr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=VL(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Fv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jC(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function hy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function UL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Nb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function DC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RC,jb,MC,$C,LC,Uv=!1,gd=[],sa=null,la=null,ua=null,dc=new Map,hc=new Map,Xi=[],BL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xE(t,e){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(e.pointerId)}}function cu(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=bf(e),e!==null&&jb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zL(t,e,n,r,i){switch(e){case"focusin":return sa=cu(sa,t,e,n,r,i),!0;case"dragenter":return la=cu(la,t,e,n,r,i),!0;case"mouseover":return ua=cu(ua,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return dc.set(a,cu(dc.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,hc.set(a,cu(hc.get(a)||null,t,e,n,r,i)),!0}return!1}function VC(t){var e=to(t.target);if(e!==null){var n=Mo(e);if(n!==null){if(e=n.tag,e===13){if(e=PC(n),e!==null){t.blockedOn=e,LC(t.priority,function(){MC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mv=r,n.target.dispatchEvent(r),Mv=null}else return e=bf(n),e!==null&&jb(e),t.blockedOn=n,!1;e.shift()}return!0}function EE(t,e,n){Zd(t)&&n.delete(e)}function WL(){Uv=!1,sa!==null&&Zd(sa)&&(sa=null),la!==null&&Zd(la)&&(la=null),ua!==null&&Zd(ua)&&(ua=null),dc.forEach(EE),hc.forEach(EE)}function fu(t,e){t.blockedOn===e&&(t.blockedOn=null,Uv||(Uv=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,WL)))}function pc(t){function e(i){return fu(i,t)}if(0<gd.length){fu(gd[0],t);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sa!==null&&fu(sa,t),la!==null&&fu(la,t),ua!==null&&fu(ua,t),dc.forEach(e),hc.forEach(e),n=0;n<Xi.length;n++)r=Xi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xi.length&&(n=Xi[0],n.blockedOn===null);)VC(n),n.blockedOn===null&&Xi.shift()}var As=Di.ReactCurrentBatchConfig,Th=!0;function qL(t,e,n,r){var i=Ge,a=As.transition;As.transition=null;try{Ge=1,Db(t,e,n,r)}finally{Ge=i,As.transition=a}}function HL(t,e,n,r){var i=Ge,a=As.transition;As.transition=null;try{Ge=4,Db(t,e,n,r)}finally{Ge=i,As.transition=a}}function Db(t,e,n,r){if(Th){var i=Bv(t,e,n,r);if(i===null)Ey(t,e,r,Ah,n),xE(t,r);else if(zL(i,t,e,n,r))r.stopPropagation();else if(xE(t,r),e&4&&-1<BL.indexOf(t)){for(;i!==null;){var a=bf(i);if(a!==null&&RC(a),a=Bv(t,e,n,r),a===null&&Ey(t,e,r,Ah,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ey(t,e,r,null,n)}}var Ah=null;function Bv(t,e,n,r){if(Ah=null,t=Cb(r),t=to(t),t!==null)if(e=Mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ah=t,null}function FC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jL()){case kb:return 1;case kC:return 4;case Eh:case DL:return 16;case NC:return 536870912;default:return 16}default:return 16}}var ra=null,Rb=null,eh=null;function UC(){if(eh)return eh;var t,e=Rb,n=e.length,r,i="value"in ra?ra.value:ra.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return eh=i.slice(t,1<r?1-r:void 0)}function th(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yd(){return!0}function SE(){return!1}function Yn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?yd:SE,this.isPropagationStopped=SE,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),e}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mb=Yn(Al),wf=mt({},Al,{view:0,detail:0}),GL=Yn(wf),py,my,du,gm=mt({},wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$b,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==du&&(du&&t.type==="mousemove"?(py=t.screenX-du.screenX,my=t.screenY-du.screenY):my=py=0,du=t),py)},movementY:function(t){return"movementY"in t?t.movementY:my}}),TE=Yn(gm),KL=mt({},gm,{dataTransfer:0}),YL=Yn(KL),XL=mt({},wf,{relatedTarget:0}),gy=Yn(XL),QL=mt({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),JL=Yn(QL),ZL=mt({},Al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e4=Yn(ZL),t4=mt({},Al,{data:0}),AE=Yn(t4),n4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=i4[t])?!!e[t]:!1}function $b(){return a4}var o4=mt({},wf,{key:function(t){if(t.key){var e=n4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=th(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$b,charCode:function(t){return t.type==="keypress"?th(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?th(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s4=Yn(o4),l4=mt({},gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PE=Yn(l4),u4=mt({},wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$b}),c4=Yn(u4),f4=mt({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),d4=Yn(f4),h4=mt({},gm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p4=Yn(h4),m4=[9,13,27,32],Lb=_i&&"CompositionEvent"in window,Fu=null;_i&&"documentMode"in document&&(Fu=document.documentMode);var g4=_i&&"TextEvent"in window&&!Fu,BC=_i&&(!Lb||Fu&&8<Fu&&11>=Fu),IE=" ",OE=!1;function zC(t,e){switch(t){case"keyup":return m4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function y4(t,e){switch(t){case"compositionend":return WC(e);case"keypress":return e.which!==32?null:(OE=!0,IE);case"textInput":return t=e.data,t===IE&&OE?null:t;default:return null}}function v4(t,e){if(ls)return t==="compositionend"||!Lb&&zC(t,e)?(t=UC(),eh=Rb=ra=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BC&&e.locale!=="ko"?null:e.data;default:return null}}var w4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!w4[t.type]:e==="textarea"}function qC(t,e,n,r){xC(r),e=Ph(e,"onChange"),0<e.length&&(n=new Mb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uu=null,mc=null;function b4(t){nk(t,0)}function ym(t){var e=fs(t);if(mC(e))return t}function _4(t,e){if(t==="change")return e}var HC=!1;if(_i){var yy;if(_i){var vy="oninput"in document;if(!vy){var kE=document.createElement("div");kE.setAttribute("oninput","return;"),vy=typeof kE.oninput=="function"}yy=vy}else yy=!1;HC=yy&&(!document.documentMode||9<document.documentMode)}function NE(){Uu&&(Uu.detachEvent("onpropertychange",GC),mc=Uu=null)}function GC(t){if(t.propertyName==="value"&&ym(mc)){var e=[];qC(e,mc,t,Cb(t)),AC(b4,e)}}function x4(t,e,n){t==="focusin"?(NE(),Uu=e,mc=n,Uu.attachEvent("onpropertychange",GC)):t==="focusout"&&NE()}function E4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ym(mc)}function S4(t,e){if(t==="click")return ym(e)}function T4(t,e){if(t==="input"||t==="change")return ym(e)}function A4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:A4;function gc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sv.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function jE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DE(t,e){var n=jE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jE(n)}}function KC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YC(){for(var t=window,e=bh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bh(t.document)}return e}function Vb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function P4(t){var e=YC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&KC(n.ownerDocument.documentElement,n)){if(r!==null&&Vb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=DE(n,a);var o=DE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I4=_i&&"documentMode"in document&&11>=document.documentMode,us=null,zv=null,Bu=null,Wv=!1;function RE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wv||us==null||us!==bh(r)||(r=us,"selectionStart"in r&&Vb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bu&&gc(Bu,r)||(Bu=r,r=Ph(zv,"onSelect"),0<r.length&&(e=new Mb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=us)))}function vd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cs={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},wy={},XC={};_i&&(XC=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function vm(t){if(wy[t])return wy[t];if(!cs[t])return t;var e=cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XC)return wy[t]=e[n];return t}var QC=vm("animationend"),JC=vm("animationiteration"),ZC=vm("animationstart"),ek=vm("transitionend"),tk=new Map,ME="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(t,e){tk.set(t,e),Ro(e,[t])}for(var by=0;by<ME.length;by++){var _y=ME[by],O4=_y.toLowerCase(),C4=_y[0].toUpperCase()+_y.slice(1);ka(O4,"on"+C4)}ka(QC,"onAnimationEnd");ka(JC,"onAnimationIteration");ka(ZC,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(ek,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function $E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OL(r,e,void 0,t),t.currentTarget=null}function nk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;$E(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;$E(i,s,u),a=l}}}if(xh)throw t=Vv,xh=!1,Vv=null,t}function st(t,e){var n=e[Yv];n===void 0&&(n=e[Yv]=new Set);var r=t+"__bubble";n.has(r)||(rk(e,t,2,!1),n.add(r))}function xy(t,e,n){var r=0;e&&(r|=4),rk(n,t,r,e)}var wd="_reactListening"+Math.random().toString(36).slice(2);function yc(t){if(!t[wd]){t[wd]=!0,cC.forEach(function(n){n!=="selectionchange"&&(k4.has(n)||xy(n,!1,t),xy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wd]||(e[wd]=!0,xy("selectionchange",!1,e))}}function rk(t,e,n,r){switch(FC(e)){case 1:var i=qL;break;case 4:i=HL;break;default:i=Db}n=i.bind(null,e,n,t),i=void 0,!Lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ey(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=to(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}AC(function(){var u=a,c=Cb(n),f=[];e:{var p=tk.get(t);if(p!==void 0){var m=Mb,g=t;switch(t){case"keypress":if(th(n)===0)break e;case"keydown":case"keyup":m=s4;break;case"focusin":g="focus",m=gy;break;case"focusout":g="blur",m=gy;break;case"beforeblur":case"afterblur":m=gy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=TE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=c4;break;case QC:case JC:case ZC:m=JL;break;case ek:m=d4;break;case"scroll":m=GL;break;case"wheel":m=p4;break;case"copy":case"cut":case"paste":m=e4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=PE}var w=(e&4)!==0,x=!w&&t==="scroll",b=w?p!==null?p+"Capture":null:p;w=[];for(var y=u,E;y!==null;){E=y;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,b!==null&&(N=fc(y,b),N!=null&&w.push(vc(y,N,E)))),x)break;y=y.return}0<w.length&&(p=new m(p,g,null,n,c),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Mv&&(g=n.relatedTarget||n.fromElement)&&(to(g)||g[xi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?to(g):null,g!==null&&(x=Mo(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(w=TE,N="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=PE,N="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?p:fs(m),E=g==null?p:fs(g),p=new w(N,y+"leave",m,n,c),p.target=x,p.relatedTarget=E,N=null,to(c)===u&&(w=new w(b,y+"enter",g,n,c),w.target=E,w.relatedTarget=x,N=w),x=N,m&&g)t:{for(w=m,b=g,y=0,E=w;E;E=Ko(E))y++;for(E=0,N=b;N;N=Ko(N))E++;for(;0<y-E;)w=Ko(w),y--;for(;0<E-y;)b=Ko(b),E--;for(;y--;){if(w===b||b!==null&&w===b.alternate)break t;w=Ko(w),b=Ko(b)}w=null}else w=null;m!==null&&LE(f,p,m,w,!1),g!==null&&x!==null&&LE(f,x,g,w,!0)}}e:{if(p=u?fs(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=_4;else if(CE(p))if(HC)A=T4;else{A=E4;var I=x4}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=S4);if(A&&(A=A(t,u))){qC(f,A,n,c);break e}I&&I(t,p,u),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&kv(p,"number",p.value)}switch(I=u?fs(u):window,t){case"focusin":(CE(I)||I.contentEditable==="true")&&(us=I,zv=u,Bu=null);break;case"focusout":Bu=zv=us=null;break;case"mousedown":Wv=!0;break;case"contextmenu":case"mouseup":case"dragend":Wv=!1,RE(f,n,c);break;case"selectionchange":if(I4)break;case"keydown":case"keyup":RE(f,n,c)}var S;if(Lb)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ls?zC(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(BC&&n.locale!=="ko"&&(ls||v!=="onCompositionStart"?v==="onCompositionEnd"&&ls&&(S=UC()):(ra=c,Rb="value"in ra?ra.value:ra.textContent,ls=!0)),I=Ph(u,v),0<I.length&&(v=new AE(v,t,null,n,c),f.push({event:v,listeners:I}),S?v.data=S:(S=WC(n),S!==null&&(v.data=S)))),(S=g4?y4(t,n):v4(t,n))&&(u=Ph(u,"onBeforeInput"),0<u.length&&(c=new AE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}nk(f,e)})}function vc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fc(t,n),a!=null&&r.unshift(vc(t,a,i)),a=fc(t,e),a!=null&&r.push(vc(t,a,i))),t=t.return}return r}function Ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LE(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=fc(n,a),l!=null&&o.unshift(vc(n,l,s))):i||(l=fc(n,a),l!=null&&o.push(vc(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var N4=/\r\n?/g,j4=/\u0000|\uFFFD/g;function VE(t){return(typeof t=="string"?t:""+t).replace(N4,`
`).replace(j4,"")}function bd(t,e,n){if(e=VE(e),VE(t)!==e&&n)throw Error(re(425))}function Ih(){}var qv=null,Hv=null;function Gv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kv=typeof setTimeout=="function"?setTimeout:void 0,D4=typeof clearTimeout=="function"?clearTimeout:void 0,FE=typeof Promise=="function"?Promise:void 0,R4=typeof queueMicrotask=="function"?queueMicrotask:typeof FE<"u"?function(t){return FE.resolve(null).then(t).catch(M4)}:Kv;function M4(t){setTimeout(function(){throw t})}function Sy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pc(e)}function ca(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Pl,wc="__reactProps$"+Pl,xi="__reactContainer$"+Pl,Yv="__reactEvents$"+Pl,$4="__reactListeners$"+Pl,L4="__reactHandles$"+Pl;function to(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UE(t);t!==null;){if(n=t[Fr])return n;t=UE(t)}return e}t=n,n=t.parentNode}return null}function bf(t){return t=t[Fr]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function wm(t){return t[wc]||null}var Xv=[],ds=-1;function Na(t){return{current:t}}function ct(t){0>ds||(t.current=Xv[ds],Xv[ds]=null,ds--)}function at(t,e){ds++,Xv[ds]=t.current,t.current=e}var Sa={},pn=Na(Sa),Cn=Na(!1),go=Sa;function $s(t,e){var n=t.type.contextTypes;if(!n)return Sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function Oh(){ct(Cn),ct(pn)}function BE(t,e,n){if(pn.current!==Sa)throw Error(re(168));at(pn,e),at(Cn,n)}function ik(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,xL(t)||"Unknown",i));return mt({},n,r)}function Ch(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sa,go=pn.current,at(pn,t),at(Cn,Cn.current),!0}function zE(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=ik(t,e,go),r.__reactInternalMemoizedMergedChildContext=t,ct(Cn),ct(pn),at(pn,t)):ct(Cn),at(Cn,n)}var oi=null,bm=!1,Ty=!1;function ak(t){oi===null?oi=[t]:oi.push(t)}function V4(t){bm=!0,ak(t)}function ja(){if(!Ty&&oi!==null){Ty=!0;var t=0,e=Ge;try{var n=oi;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,bm=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),CC(kb,ja),i}finally{Ge=e,Ty=!1}}return null}var hs=[],ps=0,kh=null,Nh=0,Zn=[],er=0,yo=null,si=1,li="";function Ga(t,e){hs[ps++]=Nh,hs[ps++]=kh,kh=t,Nh=e}function ok(t,e,n){Zn[er++]=si,Zn[er++]=li,Zn[er++]=yo,yo=t;var r=si;t=li;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var a=32-Pr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,si=1<<32-Pr(e)+i|n<<i|r,li=a+t}else si=1<<a|n<<i|r,li=t}function Fb(t){t.return!==null&&(Ga(t,1),ok(t,1,0))}function Ub(t){for(;t===kh;)kh=hs[--ps],hs[ps]=null,Nh=hs[--ps],hs[ps]=null;for(;t===yo;)yo=Zn[--er],Zn[er]=null,li=Zn[--er],Zn[er]=null,si=Zn[--er],Zn[er]=null}var Wn=null,Bn=null,ft=!1,xr=null;function sk(t,e){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,Bn=ca(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yo!==null?{id:si,overflow:li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,Bn=null,!0):!1;default:return!1}}function Qv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jv(t){if(ft){var e=Bn;if(e){var n=e;if(!WE(t,e)){if(Qv(t))throw Error(re(418));e=ca(n.nextSibling);var r=Wn;e&&WE(t,e)?sk(r,n):(t.flags=t.flags&-4097|2,ft=!1,Wn=t)}}else{if(Qv(t))throw Error(re(418));t.flags=t.flags&-4097|2,ft=!1,Wn=t}}}function qE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function _d(t){if(t!==Wn)return!1;if(!ft)return qE(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gv(t.type,t.memoizedProps)),e&&(e=Bn)){if(Qv(t))throw lk(),Error(re(418));for(;e;)sk(t,e),e=ca(e.nextSibling)}if(qE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=ca(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=Wn?ca(t.stateNode.nextSibling):null;return!0}function lk(){for(var t=Bn;t;)t=ca(t.nextSibling)}function Ls(){Bn=Wn=null,ft=!1}function Bb(t){xr===null?xr=[t]:xr.push(t)}var F4=Di.ReactCurrentBatchConfig;function hu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HE(t){var e=t._init;return e(t._payload)}function uk(t){function e(b,y){if(t){var E=b.deletions;E===null?(b.deletions=[y],b.flags|=16):E.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=pa(b,y),b.index=0,b.sibling=null,b}function a(b,y,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<y?(b.flags|=2,y):E):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,y,E,N){return y===null||y.tag!==6?(y=Ny(E,b.mode,N),y.return=b,y):(y=i(y,E),y.return=b,y)}function l(b,y,E,N){var A=E.type;return A===ss?c(b,y,E.props.children,N,E.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Gi&&HE(A)===y.type)?(N=i(y,E.props),N.ref=hu(b,y,E),N.return=b,N):(N=lh(E.type,E.key,E.props,null,b.mode,N),N.ref=hu(b,y,E),N.return=b,N)}function u(b,y,E,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=jy(E,b.mode,N),y.return=b,y):(y=i(y,E.children||[]),y.return=b,y)}function c(b,y,E,N,A){return y===null||y.tag!==7?(y=co(E,b.mode,N,A),y.return=b,y):(y=i(y,E),y.return=b,y)}function f(b,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ny(""+y,b.mode,E),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fd:return E=lh(y.type,y.key,y.props,null,b.mode,E),E.ref=hu(b,null,y),E.return=b,E;case os:return y=jy(y,b.mode,E),y.return=b,y;case Gi:var N=y._init;return f(b,N(y._payload),E)}if(Ou(y)||lu(y))return y=co(y,b.mode,E,null),y.return=b,y;xd(b,y)}return null}function p(b,y,E,N){var A=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return A!==null?null:s(b,y,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fd:return E.key===A?l(b,y,E,N):null;case os:return E.key===A?u(b,y,E,N):null;case Gi:return A=E._init,p(b,y,A(E._payload),N)}if(Ou(E)||lu(E))return A!==null?null:c(b,y,E,N,null);xd(b,E)}return null}function m(b,y,E,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(E)||null,s(y,b,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case fd:return b=b.get(N.key===null?E:N.key)||null,l(y,b,N,A);case os:return b=b.get(N.key===null?E:N.key)||null,u(y,b,N,A);case Gi:var I=N._init;return m(b,y,E,I(N._payload),A)}if(Ou(N)||lu(N))return b=b.get(E)||null,c(y,b,N,A,null);xd(y,N)}return null}function g(b,y,E,N){for(var A=null,I=null,S=y,v=y=0,T=null;S!==null&&v<E.length;v++){S.index>v?(T=S,S=null):T=S.sibling;var P=p(b,S,E[v],N);if(P===null){S===null&&(S=T);break}t&&S&&P.alternate===null&&e(b,S),y=a(P,y,v),I===null?A=P:I.sibling=P,I=P,S=T}if(v===E.length)return n(b,S),ft&&Ga(b,v),A;if(S===null){for(;v<E.length;v++)S=f(b,E[v],N),S!==null&&(y=a(S,y,v),I===null?A=S:I.sibling=S,I=S);return ft&&Ga(b,v),A}for(S=r(b,S);v<E.length;v++)T=m(S,b,v,E[v],N),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?v:T.key),y=a(T,y,v),I===null?A=T:I.sibling=T,I=T);return t&&S.forEach(function(O){return e(b,O)}),ft&&Ga(b,v),A}function w(b,y,E,N){var A=lu(E);if(typeof A!="function")throw Error(re(150));if(E=A.call(E),E==null)throw Error(re(151));for(var I=A=null,S=y,v=y=0,T=null,P=E.next();S!==null&&!P.done;v++,P=E.next()){S.index>v?(T=S,S=null):T=S.sibling;var O=p(b,S,P.value,N);if(O===null){S===null&&(S=T);break}t&&S&&O.alternate===null&&e(b,S),y=a(O,y,v),I===null?A=O:I.sibling=O,I=O,S=T}if(P.done)return n(b,S),ft&&Ga(b,v),A;if(S===null){for(;!P.done;v++,P=E.next())P=f(b,P.value,N),P!==null&&(y=a(P,y,v),I===null?A=P:I.sibling=P,I=P);return ft&&Ga(b,v),A}for(S=r(b,S);!P.done;v++,P=E.next())P=m(S,b,v,P.value,N),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?v:P.key),y=a(P,y,v),I===null?A=P:I.sibling=P,I=P);return t&&S.forEach(function(j){return e(b,j)}),ft&&Ga(b,v),A}function x(b,y,E,N){if(typeof E=="object"&&E!==null&&E.type===ss&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case fd:e:{for(var A=E.key,I=y;I!==null;){if(I.key===A){if(A=E.type,A===ss){if(I.tag===7){n(b,I.sibling),y=i(I,E.props.children),y.return=b,b=y;break e}}else if(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Gi&&HE(A)===I.type){n(b,I.sibling),y=i(I,E.props),y.ref=hu(b,I,E),y.return=b,b=y;break e}n(b,I);break}else e(b,I);I=I.sibling}E.type===ss?(y=co(E.props.children,b.mode,N,E.key),y.return=b,b=y):(N=lh(E.type,E.key,E.props,null,b.mode,N),N.ref=hu(b,y,E),N.return=b,b=N)}return o(b);case os:e:{for(I=E.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(b,y.sibling),y=i(y,E.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=jy(E,b.mode,N),y.return=b,b=y}return o(b);case Gi:return I=E._init,x(b,y,I(E._payload),N)}if(Ou(E))return g(b,y,E,N);if(lu(E))return w(b,y,E,N);xd(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,E),y.return=b,b=y):(n(b,y),y=Ny(E,b.mode,N),y.return=b,b=y),o(b)):n(b,y)}return x}var Vs=uk(!0),ck=uk(!1),jh=Na(null),Dh=null,ms=null,zb=null;function Wb(){zb=ms=Dh=null}function qb(t){var e=jh.current;ct(jh),t._currentValue=e}function Zv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ps(t,e){Dh=t,zb=ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(zb!==t)if(t={context:t,memoizedValue:e,next:null},ms===null){if(Dh===null)throw Error(re(308));ms=t,Dh.dependencies={lanes:0,firstContext:t}}else ms=ms.next=t;return e}var no=null;function Hb(t){no===null?no=[t]:no.push(t)}function fk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ei(t,r)}function Ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ki=!1;function Gb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ei(t,n)}return i=r.interleaved,i===null?(e.next=e,Hb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ei(t,n)}function nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nb(t,n)}}function GE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rh(t,e,n,r){var i=t.updateQueue;Ki=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,w=s;switch(p=e,m=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=mt({},f,p);break e;case 2:Ki=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);wo|=o,t.lanes=o,t.memoizedState=f}}function KE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var _f={},Wr=Na(_f),bc=Na(_f),_c=Na(_f);function ro(t){if(t===_f)throw Error(re(174));return t}function Kb(t,e){switch(at(_c,e),at(bc,t),at(Wr,_f),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jv(e,t)}ct(Wr),at(Wr,e)}function Fs(){ct(Wr),ct(bc),ct(_c)}function hk(t){ro(_c.current);var e=ro(Wr.current),n=jv(e,t.type);e!==n&&(at(bc,t),at(Wr,n))}function Yb(t){bc.current===t&&(ct(Wr),ct(bc))}var ht=Na(0);function Mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ay=[];function Xb(){for(var t=0;t<Ay.length;t++)Ay[t]._workInProgressVersionPrimary=null;Ay.length=0}var rh=Di.ReactCurrentDispatcher,Py=Di.ReactCurrentBatchConfig,vo=0,pt=null,Rt=null,Bt=null,$h=!1,zu=!1,xc=0,U4=0;function rn(){throw Error(re(321))}function Qb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Jb(t,e,n,r,i,a){if(vo=a,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rh.current=t===null||t.memoizedState===null?q4:H4,t=n(r,i),zu){a=0;do{if(zu=!1,xc=0,25<=a)throw Error(re(301));a+=1,Bt=Rt=null,e.updateQueue=null,rh.current=G4,t=n(r,i)}while(zu)}if(rh.current=Lh,e=Rt!==null&&Rt.next!==null,vo=0,Bt=Rt=pt=null,$h=!1,e)throw Error(re(300));return t}function Zb(){var t=xc!==0;return xc=0,t}function Lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?pt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function ur(){if(Rt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Bt===null?pt.memoizedState:Bt.next;if(e!==null)Bt=e,Rt=t;else{if(t===null)throw Error(re(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Bt===null?pt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Ec(t,e){return typeof e=="function"?e(t):e}function Iy(t){var e=ur(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((vo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,pt.lanes|=c,wo|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Nr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,pt.lanes|=a,wo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oy(t){var e=ur(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Nr(a,e.memoizedState)||(In=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function pk(){}function mk(t,e){var n=pt,r=ur(),i=e(),a=!Nr(r.memoizedState,i);if(a&&(r.memoizedState=i,In=!0),r=r.queue,e_(vk.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Sc(9,yk.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(re(349));vo&30||gk(n,e,i)}return i}function gk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yk(t,e,n,r){e.value=n,e.getSnapshot=r,wk(e)&&bk(t)}function vk(t,e,n){return n(function(){wk(e)&&bk(t)})}function wk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function bk(t){var e=Ei(t,1);e!==null&&Ir(e,t,1,-1)}function YE(t){var e=Lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:t},e.queue=t,t=t.dispatch=W4.bind(null,pt,t),[e.memoizedState,t]}function Sc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _k(){return ur().memoizedState}function ih(t,e,n,r){var i=Lr();pt.flags|=t,i.memoizedState=Sc(1|e,n,void 0,r===void 0?null:r)}function _m(t,e,n,r){var i=ur();r=r===void 0?null:r;var a=void 0;if(Rt!==null){var o=Rt.memoizedState;if(a=o.destroy,r!==null&&Qb(r,o.deps)){i.memoizedState=Sc(e,n,a,r);return}}pt.flags|=t,i.memoizedState=Sc(1|e,n,a,r)}function XE(t,e){return ih(8390656,8,t,e)}function e_(t,e){return _m(2048,8,t,e)}function xk(t,e){return _m(4,2,t,e)}function Ek(t,e){return _m(4,4,t,e)}function Sk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tk(t,e,n){return n=n!=null?n.concat([t]):null,_m(4,4,Sk.bind(null,e,t),n)}function t_(){}function Ak(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pk(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ik(t,e,n){return vo&21?(Nr(n,e)||(n=jC(),pt.lanes|=n,wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function B4(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Py.transition;Py.transition={};try{t(!1),e()}finally{Ge=n,Py.transition=r}}function Ok(){return ur().memoizedState}function z4(t,e,n){var r=ha(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ck(t))kk(e,n);else if(n=fk(t,e,n,r),n!==null){var i=_n();Ir(n,t,r,i),Nk(n,e,r)}}function W4(t,e,n){var r=ha(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ck(t))kk(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Nr(s,o)){var l=e.interleaved;l===null?(i.next=i,Hb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=fk(t,e,i,r),n!==null&&(i=_n(),Ir(n,t,r,i),Nk(n,e,r))}}function Ck(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function kk(t,e){zu=$h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nb(t,n)}}var Lh={readContext:lr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},q4={readContext:lr,useCallback:function(t,e){return Lr().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:XE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ih(4194308,4,Sk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return ih(4,2,t,e)},useMemo:function(t,e){var n=Lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z4.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Lr();return t={current:t},e.memoizedState=t},useState:YE,useDebugValue:t_,useDeferredValue:function(t){return Lr().memoizedState=t},useTransition:function(){var t=YE(!1),e=t[0];return t=B4.bind(null,t[1]),Lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Lr();if(ft){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),Wt===null)throw Error(re(349));vo&30||gk(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,XE(vk.bind(null,r,a,t),[t]),r.flags|=2048,Sc(9,yk.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Lr(),e=Wt.identifierPrefix;if(ft){var n=li,r=si;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=U4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},H4={readContext:lr,useCallback:Ak,useContext:lr,useEffect:e_,useImperativeHandle:Tk,useInsertionEffect:xk,useLayoutEffect:Ek,useMemo:Pk,useReducer:Iy,useRef:_k,useState:function(){return Iy(Ec)},useDebugValue:t_,useDeferredValue:function(t){var e=ur();return Ik(e,Rt.memoizedState,t)},useTransition:function(){var t=Iy(Ec)[0],e=ur().memoizedState;return[t,e]},useMutableSource:pk,useSyncExternalStore:mk,useId:Ok,unstable_isNewReconciler:!1},G4={readContext:lr,useCallback:Ak,useContext:lr,useEffect:e_,useImperativeHandle:Tk,useInsertionEffect:xk,useLayoutEffect:Ek,useMemo:Pk,useReducer:Oy,useRef:_k,useState:function(){return Oy(Ec)},useDebugValue:t_,useDeferredValue:function(t){var e=ur();return Rt===null?e.memoizedState=t:Ik(e,Rt.memoizedState,t)},useTransition:function(){var t=Oy(Ec)[0],e=ur().memoizedState;return[t,e]},useMutableSource:pk,useSyncExternalStore:mk,useId:Ok,unstable_isNewReconciler:!1};function yr(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function e0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xm={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=ha(t),a=pi(r,i);a.payload=e,n!=null&&(a.callback=n),e=fa(t,a,i),e!==null&&(Ir(e,t,i,r),nh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=ha(t),a=pi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=fa(t,a,i),e!==null&&(Ir(e,t,i,r),nh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=ha(t),i=pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=fa(t,i,r),e!==null&&(Ir(e,t,r,n),nh(e,t,r))}};function QE(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!gc(n,r)||!gc(i,a):!0}function jk(t,e,n){var r=!1,i=Sa,a=e.contextType;return typeof a=="object"&&a!==null?a=lr(a):(i=kn(e)?go:pn.current,r=e.contextTypes,a=(r=r!=null)?$s(t,i):Sa),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function JE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xm.enqueueReplaceState(e,e.state,null)}function t0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gb(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=lr(a):(a=kn(e)?go:pn.current,i.context=$s(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(e0(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xm.enqueueReplaceState(i,i.state,null),Rh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Us(t,e){try{var n="",r=e;do n+=_L(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Cy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function n0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K4=typeof WeakMap=="function"?WeakMap:Map;function Dk(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fh||(Fh=!0,d0=r),n0(t,e)},n}function Rk(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){n0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){n0(t,e),typeof r!="function"&&(da===null?da=new Set([this]):da.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ZE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lV.bind(null,t,e,n),e.then(t,t))}function eS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,fa(n,e,1))),n.lanes|=1),t)}var Y4=Di.ReactCurrentOwner,In=!1;function wn(t,e,n,r){e.child=t===null?ck(e,null,n,r):Vs(e,t.child,n,r)}function nS(t,e,n,r,i){n=n.render;var a=e.ref;return Ps(e,i),r=Jb(t,e,n,r,a,i),n=Zb(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(ft&&n&&Fb(e),e.flags|=1,wn(t,e,r,i),e.child)}function rS(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!u_(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Mk(t,e,a,r,i)):(t=lh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:gc,n(o,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=pa(a,r),t.ref=e.ref,t.return=e,e.child=t}function Mk(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(gc(a,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,Si(t,e,i)}return r0(t,e,n,r,i)}function $k(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(ys,Ln),Ln|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(ys,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,at(ys,Ln),Ln|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,at(ys,Ln),Ln|=r;return wn(t,e,i,n),e.child}function Lk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function r0(t,e,n,r,i){var a=kn(n)?go:pn.current;return a=$s(e,a),Ps(e,i),n=Jb(t,e,n,r,a,i),r=Zb(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(ft&&r&&Fb(e),e.flags|=1,wn(t,e,n,i),e.child)}function iS(t,e,n,r,i){if(kn(n)){var a=!0;Ch(e)}else a=!1;if(Ps(e,i),e.stateNode===null)ah(t,e),jk(e,n,r),t0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=kn(n)?go:pn.current,u=$s(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&JE(e,o,r,u),Ki=!1;var p=e.memoizedState;o.state=p,Rh(e,r,o,i),l=e.memoizedState,s!==r||p!==l||Cn.current||Ki?(typeof c=="function"&&(e0(e,n,c,r),l=e.memoizedState),(s=Ki||QE(e,n,s,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dk(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:yr(e.type,s),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=kn(n)?go:pn.current,l=$s(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&JE(e,o,r,l),Ki=!1,p=e.memoizedState,o.state=p,Rh(e,r,o,i);var g=e.memoizedState;s!==f||p!==g||Cn.current||Ki?(typeof m=="function"&&(e0(e,n,m,r),g=e.memoizedState),(u=Ki||QE(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return i0(t,e,n,r,a,i)}function i0(t,e,n,r,i,a){Lk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&zE(e,n,!1),Si(t,e,a);r=e.stateNode,Y4.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vs(e,t.child,null,a),e.child=Vs(e,null,s,a)):wn(t,e,s,a),e.memoizedState=r.state,i&&zE(e,n,!0),e.child}function Vk(t){var e=t.stateNode;e.pendingContext?BE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BE(t,e.context,!1),Kb(t,e.containerInfo)}function aS(t,e,n,r,i){return Ls(),Bb(i),e.flags|=256,wn(t,e,n,r),e.child}var a0={dehydrated:null,treeContext:null,retryLane:0};function o0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fk(t,e,n){var r=e.pendingProps,i=ht.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(ht,i&1),t===null)return Jv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Tm(o,r,0,null),t=co(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=o0(n),e.memoizedState=a0,t):n_(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return X4(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=pa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=pa(s,a):(a=co(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?o0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=a0,r}return a=t.child,t=a.sibling,r=pa(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function n_(t,e){return e=Tm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ed(t,e,n,r){return r!==null&&Bb(r),Vs(e,t.child,null,n),t=n_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X4(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Cy(Error(re(422))),Ed(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Tm({mode:"visible",children:r.children},i,0,null),a=co(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Vs(e,t.child,null,o),e.child.memoizedState=o0(o),e.memoizedState=a0,a);if(!(e.mode&1))return Ed(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(re(419)),r=Cy(a,r,void 0),Ed(t,e,o,r)}if(s=(o&t.childLanes)!==0,In||s){if(r=Wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ei(t,i),Ir(r,t,i,-1))}return l_(),r=Cy(Error(re(421))),Ed(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uV.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Bn=ca(i.nextSibling),Wn=e,ft=!0,xr=null,t!==null&&(Zn[er++]=si,Zn[er++]=li,Zn[er++]=yo,si=t.id,li=t.overflow,yo=e),e=n_(e,r.children),e.flags|=4096,e)}function oS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zv(t.return,e,n)}function ky(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uk(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(wn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oS(t,n,e);else if(t.tag===19)oS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ky(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ky(e,!0,n,null,a);break;case"together":ky(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ah(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=pa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q4(t,e,n){switch(e.tag){case 3:Vk(e),Ls();break;case 5:hk(e);break;case 1:kn(e.type)&&Ch(e);break;case 4:Kb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;at(jh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?Fk(t,e,n):(at(ht,ht.current&1),t=Si(t,e,n),t!==null?t.sibling:null);at(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Uk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,$k(t,e,n)}return Si(t,e,n)}var Bk,s0,zk,Wk;Bk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};s0=function(){};zk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ro(Wr.current);var a=null;switch(n){case"input":i=Ov(t,i),r=Ov(t,r),a=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),a=[];break;case"textarea":i=Nv(t,i),r=Nv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ih)}Dv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Wk=function(t,e,n,r){n!==r&&(e.flags|=4)};function pu(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function J4(t,e,n){var r=e.pendingProps;switch(Ub(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return kn(e.type)&&Oh(),an(e),null;case 3:return r=e.stateNode,Fs(),ct(Cn),ct(pn),Xb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(m0(xr),xr=null))),s0(t,e),an(e),null;case 5:Yb(e);var i=ro(_c.current);if(n=e.type,t!==null&&e.stateNode!=null)zk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return an(e),null}if(t=ro(Wr.current),_d(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Fr]=e,r[wc]=a,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<ku.length;i++)st(ku[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":mE(r,a),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},st("invalid",r);break;case"textarea":yE(r,a),st("invalid",r)}Dv(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&bd(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&bd(r.textContent,s,t),i=["children",""+s]):uc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&st("scroll",r)}switch(n){case"input":dd(r),gE(r,a,!0);break;case"textarea":dd(r),vE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ih)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fr]=e,t[wc]=r,Bk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rv(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<ku.length;i++)st(ku[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":mE(t,r),i=Ov(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),st("invalid",t);break;case"textarea":yE(t,r),i=Nv(t,r),st("invalid",t);break;default:i=r}Dv(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?_C(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wC(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cc(t,l):typeof l=="number"&&cc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(uc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&st("scroll",t):l!=null&&Ab(t,a,l,o))}switch(n){case"input":dd(t),gE(t,r,!1);break;case"textarea":dd(t),vE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ea(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Es(t,!!r.multiple,a,!1):r.defaultValue!=null&&Es(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ih)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)Wk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=ro(_c.current),ro(Wr.current),_d(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(a=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:bd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bd(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return an(e),null;case 13:if(ct(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Bn!==null&&e.mode&1&&!(e.flags&128))lk(),Ls(),e.flags|=98560,a=!1;else if(a=_d(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(re(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[Fr]=e}else Ls(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),a=!1}else xr!==null&&(m0(xr),xr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Mt===0&&(Mt=3):l_())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Fs(),s0(t,e),t===null&&yc(e.stateNode.containerInfo),an(e),null;case 10:return qb(e.type._context),an(e),null;case 17:return kn(e.type)&&Oh(),an(e),null;case 19:if(ct(ht),a=e.memoizedState,a===null)return an(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)pu(a,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mh(t),o!==null){for(e.flags|=128,pu(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(ht,ht.current&1|2),e.child}t=t.sibling}a.tail!==null&&Et()>Bs&&(e.flags|=128,r=!0,pu(a,!1),e.lanes=4194304)}else{if(!r)if(t=Mh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ft)return an(e),null}else 2*Et()-a.renderingStartTime>Bs&&n!==1073741824&&(e.flags|=128,r=!0,pu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Et(),e.sibling=null,n=ht.current,at(ht,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return s_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function Z4(t,e){switch(Ub(e),e.tag){case 1:return kn(e.type)&&Oh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fs(),ct(Cn),ct(pn),Xb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yb(e),null;case 13:if(ct(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ls()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(ht),null;case 4:return Fs(),null;case 10:return qb(e.type._context),null;case 22:case 23:return s_(),null;case 24:return null;default:return null}}var Sd=!1,un=!1,eV=typeof WeakSet=="function"?WeakSet:Set,de=null;function gs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function l0(t,e,n){try{n()}catch(r){vt(t,e,r)}}var sS=!1;function tV(t,e){if(qv=Th,t=YC(),Vb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(s=o),p===a&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hv={focusedElem:t,selectionRange:n},Th=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,x=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:yr(e.type,w),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(N){vt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return g=sS,sS=!1,g}function Wu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&l0(e,n,a)}i=i.next}while(i!==r)}}function Em(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function u0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qk(t){var e=t.alternate;e!==null&&(t.alternate=null,qk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[wc],delete e[Yv],delete e[$4],delete e[L4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hk(t){return t.tag===5||t.tag===3||t.tag===4}function lS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ih));else if(r!==4&&(t=t.child,t!==null))for(c0(t,e,n),t=t.sibling;t!==null;)c0(t,e,n),t=t.sibling}function f0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(f0(t,e,n),t=t.sibling;t!==null;)f0(t,e,n),t=t.sibling}var Yt=null,vr=!1;function Wi(t,e,n){for(n=n.child;n!==null;)Gk(t,e,n),n=n.sibling}function Gk(t,e,n){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(mm,n)}catch{}switch(n.tag){case 5:un||gs(n,e);case 6:var r=Yt,i=vr;Yt=null,Wi(t,e,n),Yt=r,vr=i,Yt!==null&&(vr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(vr?(t=Yt,n=n.stateNode,t.nodeType===8?Sy(t.parentNode,n):t.nodeType===1&&Sy(t,n),pc(t)):Sy(Yt,n.stateNode));break;case 4:r=Yt,i=vr,Yt=n.stateNode.containerInfo,vr=!0,Wi(t,e,n),Yt=r,vr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&l0(n,e,o),i=i.next}while(i!==r)}Wi(t,e,n);break;case 1:if(!un&&(gs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){vt(n,e,s)}Wi(t,e,n);break;case 21:Wi(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Wi(t,e,n),un=r):Wi(t,e,n);break;default:Wi(t,e,n)}}function uS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eV),e.forEach(function(r){var i=cV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Yt=s.stateNode,vr=!1;break e;case 3:Yt=s.stateNode.containerInfo,vr=!0;break e;case 4:Yt=s.stateNode.containerInfo,vr=!0;break e}s=s.return}if(Yt===null)throw Error(re(160));Gk(a,o,i),Yt=null,vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kk(e,t),e=e.sibling}function Kk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),$r(t),r&4){try{Wu(3,t,t.return),Em(3,t)}catch(w){vt(t,t.return,w)}try{Wu(5,t,t.return)}catch(w){vt(t,t.return,w)}}break;case 1:mr(e,t),$r(t),r&512&&n!==null&&gs(n,n.return);break;case 5:if(mr(e,t),$r(t),r&512&&n!==null&&gs(n,n.return),t.flags&32){var i=t.stateNode;try{cc(i,"")}catch(w){vt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&gC(i,a),Rv(s,o);var u=Rv(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?_C(i,f):c==="dangerouslySetInnerHTML"?wC(i,f):c==="children"?cc(i,f):Ab(i,c,f,u)}switch(s){case"input":Cv(i,a);break;case"textarea":yC(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Es(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Es(i,!!a.multiple,a.defaultValue,!0):Es(i,!!a.multiple,a.multiple?[]:"",!1))}i[wc]=a}catch(w){vt(t,t.return,w)}}break;case 6:if(mr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(w){vt(t,t.return,w)}}break;case 3:if(mr(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pc(e.containerInfo)}catch(w){vt(t,t.return,w)}break;case 4:mr(e,t),$r(t);break;case 13:mr(e,t),$r(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(a_=Et())),r&4&&uS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(un=(u=un)||c,mr(e,t),un=u):mr(e,t),$r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(de=t,c=t.child;c!==null;){for(f=de=c;de!==null;){switch(p=de,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wu(4,p,p.return);break;case 1:gs(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){vt(r,n,w)}}break;case 5:gs(p,p.return);break;case 22:if(p.memoizedState!==null){fS(f);continue}}m!==null?(m.return=p,de=m):fS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=bC("display",o))}catch(w){vt(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){vt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mr(e,t),$r(t),r&4&&uS(t);break;case 21:break;default:mr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hk(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cc(i,""),r.flags&=-33);var a=lS(t);f0(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=lS(t);c0(t,s,o);break;default:throw Error(re(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nV(t,e,n){de=t,Yk(t)}function Yk(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sd;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||un;s=Sd;var u=un;if(Sd=o,(un=l)&&!u)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?dS(i):l!==null?(l.return=o,de=l):dS(i);for(;a!==null;)de=a,Yk(a),a=a.sibling;de=i,Sd=s,un=u}cS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,de=a):cS(t)}}function cS(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||Em(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&KE(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}KE(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}un||e.flags&512&&u0(e)}catch(p){vt(e,e.return,p)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function fS(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function dS(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Em(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var a=e.return;try{u0(e)}catch(l){vt(e,a,l)}break;case 5:var o=e.return;try{u0(e)}catch(l){vt(e,o,l)}}}catch(l){vt(e,e.return,l)}if(e===t){de=null;break}var s=e.sibling;if(s!==null){s.return=e.return,de=s;break}de=e.return}}var rV=Math.ceil,Vh=Di.ReactCurrentDispatcher,r_=Di.ReactCurrentOwner,ar=Di.ReactCurrentBatchConfig,$e=0,Wt=null,It=null,Jt=0,Ln=0,ys=Na(0),Mt=0,Tc=null,wo=0,Sm=0,i_=0,qu=null,An=null,a_=0,Bs=1/0,ai=null,Fh=!1,d0=null,da=null,Td=!1,ia=null,Uh=0,Hu=0,h0=null,oh=-1,sh=0;function _n(){return $e&6?Et():oh!==-1?oh:oh=Et()}function ha(t){return t.mode&1?$e&2&&Jt!==0?Jt&-Jt:F4.transition!==null?(sh===0&&(sh=jC()),sh):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:FC(t.type)),t):1}function Ir(t,e,n,r){if(50<Hu)throw Hu=0,h0=null,Error(re(185));vf(t,n,r),(!($e&2)||t!==Wt)&&(t===Wt&&(!($e&2)&&(Sm|=n),Mt===4&&Qi(t,Jt)),Nn(t,r),n===1&&$e===0&&!(e.mode&1)&&(Bs=Et()+500,bm&&ja()))}function Nn(t,e){var n=t.callbackNode;FL(t,e);var r=Sh(t,t===Wt?Jt:0);if(r===0)n!==null&&_E(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_E(n),e===1)t.tag===0?V4(hS.bind(null,t)):ak(hS.bind(null,t)),R4(function(){!($e&6)&&ja()}),n=null;else{switch(DC(r)){case 1:n=kb;break;case 4:n=kC;break;case 16:n=Eh;break;case 536870912:n=NC;break;default:n=Eh}n=rN(n,Xk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xk(t,e){if(oh=-1,sh=0,$e&6)throw Error(re(327));var n=t.callbackNode;if(Is()&&t.callbackNode!==n)return null;var r=Sh(t,t===Wt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bh(t,r);else{e=r;var i=$e;$e|=2;var a=Jk();(Wt!==t||Jt!==e)&&(ai=null,Bs=Et()+500,uo(t,e));do try{oV();break}catch(s){Qk(t,s)}while(!0);Wb(),Vh.current=a,$e=i,It!==null?e=0:(Wt=null,Jt=0,e=Mt)}if(e!==0){if(e===2&&(i=Fv(t),i!==0&&(r=i,e=p0(t,i))),e===1)throw n=Tc,uo(t,0),Qi(t,r),Nn(t,Et()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!iV(i)&&(e=Bh(t,r),e===2&&(a=Fv(t),a!==0&&(r=a,e=p0(t,a))),e===1))throw n=Tc,uo(t,0),Qi(t,r),Nn(t,Et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Ka(t,An,ai);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=a_+500-Et(),10<e)){if(Sh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kv(Ka.bind(null,t,An,ai),e);break}Ka(t,An,ai);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rV(r/1960))-r,10<r){t.timeoutHandle=Kv(Ka.bind(null,t,An,ai),r);break}Ka(t,An,ai);break;case 5:Ka(t,An,ai);break;default:throw Error(re(329))}}}return Nn(t,Et()),t.callbackNode===n?Xk.bind(null,t):null}function p0(t,e){var n=qu;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=Bh(t,e),t!==2&&(e=An,An=n,e!==null&&m0(e)),t}function m0(t){An===null?An=t:An.push.apply(An,t)}function iV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Nr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~i_,e&=~Sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function hS(t){if($e&6)throw Error(re(327));Is();var e=Sh(t,0);if(!(e&1))return Nn(t,Et()),null;var n=Bh(t,e);if(t.tag!==0&&n===2){var r=Fv(t);r!==0&&(e=r,n=p0(t,r))}if(n===1)throw n=Tc,uo(t,0),Qi(t,e),Nn(t,Et()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ka(t,An,ai),Nn(t,Et()),null}function o_(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(Bs=Et()+500,bm&&ja())}}function bo(t){ia!==null&&ia.tag===0&&!($e&6)&&Is();var e=$e;$e|=1;var n=ar.transition,r=Ge;try{if(ar.transition=null,Ge=1,t)return t()}finally{Ge=r,ar.transition=n,$e=e,!($e&6)&&ja()}}function s_(){Ln=ys.current,ct(ys)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D4(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(Ub(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oh();break;case 3:Fs(),ct(Cn),ct(pn),Xb();break;case 5:Yb(r);break;case 4:Fs();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:qb(r.type._context);break;case 22:case 23:s_()}n=n.return}if(Wt=t,It=t=pa(t.current,null),Jt=Ln=e,Mt=0,Tc=null,i_=Sm=wo=0,An=qu=null,no!==null){for(e=0;e<no.length;e++)if(n=no[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}no=null}return t}function Qk(t,e){do{var n=It;try{if(Wb(),rh.current=Lh,$h){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$h=!1}if(vo=0,Bt=Rt=pt=null,zu=!1,xc=0,r_.current=null,n===null||n.return===null){Mt=1,Tc=e,It=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Jt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=eS(o);if(m!==null){m.flags&=-257,tS(m,o,s,a,e),m.mode&1&&ZE(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){ZE(a,u,e),l_();break e}l=Error(re(426))}}else if(ft&&s.mode&1){var x=eS(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),tS(x,o,s,a,e),Bb(Us(l,s));break e}}a=l=Us(l,s),Mt!==4&&(Mt=2),qu===null?qu=[a]:qu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=Dk(a,l,e);GE(a,b);break e;case 1:s=l;var y=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(da===null||!da.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=Rk(a,s,e);GE(a,N);break e}}a=a.return}while(a!==null)}eN(n)}catch(A){e=A,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function Jk(){var t=Vh.current;return Vh.current=Lh,t===null?Lh:t}function l_(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Wt===null||!(wo&268435455)&&!(Sm&268435455)||Qi(Wt,Jt)}function Bh(t,e){var n=$e;$e|=2;var r=Jk();(Wt!==t||Jt!==e)&&(ai=null,uo(t,e));do try{aV();break}catch(i){Qk(t,i)}while(!0);if(Wb(),$e=n,Vh.current=r,It!==null)throw Error(re(261));return Wt=null,Jt=0,Mt}function aV(){for(;It!==null;)Zk(It)}function oV(){for(;It!==null&&!kL();)Zk(It)}function Zk(t){var e=nN(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?eN(t):It=e,r_.current=null}function eN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Z4(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,It=null;return}}else if(n=J4(n,e,Ln),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Mt===0&&(Mt=5)}function Ka(t,e,n){var r=Ge,i=ar.transition;try{ar.transition=null,Ge=1,sV(t,e,n,r)}finally{ar.transition=i,Ge=r}return null}function sV(t,e,n,r){do Is();while(ia!==null);if($e&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(UL(t,a),t===Wt&&(It=Wt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Td||(Td=!0,rN(Eh,function(){return Is(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ar.transition,ar.transition=null;var o=Ge;Ge=1;var s=$e;$e|=4,r_.current=null,tV(t,n),Kk(n,t),P4(Hv),Th=!!qv,Hv=qv=null,t.current=n,nV(n),NL(),$e=s,Ge=o,ar.transition=a}else t.current=n;if(Td&&(Td=!1,ia=t,Uh=i),a=t.pendingLanes,a===0&&(da=null),RL(n.stateNode),Nn(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fh)throw Fh=!1,t=d0,d0=null,t;return Uh&1&&t.tag!==0&&Is(),a=t.pendingLanes,a&1?t===h0?Hu++:(Hu=0,h0=t):Hu=0,ja(),null}function Is(){if(ia!==null){var t=DC(Uh),e=ar.transition,n=Ge;try{if(ar.transition=null,Ge=16>t?16:t,ia===null)var r=!1;else{if(t=ia,ia=null,Uh=0,$e&6)throw Error(re(331));var i=$e;for($e|=4,de=t.current;de!==null;){var a=de,o=a.child;if(de.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:Wu(8,c,a)}var f=c.child;if(f!==null)f.return=c,de=f;else for(;de!==null;){c=de;var p=c.sibling,m=c.return;if(qk(c),c===u){de=null;break}if(p!==null){p.return=m,de=p;break}de=m}}}var g=a.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}de=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,de=o;else e:for(;de!==null;){if(a=de,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wu(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,de=b;break e}de=a.return}}var y=t.current;for(de=y;de!==null;){o=de;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,de=E;else e:for(o=y;de!==null;){if(s=de,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Em(9,s)}}catch(A){vt(s,s.return,A)}if(s===o){de=null;break e}var N=s.sibling;if(N!==null){N.return=s.return,de=N;break e}de=s.return}}if($e=i,ja(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(mm,t)}catch{}r=!0}return r}finally{Ge=n,ar.transition=e}}return!1}function pS(t,e,n){e=Us(n,e),e=Dk(t,e,1),t=fa(t,e,1),e=_n(),t!==null&&(vf(t,1,e),Nn(t,e))}function vt(t,e,n){if(t.tag===3)pS(t,t,n);else for(;e!==null;){if(e.tag===3){pS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(da===null||!da.has(r))){t=Us(n,t),t=Rk(e,t,1),e=fa(e,t,1),t=_n(),e!==null&&(vf(e,1,t),Nn(e,t));break}}e=e.return}}function lV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Jt&n)===n&&(Mt===4||Mt===3&&(Jt&130023424)===Jt&&500>Et()-a_?uo(t,0):i_|=n),Nn(t,e)}function tN(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var n=_n();t=Ei(t,e),t!==null&&(vf(t,e,n),Nn(t,n))}function uV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tN(t,n)}function cV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),tN(t,n)}var nN;nN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,Q4(t,e,n);In=!!(t.flags&131072)}else In=!1,ft&&e.flags&1048576&&ok(e,Nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ah(t,e),t=e.pendingProps;var i=$s(e,pn.current);Ps(e,n),i=Jb(null,e,r,t,i,n);var a=Zb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(a=!0,Ch(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gb(e),i.updater=xm,e.stateNode=i,i._reactInternals=e,t0(e,r,t,n),e=i0(null,e,r,!0,a,n)):(e.tag=0,ft&&a&&Fb(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ah(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dV(r),t=yr(r,t),i){case 0:e=r0(null,e,r,t,n);break e;case 1:e=iS(null,e,r,t,n);break e;case 11:e=nS(null,e,r,t,n);break e;case 14:e=rS(null,e,r,yr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),r0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),iS(t,e,r,i,n);case 3:e:{if(Vk(e),t===null)throw Error(re(387));r=e.pendingProps,a=e.memoizedState,i=a.element,dk(t,e),Rh(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Us(Error(re(423)),e),e=aS(t,e,r,n,i);break e}else if(r!==i){i=Us(Error(re(424)),e),e=aS(t,e,r,n,i);break e}else for(Bn=ca(e.stateNode.containerInfo.firstChild),Wn=e,ft=!0,xr=null,n=ck(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ls(),r===i){e=Si(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return hk(e),t===null&&Jv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Gv(r,i)?o=null:a!==null&&Gv(r,a)&&(e.flags|=32),Lk(t,e),wn(t,e,o,n),e.child;case 6:return t===null&&Jv(e),null;case 13:return Fk(t,e,n);case 4:return Kb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vs(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),nS(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,at(jh,r._currentValue),r._currentValue=o,a!==null)if(Nr(a.value,o)){if(a.children===i.children&&!Cn.current){e=Si(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=pi(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zv(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(re(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Zv(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ps(e,n),i=lr(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=yr(r,e.pendingProps),i=yr(r.type,i),rS(t,e,r,i,n);case 15:return Mk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),ah(t,e),e.tag=1,kn(r)?(t=!0,Ch(e)):t=!1,Ps(e,n),jk(e,r,i),t0(e,r,i,n),i0(null,e,r,!0,t,n);case 19:return Uk(t,e,n);case 22:return $k(t,e,n)}throw Error(re(156,e.tag))};function rN(t,e){return CC(t,e)}function fV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,e,n,r){return new fV(t,e,n,r)}function u_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dV(t){if(typeof t=="function")return u_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ib)return 11;if(t===Ob)return 14}return 2}function pa(t,e){var n=t.alternate;return n===null?(n=rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lh(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")u_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ss:return co(n.children,i,a,e);case Pb:o=8,i|=8;break;case Tv:return t=rr(12,n,e,i|2),t.elementType=Tv,t.lanes=a,t;case Av:return t=rr(13,n,e,i),t.elementType=Av,t.lanes=a,t;case Pv:return t=rr(19,n,e,i),t.elementType=Pv,t.lanes=a,t;case hC:return Tm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fC:o=10;break e;case dC:o=9;break e;case Ib:o=11;break e;case Ob:o=14;break e;case Gi:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=rr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function co(t,e,n,r){return t=rr(7,t,r,e),t.lanes=n,t}function Tm(t,e,n,r){return t=rr(22,t,r,e),t.elementType=hC,t.lanes=n,t.stateNode={isHidden:!1},t}function Ny(t,e,n){return t=rr(6,t,null,e),t.lanes=n,t}function jy(t,e,n){return e=rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hy(0),this.expirationTimes=hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c_(t,e,n,r,i,a,o,s,l){return t=new hV(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=rr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gb(a),t}function pV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iN(t){if(!t)return Sa;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(kn(n))return ik(t,n,e)}return e}function aN(t,e,n,r,i,a,o,s,l){return t=c_(n,r,!0,t,i,a,o,s,l),t.context=iN(null),n=t.current,r=_n(),i=ha(n),a=pi(r,i),a.callback=e??null,fa(n,a,i),t.current.lanes=i,vf(t,i,r),Nn(t,r),t}function Am(t,e,n,r){var i=e.current,a=_n(),o=ha(i);return n=iN(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fa(i,e,o),t!==null&&(Ir(t,i,o,a),nh(t,i,o)),o}function zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function f_(t,e){mS(t,e),(t=t.alternate)&&mS(t,e)}function mV(){return null}var oN=typeof reportError=="function"?reportError:function(t){console.error(t)};function d_(t){this._internalRoot=t}Pm.prototype.render=d_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Am(t,e,null,null)};Pm.prototype.unmount=d_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bo(function(){Am(null,t,null,null)}),e[xi]=null}};function Pm(t){this._internalRoot=t}Pm.prototype.unstable_scheduleHydration=function(t){if(t){var e=$C();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xi.length&&e!==0&&e<Xi[n].priority;n++);Xi.splice(n,0,t),n===0&&VC(t)}};function h_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gS(){}function gV(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=zh(o);a.call(u)}}var o=aN(e,r,t,0,null,!1,!1,"",gS);return t._reactRootContainer=o,t[xi]=o.current,yc(t.nodeType===8?t.parentNode:t),bo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=zh(l);s.call(u)}}var l=c_(t,0,!1,null,null,!1,!1,"",gS);return t._reactRootContainer=l,t[xi]=l.current,yc(t.nodeType===8?t.parentNode:t),bo(function(){Am(e,l,n,r)}),l}function Om(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=zh(o);s.call(l)}}Am(e,o,t,i)}else o=gV(n,e,t,i,r);return zh(o)}RC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cu(e.pendingLanes);n!==0&&(Nb(e,n|1),Nn(e,Et()),!($e&6)&&(Bs=Et()+500,ja()))}break;case 13:bo(function(){var r=Ei(t,1);if(r!==null){var i=_n();Ir(r,t,1,i)}}),f_(t,1)}};jb=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var n=_n();Ir(e,t,134217728,n)}f_(t,134217728)}};MC=function(t){if(t.tag===13){var e=ha(t),n=Ei(t,e);if(n!==null){var r=_n();Ir(n,t,e,r)}f_(t,e)}};$C=function(){return Ge};LC=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};$v=function(t,e,n){switch(e){case"input":if(Cv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wm(r);if(!i)throw Error(re(90));mC(r),Cv(r,i)}}}break;case"textarea":yC(t,n);break;case"select":e=n.value,e!=null&&Es(t,!!n.multiple,e,!1)}};SC=o_;TC=bo;var yV={usingClientEntryPoint:!1,Events:[bf,fs,wm,xC,EC,o_]},mu={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vV={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IC(t),t===null?null:t.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||mV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{mm=Ad.inject(vV),zr=Ad}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yV;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h_(e))throw Error(re(200));return pV(t,e,null,n)};Kn.createRoot=function(t,e){if(!h_(t))throw Error(re(299));var n=!1,r="",i=oN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=c_(t,1,!1,null,null,n,!1,r,i),t[xi]=e.current,yc(t.nodeType===8?t.parentNode:t),new d_(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=IC(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return bo(t)};Kn.hydrate=function(t,e,n){if(!Im(e))throw Error(re(200));return Om(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!h_(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=oN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aN(e,null,t,1,n??null,i,!1,a,o),t[xi]=e.current,yc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pm(e)};Kn.render=function(t,e,n){if(!Im(e))throw Error(re(200));return Om(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!Im(t))throw Error(re(40));return t._reactRootContainer?(bo(function(){Om(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};Kn.unstable_batchedUpdates=o_;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Om(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function sN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sN)}catch(t){console.error(t)}}sN(),sC.exports=Kn;var wV=sC.exports,yS=wV;Ev.createRoot=yS.createRoot,Ev.hydrateRoot=yS.hydrateRoot;var bV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _V=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xV=(t,e)=>{const n=L.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:s,...l},u)=>L.createElement("svg",{ref:u,...bV,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${_V(t)}`,...l},[...e.map(([c,f])=>L.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${t}`,n};var Te=xV;const hn=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Wh=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),EV=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),vS=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Dy=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Cm=Te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Gu=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),lN=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),uN=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),g0=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),y0=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),SV=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),TV=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ku=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),AV=Te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),PV=Te("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),IV=Te("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),OV=Te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),v0=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),CV=Te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),p_=Te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),wS=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),kV=Te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),NV=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),jV=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),DV=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),RV=Te("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),zs=Te("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),uh=Te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),MV=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),$V=Te("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Ur=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Yu=Te("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),xf=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),LV=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),VV=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),tr=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ws=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),km=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),_o=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),FV=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),UV=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),BV=Te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),xo=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zV=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),WV=()=>{};var bS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},fN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new HV;const p=a<<2|s>>4;if(r.push(p),u!==64){const m=s<<4&240|u>>2;if(r.push(m),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GV=function(t){const e=cN(t);return fN.encodeByteArray(e,!0)},qh=function(t){return GV(t).replace(/\./g,"")},dN=function(t){try{return fN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=()=>KV().__FIREBASE_DEFAULTS__,XV=()=>{if(typeof process>"u"||typeof bS>"u")return;const t=bS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dN(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return WV()||YV()||XV()||QV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hN=t=>{var e,n;return(n=(e=Nm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},JV=t=>{const e=hN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pN=()=>{var t;return(t=Nm())==null?void 0:t.config},mN=t=>{var e;return(e=Nm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qh(JSON.stringify(n)),qh(JSON.stringify(o)),""].join(".")}const Xu={};function tF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xu))Xu[e]?t.emulator.push(e):t.prod.push(e);return t}function nF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _S=!1;function yN(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Xu[t]===e||Xu[t]||_S)return;Xu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=tF().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{_S=!0,o()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=nF(r),m=n("text"),g=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),b=n("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;s(E),c(x,w);const N=u();l(y,b),E.append(y,g,x,N),document.body.appendChild(E)}a?(g.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function iF(){var e;const t=(e=Nm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lF(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uF(){return!iF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cF(){try{return typeof indexedDB=="object"}catch{return!1}}function fF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dF,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ef.prototype.create)}}class Ef{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?hF(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Ri(i,s,r)}}function hF(t,e){return t.replace(pF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pF=/\{\$([^}]+)}/g;function mF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(xS(a)&&xS(o)){if(!Eo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ju(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gF(t,e){const n=new yF(t,e);return n.subscribe.bind(n)}class yF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ry),i.error===void 0&&(i.error=Ry),i.complete===void 0&&(i.complete=Ry);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ry(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class So{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_F(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bF(t){return t===Ya?void 0:t}function _F(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const EF={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},SF=Ne.INFO,TF={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},AF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class m_{constructor(e){this.name=e,this._logLevel=SF,this._logHandler=AF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const PF=(t,e)=>e.some(n=>t instanceof n);let ES,SS;function IF(){return ES||(ES=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OF(){return SS||(SS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vN=new WeakMap,w0=new WeakMap,wN=new WeakMap,My=new WeakMap,g_=new WeakMap;function CF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ma(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vN.set(n,t)}).catch(()=>{}),g_.set(e,t),e}function kF(t){if(w0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});w0.set(t,e)}let b0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NF(t){b0=t(b0)}function jF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($y(this),e,...n);return wN.set(r,e.sort?e.sort():[e]),ma(r)}:OF().includes(t)?function(...e){return t.apply($y(this),e),ma(vN.get(this))}:function(...e){return ma(t.apply($y(this),e))}}function DF(t){return typeof t=="function"?jF(t):(t instanceof IDBTransaction&&kF(t),PF(t,IF())?new Proxy(t,b0):t)}function ma(t){if(t instanceof IDBRequest)return CF(t);if(My.has(t))return My.get(t);const e=DF(t);return e!==t&&(My.set(t,e),g_.set(e,t)),e}const $y=t=>g_.get(t);function RF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=ma(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ma(o.result),l.oldVersion,l.newVersion,ma(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const MF=["get","getKey","getAll","getAllKeys","count"],$F=["put","add","delete","clear"],Ly=new Map;function TS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$F.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MF.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Ly.set(e,a),a}NF(t=>({...t,get:(e,n,r)=>TS(e,n)||t.get(e,n,r),has:(e,n)=>!!TS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _0="@firebase/app",AS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new m_("@firebase/app"),FF="@firebase/app-compat",UF="@firebase/analytics-compat",BF="@firebase/analytics",zF="@firebase/app-check-compat",WF="@firebase/app-check",qF="@firebase/auth",HF="@firebase/auth-compat",GF="@firebase/database",KF="@firebase/data-connect",YF="@firebase/database-compat",XF="@firebase/functions",QF="@firebase/functions-compat",JF="@firebase/installations",ZF="@firebase/installations-compat",e3="@firebase/messaging",t3="@firebase/messaging-compat",n3="@firebase/performance",r3="@firebase/performance-compat",i3="@firebase/remote-config",a3="@firebase/remote-config-compat",o3="@firebase/storage",s3="@firebase/storage-compat",l3="@firebase/firestore",u3="@firebase/ai",c3="@firebase/firestore-compat",f3="firebase",d3="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="[DEFAULT]",h3={[_0]:"fire-core",[FF]:"fire-core-compat",[BF]:"fire-analytics",[UF]:"fire-analytics-compat",[WF]:"fire-app-check",[zF]:"fire-app-check-compat",[qF]:"fire-auth",[HF]:"fire-auth-compat",[GF]:"fire-rtdb",[KF]:"fire-data-connect",[YF]:"fire-rtdb-compat",[XF]:"fire-fn",[QF]:"fire-fn-compat",[JF]:"fire-iid",[ZF]:"fire-iid-compat",[e3]:"fire-fcm",[t3]:"fire-fcm-compat",[n3]:"fire-perf",[r3]:"fire-perf-compat",[i3]:"fire-rc",[a3]:"fire-rc-compat",[o3]:"fire-gcs",[s3]:"fire-gcs-compat",[l3]:"fire-fst",[c3]:"fire-fst-compat",[u3]:"fire-vertex","fire-js":"fire-js",[f3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,p3=new Map,E0=new Map;function PS(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(E0.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;E0.set(e,t);for(const n of Hh.values())PS(n,t);for(const n of p3.values())PS(n,t);return!0}function y_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new Ef("app","Firebase",m3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=d3;function bN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:x0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ga.create("bad-app-name",{appName:String(i)});if(n||(n=pN()),!n)throw ga.create("no-options");const a=Hh.get(i);if(a){if(Eo(n,a.options)&&Eo(r,a.config))return a;throw ga.create("duplicate-app",{appName:i})}const o=new xF(i);for(const l of E0.values())o.addComponent(l);const s=new g3(n,r,o);return Hh.set(i,s),s}function _N(t=x0){const e=Hh.get(t);if(!e&&t===x0&&pN())return bN();if(!e)throw ga.create("no-app",{appName:t});return e}function ya(t,e,n){let r=h3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(o.join(" "));return}qs(new So(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firebase-heartbeat-database",v3=1,Ac="firebase-heartbeat-store";let Vy=null;function xN(){return Vy||(Vy=RF(y3,v3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw ga.create("idb-open",{originalErrorMessage:t.message})})),Vy}async function w3(t){try{const n=(await xN()).transaction(Ac),r=await n.objectStore(Ac).get(EN(t));return await n.done,r}catch(e){if(e instanceof Ri)Ti.warn(e.message);else{const n=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function IS(t,e){try{const r=(await xN()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,EN(t)),await r.done}catch(n){if(n instanceof Ri)Ti.warn(n.message);else{const r=ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function EN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=1024,_3=30;class x3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=OS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_3){const o=T3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OS(),{heartbeatsToSend:r,unsentEntries:i}=E3(this._heartbeatsCache.heartbeats),a=qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ti.warn(n),""}}}function OS(){return new Date().toISOString().substring(0,10)}function E3(t,e=b3){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),CS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cF()?fF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function CS(t){return qh(JSON.stringify({version:2,heartbeats:t})).length}function T3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){qs(new So("platform-logger",e=>new LF(e),"PRIVATE")),qs(new So("heartbeat",e=>new x3(e),"PRIVATE")),ya(_0,AS,t),ya(_0,AS,"esm2020"),ya("fire-js","")}A3("");function SN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P3=SN,TN=new Ef("auth","Firebase",SN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new m_("@firebase/auth");function I3(t,...e){Gh.logLevel<=Ne.WARN&&Gh.warn(`Auth (${Ol}): ${t}`,...e)}function ch(t,...e){Gh.logLevel<=Ne.ERROR&&Gh.error(`Auth (${Ol}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw v_(t,...e)}function qr(t,...e){return v_(t,...e)}function AN(t,e,n){const r={...P3(),[e]:n};return new Ef("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return AN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TN.create(t,...e)}function be(t,e,...n){if(!t)throw v_(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function Ai(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function O3(){return kS()==="http:"||kS()==="https:"}function kS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O3()||oF()||"connection"in navigator)?navigator.onLine:!0}function k3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=rF()||sF()}get(){return C3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D3=new Tf(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zr(t,e,n,r,i={}){return IN(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=Sf({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return aF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(u.credentials="include"),PN.fetch()(await ON(t,t.config.apiHost,n,s),u)})}async function IN(t,e,n){t._canInitEmulator=!1;const r={...N3,...e};try{const i=new M3(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Pd(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AN(t,c,u);jr(t,c)}}catch(i){if(i instanceof Ri)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function Af(t,e,n,r,i={}){const a=await Zr(t,e,n,r,i);return"mfaPendingCredential"in a&&jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function ON(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?w_(t.config,i):`${t.config.apiScheme}://${i}`;return j3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function R3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),D3.get())})}}function Pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}function NS(t){return t!==void 0&&t.enterprise!==void 0}class $3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function L3(t,e){return Zr(t,"GET","/v2/recaptchaConfig",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e){return Zr(t,"POST","/v1/accounts:delete",e)}async function Kh(t,e){return Zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F3(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=b_(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Qu(Fy(i.auth_time)),issuedAtTime:Qu(Fy(i.iat)),expirationTime:Qu(Fy(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Fy(t){return Number(t)*1e3}function b_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=dN(n);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jS(t){const e=b_(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&U3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Hs(t,Kh(e,{idToken:n}));be(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?CN(i.providerUserInfo):[],o=W3(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new T0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function z3(t){const e=Nt(t);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e){const n=await IN(t,{},async()=>{const r=Sf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await ON(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(l.credentials="include"),PN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H3(t,e){return Zr(t,"POST","/v2/accounts:revokeToken",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=jS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await q3(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Os;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(be(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Os,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new B3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new T0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Hs(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F3(this,e)}reload(){return z3(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nr(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await Hs(this,V3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:g,stsTokenManager:w}=n;be(f&&w,e,"internal-error");const x=Os.fromJSON(this.name,w);be(typeof f=="string",e,"internal-error"),qi(r,e.name),qi(i,e.name),be(typeof p=="boolean",e,"internal-error"),be(typeof m=="boolean",e,"internal-error"),qi(a,e.name),qi(o,e.name),qi(s,e.name),qi(l,e.name),qi(u,e.name),qi(c,e.name);const b=new Tr({uid:f,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:x,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(b.providerData=g.map(y=>({...y}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Os;i.updateFromServerResponse(n);const a=new Tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?CN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Os;s.updateFromIdToken(r);const l=new Tr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new T0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Map;function ci(t){Ai(t instanceof Function,"Expected a class definition");let e=DS.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kN.type="NONE";const RS=kN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,n){return`firebase:${t}:${e}:${n}`}class Cs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=fh(this.userKey,i.apiKey,a),this.fullPersistenceKey=fh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?Tr._fromGetAccountInfoResponse(this.auth,n,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cs(ci(RS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||ci(RS);const o=fh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){let f;if(typeof c=="string"){const p=await Kh(e,{idToken:c}).catch(()=>{});if(!p)break;f=await Tr._fromGetAccountInfoResponse(e,p,c)}else f=Tr._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Cs(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Cs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($N(e))return"Blackberry";if(LN(e))return"Webos";if(jN(e))return"Safari";if((e.includes("chrome/")||DN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NN(t=mn()){return/firefox\//i.test(t)}function jN(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DN(t=mn()){return/crios\//i.test(t)}function RN(t=mn()){return/iemobile/i.test(t)}function MN(t=mn()){return/android/i.test(t)}function $N(t=mn()){return/blackberry/i.test(t)}function LN(t=mn()){return/webos/i.test(t)}function __(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G3(t=mn()){var e;return __(t)&&!!((e=window.navigator)!=null&&e.standalone)}function K3(){return lF()&&document.documentMode===10}function VN(t=mn()){return __(t)||MN(t)||LN(t)||$N(t)||/windows phone/i.test(t)||RN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e=[]){let n;switch(t){case"Browser":n=MS(mn());break;case"Worker":n=`${MS(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e={}){return Zr(t,"GET","/v2/passwordPolicy",Mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=6;class J3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $S(this),this.idTokenSubscription=new $S(this),this.beforeStateQueue=new Y3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Cs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nr(this.app))return Promise.reject(mi(this));const n=e?Nt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nr(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nr(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X3(this),n=new J3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ef("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Cs.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&I3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Da(t){return Nt(t)}class $S{constructor(e){this.auth=e,this.observer=null,this.addObserver=gF(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e6(t){jm=t}function UN(t){return jm.loadJS(t)}function t6(){return jm.recaptchaEnterpriseScript}function n6(){return jm.gapiScript}function r6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i6{constructor(){this.enterprise=new a6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class a6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const o6="recaptcha-enterprise",BN="NO_RECAPTCHA";class s6{constructor(e){this.type=o6,this.auth=Da(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{L3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new $3(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;NS(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(BN)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i6().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&NS(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=t6();l.length!==0&&(l+=s),UN(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function LS(t,e,n,r=!1,i=!1){const a=new s6(t);let o;if(i)o=BN;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Xh(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await LS(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e){const n=y_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Eo(a,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function u6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c6(t,e,n){const r=Da(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=zN(e),{host:o,port:s}=f6(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Eo(u,r.config.emulator)&&Eo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Il(o)?(gN(`${a}//${o}${l}`),yN("Auth",!0)):d6()}function zN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f6(t){const e=zN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:VS(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:VS(o)}}}function VS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function h6(t,e){return Zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e){return Af(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))}async function m6(t,e){return Zr(t,"POST","/v1/accounts:sendOobCode",Mi(t,e))}async function g6(t,e){return m6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e){return Af(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}async function v6(t,e){return Af(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends x_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,n,"signInWithPassword",p6);case"emailLink":return y6(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,r,"signUpPassword",h6);case"emailLink":return v6(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(t,e){return Af(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="http://localhost";class To extends x_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new To(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ks(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ks(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ks(e,n)}buildRequest(){const e={requestUri:w6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _6(t){const e=Nu(ju(t)).link,n=e?Nu(ju(e)).deep_link_id:null,r=Nu(ju(t)).deep_link_id;return(r?Nu(ju(r)).link:null)||r||n||e||t}class E_{constructor(e){const n=Nu(ju(e)),r=n.apiKey??null,i=n.oobCode??null,a=b6(n.mode??null);be(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_6(e);try{return new E_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return Pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=E_.parseLink(n);return be(r,"argument-error"),Pc._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends WN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Pf{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return To._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Pf{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Pf{constructor(){super("twitter.com")}static credential(e,n){return To._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ta.credential(n,r)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e){return Af(t,"POST","/v1/accounts:signUp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Tr._fromIdTokenResponse(e,r,i),o=FS(r);return new Ao({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=FS(r);return new Ao({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function FS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Ri{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qh(e,n,r,i)}}function qN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,a,e,r):a})}async function E6(t,e,n=!1){const r=await Hs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ao._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e,n=!1){const{auth:r}=t;if(nr(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const a=await Hs(t,qN(r,i,e,t),n);be(a.idToken,r,"internal-error");const o=b_(a.idToken);be(o,r,"internal-error");const{sub:s}=o;return be(t.uid===s,r,"user-mismatch"),Ao._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e,n=!1){if(nr(t.app))return Promise.reject(mi(t));const r="signIn",i=await qN(t,r,e),a=await Ao._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function T6(t,e){return HN(Da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t){const e=Da(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A6(t,e,n){const r=Da(t);await Xh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g6)}async function P6(t,e,n){if(nr(t.app))return Promise.reject(mi(t));const r=Da(t),o=await Xh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GN(t),l}),s=await Ao._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function I6(t,e,n){return nr(t.app)?Promise.reject(mi(t)):T6(Nt(t),Cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e){return Zr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Hs(r,O6(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function k6(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function N6(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function j6(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function D6(t){return Nt(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=1e3,M6=10;class YN extends KN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);K3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YN.type="LOCAL";const $6=YN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN extends KN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XN.type="SESSION";const QN=XN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await L6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=S_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(p.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function F6(t){Hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function U6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function z6(){return JN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="firebaseLocalStorageDb",W6=1,Zh="firebaseLocalStorage",e2="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rm(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function q6(){const t=indexedDB.deleteDatabase(ZN);return new If(t).toPromise()}function A0(){const t=indexedDB.open(ZN,W6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:e2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await q6(),e(await A0()))})})}async function US(t,e,n){const r=Rm(t,!0).put({[e2]:e,value:n});return new If(r).toPromise()}async function H6(t,e){const n=Rm(t,!1).get(e),r=await new If(n).toPromise();return r===void 0?null:r.value}function BS(t,e){const n=Rm(t,!0).delete(e);return new If(n).toPromise()}const G6=800,K6=3;class t2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>K6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(z6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await U6(),!this.activeServiceWorker)return;this.sender=new V6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A0();return await US(e,Jh,"1"),await BS(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>US(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Rm(i,!1).getAll();return new If(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t2.type="LOCAL";const Y6=t2;new Tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e){return e?ci(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends x_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q6(t){return HN(t.auth,new T_(t),t.bypassAuthState)}function J6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),S6(n,new T_(t),t.bypassAuthState)}async function Z6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),E6(n,new T_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q6;case"linkViaPopup":case"linkViaRedirect":return Z6;case"reauthViaPopup":case"reauthViaRedirect":return J6;default:jr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=new Tf(2e3,1e4);class vs extends n2{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,vs.currentPopupAction&&vs.currentPopupAction.cancel(),vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=S_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eU.get())};e()}}vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU="pendingRedirect",dh=new Map;class nU extends n2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await rU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rU(t,e){const n=oU(e),r=aU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iU(t,e){dh.set(t._key(),e)}function aU(t){return ci(t._redirectPersistence)}function oU(t){return fh(tU,t.config.apiKey,t.name)}async function sU(t,e,n=!1){if(nr(t.app))return Promise.reject(mi(t));const r=Da(t),i=X6(r,e),o=await new nU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=10*60*1e3;class uU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!r2(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lU&&this.cachedEventUids.clear(),this.cachedEventUids.has(zS(e))}saveEventToCache(e){this.cachedEventUids.add(zS(e)),this.lastProcessedEventTime=Date.now()}}function zS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e={}){return Zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hU=/^https?/;async function pU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fU(t);for(const n of e)try{if(mU(n))return}catch{}jr(t,"unauthorized-domain")}function mU(t){const e=S0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hU.test(n))return!1;if(dU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new Tf(3e4,6e4);function WS(){const t=Hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yU(t){return new Promise((e,n)=>{var i,a,o;function r(){WS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WS(),n(qr(t,"network-request-failed"))},timeout:gU.get()})}if((a=(i=Hr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Hr().gapi)!=null&&o.load)r();else{const s=r6("iframefcb");return Hr()[s]=()=>{gapi.load?r():n(qr(t,"network-request-failed"))},UN(`${n6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw hh=null,e})}let hh=null;function vU(t){return hh=hh||yU(t),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new Tf(5e3,15e3),bU="__/auth/iframe",_U="emulator/auth/iframe",xU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SU(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?w_(e,_U):`https://${t.config.authDomain}/${bU}`,r={apiKey:e.apiKey,appName:t.name,v:Ol},i=EU.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Sf(r).slice(1)}`}async function TU(t){const e=await vU(t),n=Hr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:SU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xU,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=qr(t,"network-request-failed"),s=Hr().setTimeout(()=>{a(o)},wU.get());function l(){Hr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PU=500,IU=600,OU="_blank",CU="http://localhost";class qS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kU(t,e,n,r=PU,i=IU){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...AU,width:r.toString(),height:i.toString(),top:a,left:o},u=mn().toLowerCase();n&&(s=DN(u)?OU:n),NN(u)&&(e=e||CU,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(G3(u)&&s!=="_self")return NU(e||"",s),new qS(null);const f=window.open(e||"",s,c);be(f,t,"popup-blocked");try{f.focus()}catch{}return new qS(f)}function NU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="__/auth/handler",DU="emulator/auth/handler",RU=encodeURIComponent("fac");async function HS(t,e,n,r,i,a){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ol,eventId:i};if(e instanceof WN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Pf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${RU}=${encodeURIComponent(l)}`:"";return`${MU(t)}?${Sf(s).slice(1)}${u}`}function MU({config:t}){return t.emulator?w_(t,DU):`https://${t.authDomain}/${jU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";class $U{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QN,this._completeRedirectFn=sU,this._overrideRedirectResult=iU}async _openPopup(e,n,r,i){var o;Ai((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await HS(e,n,r,S0(),i);return kU(e,a,S_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await HS(e,n,r,S0(),i);return F6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ai(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TU(e),r=new uU(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uy,{type:Uy},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Uy];a!==void 0&&n(!!a),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VN()||jN()||__()}}const LU=$U;var GS="@firebase/auth",KS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UU(t){qs(new So("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FN(t)},u=new Z3(r,i,a,l);return u6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new So("auth-internal",e=>{const n=Da(e.getProvider("auth").getImmediate());return(r=>new VU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ya(GS,KS,FU(t)),ya(GS,KS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=5*60,zU=mN("authIdTokenMaxAge")||BU;let YS=null;const WU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zU)return;const i=n==null?void 0:n.token;YS!==i&&(YS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qU(t=_N()){const e=y_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l6(t,{popupRedirectResolver:LU,persistence:[Y6,$6,QN]}),r=mN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=WU(a.toString());N6(n,o,()=>o(n.currentUser)),k6(n,s=>o(s))}}const i=hN("auth");return i&&c6(n,`http://${i}`),n}function HU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}e6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=qr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",HU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UU("Browser");var GU="firebase",KU="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ya(GU,KU,"app");var XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,i2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function T(){}T.prototype=v.prototype,S.D=v.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(P,O,j){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return v.prototype[O].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,T){T||(T=0);var P=Array(16);if(typeof v=="string")for(var O=0;16>O;++O)P[O]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(O=0;16>O;++O)P[O]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=S.g[0],T=S.g[1],O=S.g[2];var j=S.g[3],k=v+(j^T&(O^j))+P[0]+3614090360&4294967295;v=T+(k<<7&4294967295|k>>>25),k=j+(O^v&(T^O))+P[1]+3905402710&4294967295,j=v+(k<<12&4294967295|k>>>20),k=O+(T^j&(v^T))+P[2]+606105819&4294967295,O=j+(k<<17&4294967295|k>>>15),k=T+(v^O&(j^v))+P[3]+3250441966&4294967295,T=O+(k<<22&4294967295|k>>>10),k=v+(j^T&(O^j))+P[4]+4118548399&4294967295,v=T+(k<<7&4294967295|k>>>25),k=j+(O^v&(T^O))+P[5]+1200080426&4294967295,j=v+(k<<12&4294967295|k>>>20),k=O+(T^j&(v^T))+P[6]+2821735955&4294967295,O=j+(k<<17&4294967295|k>>>15),k=T+(v^O&(j^v))+P[7]+4249261313&4294967295,T=O+(k<<22&4294967295|k>>>10),k=v+(j^T&(O^j))+P[8]+1770035416&4294967295,v=T+(k<<7&4294967295|k>>>25),k=j+(O^v&(T^O))+P[9]+2336552879&4294967295,j=v+(k<<12&4294967295|k>>>20),k=O+(T^j&(v^T))+P[10]+4294925233&4294967295,O=j+(k<<17&4294967295|k>>>15),k=T+(v^O&(j^v))+P[11]+2304563134&4294967295,T=O+(k<<22&4294967295|k>>>10),k=v+(j^T&(O^j))+P[12]+1804603682&4294967295,v=T+(k<<7&4294967295|k>>>25),k=j+(O^v&(T^O))+P[13]+4254626195&4294967295,j=v+(k<<12&4294967295|k>>>20),k=O+(T^j&(v^T))+P[14]+2792965006&4294967295,O=j+(k<<17&4294967295|k>>>15),k=T+(v^O&(j^v))+P[15]+1236535329&4294967295,T=O+(k<<22&4294967295|k>>>10),k=v+(O^j&(T^O))+P[1]+4129170786&4294967295,v=T+(k<<5&4294967295|k>>>27),k=j+(T^O&(v^T))+P[6]+3225465664&4294967295,j=v+(k<<9&4294967295|k>>>23),k=O+(v^T&(j^v))+P[11]+643717713&4294967295,O=j+(k<<14&4294967295|k>>>18),k=T+(j^v&(O^j))+P[0]+3921069994&4294967295,T=O+(k<<20&4294967295|k>>>12),k=v+(O^j&(T^O))+P[5]+3593408605&4294967295,v=T+(k<<5&4294967295|k>>>27),k=j+(T^O&(v^T))+P[10]+38016083&4294967295,j=v+(k<<9&4294967295|k>>>23),k=O+(v^T&(j^v))+P[15]+3634488961&4294967295,O=j+(k<<14&4294967295|k>>>18),k=T+(j^v&(O^j))+P[4]+3889429448&4294967295,T=O+(k<<20&4294967295|k>>>12),k=v+(O^j&(T^O))+P[9]+568446438&4294967295,v=T+(k<<5&4294967295|k>>>27),k=j+(T^O&(v^T))+P[14]+3275163606&4294967295,j=v+(k<<9&4294967295|k>>>23),k=O+(v^T&(j^v))+P[3]+4107603335&4294967295,O=j+(k<<14&4294967295|k>>>18),k=T+(j^v&(O^j))+P[8]+1163531501&4294967295,T=O+(k<<20&4294967295|k>>>12),k=v+(O^j&(T^O))+P[13]+2850285829&4294967295,v=T+(k<<5&4294967295|k>>>27),k=j+(T^O&(v^T))+P[2]+4243563512&4294967295,j=v+(k<<9&4294967295|k>>>23),k=O+(v^T&(j^v))+P[7]+1735328473&4294967295,O=j+(k<<14&4294967295|k>>>18),k=T+(j^v&(O^j))+P[12]+2368359562&4294967295,T=O+(k<<20&4294967295|k>>>12),k=v+(T^O^j)+P[5]+4294588738&4294967295,v=T+(k<<4&4294967295|k>>>28),k=j+(v^T^O)+P[8]+2272392833&4294967295,j=v+(k<<11&4294967295|k>>>21),k=O+(j^v^T)+P[11]+1839030562&4294967295,O=j+(k<<16&4294967295|k>>>16),k=T+(O^j^v)+P[14]+4259657740&4294967295,T=O+(k<<23&4294967295|k>>>9),k=v+(T^O^j)+P[1]+2763975236&4294967295,v=T+(k<<4&4294967295|k>>>28),k=j+(v^T^O)+P[4]+1272893353&4294967295,j=v+(k<<11&4294967295|k>>>21),k=O+(j^v^T)+P[7]+4139469664&4294967295,O=j+(k<<16&4294967295|k>>>16),k=T+(O^j^v)+P[10]+3200236656&4294967295,T=O+(k<<23&4294967295|k>>>9),k=v+(T^O^j)+P[13]+681279174&4294967295,v=T+(k<<4&4294967295|k>>>28),k=j+(v^T^O)+P[0]+3936430074&4294967295,j=v+(k<<11&4294967295|k>>>21),k=O+(j^v^T)+P[3]+3572445317&4294967295,O=j+(k<<16&4294967295|k>>>16),k=T+(O^j^v)+P[6]+76029189&4294967295,T=O+(k<<23&4294967295|k>>>9),k=v+(T^O^j)+P[9]+3654602809&4294967295,v=T+(k<<4&4294967295|k>>>28),k=j+(v^T^O)+P[12]+3873151461&4294967295,j=v+(k<<11&4294967295|k>>>21),k=O+(j^v^T)+P[15]+530742520&4294967295,O=j+(k<<16&4294967295|k>>>16),k=T+(O^j^v)+P[2]+3299628645&4294967295,T=O+(k<<23&4294967295|k>>>9),k=v+(O^(T|~j))+P[0]+4096336452&4294967295,v=T+(k<<6&4294967295|k>>>26),k=j+(T^(v|~O))+P[7]+1126891415&4294967295,j=v+(k<<10&4294967295|k>>>22),k=O+(v^(j|~T))+P[14]+2878612391&4294967295,O=j+(k<<15&4294967295|k>>>17),k=T+(j^(O|~v))+P[5]+4237533241&4294967295,T=O+(k<<21&4294967295|k>>>11),k=v+(O^(T|~j))+P[12]+1700485571&4294967295,v=T+(k<<6&4294967295|k>>>26),k=j+(T^(v|~O))+P[3]+2399980690&4294967295,j=v+(k<<10&4294967295|k>>>22),k=O+(v^(j|~T))+P[10]+4293915773&4294967295,O=j+(k<<15&4294967295|k>>>17),k=T+(j^(O|~v))+P[1]+2240044497&4294967295,T=O+(k<<21&4294967295|k>>>11),k=v+(O^(T|~j))+P[8]+1873313359&4294967295,v=T+(k<<6&4294967295|k>>>26),k=j+(T^(v|~O))+P[15]+4264355552&4294967295,j=v+(k<<10&4294967295|k>>>22),k=O+(v^(j|~T))+P[6]+2734768916&4294967295,O=j+(k<<15&4294967295|k>>>17),k=T+(j^(O|~v))+P[13]+1309151649&4294967295,T=O+(k<<21&4294967295|k>>>11),k=v+(O^(T|~j))+P[4]+4149444226&4294967295,v=T+(k<<6&4294967295|k>>>26),k=j+(T^(v|~O))+P[11]+3174756917&4294967295,j=v+(k<<10&4294967295|k>>>22),k=O+(v^(j|~T))+P[2]+718787259&4294967295,O=j+(k<<15&4294967295|k>>>17),k=T+(j^(O|~v))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var T=v-this.blockSize,P=this.B,O=this.h,j=0;j<v;){if(O==0)for(;j<=T;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<v;)if(P[O++]=S.charCodeAt(j++),O==this.blockSize){i(this,P),O=0;break}}else for(;j<v;)if(P[O++]=S[j++],O==this.blockSize){i(this,P),O=0;break}}this.h=O,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var T=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=T&255,T/=256;for(this.u(S),S=Array(16),v=T=0;4>v;++v)for(var P=0;32>P;P+=8)S[T++]=this.g[v]>>>P&255;return S};function a(S,v){var T=s;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=v(S)}function o(S,v){this.h=v;for(var T=[],P=!0,O=S.length-1;0<=O;O--){var j=S[O]|0;P&&j==v||(T[O]=j,P=!1)}this.g=T}var s={};function l(S){return-128<=S&&128>S?a(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return x(u(-S));for(var v=[],T=1,P=0;S>=T;P++)v[P]=S/T|0,T*=4294967296;return new o(v,0)}function c(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return x(c(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(v,8)),P=f,O=0;O<S.length;O+=8){var j=Math.min(8,S.length-O),k=parseInt(S.substring(O,O+j),v);8>j?(j=u(Math.pow(v,j)),P=P.j(j).add(u(k))):(P=P.j(T),P=P.add(u(k)))}return P}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();for(var S=0,v=1,T=0;T<this.g.length;T++){var P=this.i(T);S+=(0<=P?P:4294967296+P)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(w(this))return"-"+x(this).toString(S);for(var v=u(Math.pow(S,6)),T=this,P="";;){var O=N(T,v).g;T=b(T,O.j(v));var j=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=O,g(T))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=b(this,S),w(S)?-1:g(S)?0:1};function x(S){for(var v=S.g.length,T=[],P=0;P<v;P++)T[P]=~S.g[P];return new o(T,~S.h).add(p)}t.abs=function(){return w(this)?x(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],P=0,O=0;O<=v;O++){var j=P+(this.i(O)&65535)+(S.i(O)&65535),k=(j>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);P=k>>>16,j&=65535,k&=65535,T[O]=k<<16|j}return new o(T,T[T.length-1]&-2147483648?-1:0)};function b(S,v){return S.add(x(v))}t.j=function(S){if(g(this)||g(S))return f;if(w(this))return w(S)?x(this).j(x(S)):x(x(this).j(S));if(w(S))return x(this.j(x(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var v=this.g.length+S.g.length,T=[],P=0;P<2*v;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<S.g.length;O++){var j=this.i(P)>>>16,k=this.i(P)&65535,$=S.i(O)>>>16,F=S.i(O)&65535;T[2*P+2*O]+=k*F,y(T,2*P+2*O),T[2*P+2*O+1]+=j*F,y(T,2*P+2*O+1),T[2*P+2*O+1]+=k*$,y(T,2*P+2*O+1),T[2*P+2*O+2]+=j*$,y(T,2*P+2*O+2)}for(P=0;P<v;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=v;P<2*v;P++)T[P]=0;return new o(T,0)};function y(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function E(S,v){this.g=S,this.h=v}function N(S,v){if(g(v))throw Error("division by zero");if(g(S))return new E(f,f);if(w(S))return v=N(x(S),v),new E(x(v.g),x(v.h));if(w(v))return v=N(S,x(v)),new E(x(v.g),v.h);if(30<S.g.length){if(w(S)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var T=p,P=v;0>=P.l(S);)T=A(T),P=A(P);var O=I(T,1),j=I(P,1);for(P=I(P,2),T=I(T,2);!g(P);){var k=j.add(P);0>=k.l(S)&&(O=O.add(T),j=k),P=I(P,1),T=I(T,1)}return v=b(S,O.j(v)),new E(O,v)}for(O=f;0<=S.l(v);){for(T=Math.max(1,Math.floor(S.m()/v.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=u(T),k=j.j(v);w(k)||0<k.l(S);)T-=P,j=u(T),k=j.j(v);g(j)&&(j=p),O=O.add(j),S=b(S,k)}return new E(O,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],P=0;P<v;P++)T[P]=this.i(P)&S.i(P);return new o(T,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],P=0;P<v;P++)T[P]=this.i(P)|S.i(P);return new o(T,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],P=0;P<v;P++)T[P]=this.i(P)^S.i(P);return new o(T,this.h^S.h)};function A(S){for(var v=S.g.length+1,T=[],P=0;P<v;P++)T[P]=S.i(P)<<1|S.i(P-1)>>>31;return new o(T,S.h)}function I(S,v){var T=v>>5;v%=32;for(var P=S.g.length-T,O=[],j=0;j<P;j++)O[j]=0<v?S.i(j+T)>>>v|S.i(j+T+1)<<32-v:S.i(j+T);return new o(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,i2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,va=o}).apply(typeof XS<"u"?XS:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a2,Du,o2,ph,P0,s2,l2,u2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,C){return d==Array.prototype||d==Object.prototype||(d[_]=C.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var _=0;_<d.length;++_){var C=d[_];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var C=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var z=d[D];if(!(z in C))break e;C=C[z]}d=d[d.length-1],D=C[d],_=_(D),_!=D&&_!=null&&e(C,d,{configurable:!0,writable:!0,value:_})}}function a(d,_){d instanceof String&&(d+="");var C=0,D=!1,z={next:function(){if(!D&&C<d.length){var K=C++;return{value:_(K,d[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(d){return d||function(){return a(this,function(_,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function c(d,_,C){return d.call.apply(d.bind,arguments)}function f(d,_,C){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,D),d.apply(_,z)}}return function(){return d.apply(_,arguments)}}function p(d,_,C){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,p.apply(null,arguments)}function m(d,_){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function g(d,_){function C(){}C.prototype=_.prototype,d.aa=_.prototype,d.prototype=new C,d.prototype.constructor=d,d.Qb=function(D,z,K){for(var ae=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ae[Ze-2]=arguments[Ze];return _.prototype[z].apply(D,ae)}}function w(d){const _=d.length;if(0<_){const C=Array(_);for(let D=0;D<_;D++)C[D]=d[D];return C}return[]}function x(d,_){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const z=d.length||0,K=D.length||0;d.length=z+K;for(let ae=0;ae<K;ae++)d[z+ae]=D[ae]}else d.push(D)}}class b{constructor(_,C){this.i=_,this.j=C,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function N(d){return N[" "](d),d}N[" "]=function(){};var A=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function I(d,_,C){for(const D in d)_.call(C,d[D],D,d)}function S(d,_){for(const C in d)_.call(void 0,d[C],C,d)}function v(d){const _={};for(const C in d)_[C]=d[C];return _}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,_){let C,D;for(let z=1;z<arguments.length;z++){D=arguments[z];for(C in D)d[C]=D[C];for(let K=0;K<T.length;K++)C=T[K],Object.prototype.hasOwnProperty.call(D,C)&&(d[C]=D[C])}}function O(d){var _=1;d=d.split(":");const C=[];for(;0<_&&d.length;)C.push(d.shift()),_--;return d.length&&C.push(d.join(":")),C}function j(d){s.setTimeout(()=>{throw d},0)}function k(){var d=M;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,C){const D=F.get();D.set(_,C),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new b(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,C){this.h=_,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let R,B=!1,M=new $,X=()=>{const d=s.Promise.resolve(void 0);R=()=>{d.then(q)}};var q=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(C){j(C)}var _=F;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}B=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};s.addEventListener("test",C,_),s.removeEventListener("test",C,_)}catch{}return d}();function ve(d,_){if(H.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var C=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(A){e:{try{N(_.nodeName);var z=!0;break e}catch{}z=!1}z||(_=null)}}else C=="mouseover"?_=d.fromElement:C=="mouseout"&&(_=d.toElement);this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ve.aa.h.call(this)}}g(ve,H);var Ve={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),ie=0;function J(d,_,C,D,z){this.listener=d,this.proxy=null,this.src=_,this.type=C,this.capture=!!D,this.ha=z,this.key=++ie,this.da=this.fa=!1}function se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d){this.src=d,this.g={},this.h=0}ge.prototype.add=function(d,_,C,D,z){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var ae=Pe(d,_,D,z);return-1<ae?(_=d[ae],C||(_.fa=!1)):(_=new J(_,this.src,K,!!D,z),_.fa=C,d.push(_)),_};function te(d,_){var C=_.type;if(C in d.g){var D=d.g[C],z=Array.prototype.indexOf.call(D,_,void 0),K;(K=0<=z)&&Array.prototype.splice.call(D,z,1),K&&(se(_),d.g[C].length==0&&(delete d.g[C],d.h--))}}function Pe(d,_,C,D){for(var z=0;z<d.length;++z){var K=d[z];if(!K.da&&K.listener==_&&K.capture==!!C&&K.ha==D)return z}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),ze={};function Je(d,_,C,D,z){if(Array.isArray(_)){for(var K=0;K<_.length;K++)Je(d,_[K],C,D,z);return null}return C=Ie(C),d&&d[Be]?d.K(_,C,u(D)?!!D.capture:!1,z):Tt(d,_,C,!1,D,z)}function Tt(d,_,C,D,z,K){if(!_)throw Error("Invalid event type");var ae=u(z)?!!z.capture:!!z,Ze=ee(d);if(Ze||(d[xe]=Ze=new ge(d)),C=Ze.add(_,C,D,ae,K),C.proxy)return C;if(D=Dn(),C.proxy=D,D.src=d,D.listener=C,d.addEventListener)pe||(z=ae),z===void 0&&(z=!1),d.addEventListener(_.toString(),D,z);else if(d.attachEvent)d.attachEvent(ue(_.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Dn(){function d(C){return _.call(d.src,d.listener,C)}const _=G;return d}function gn(d,_,C,D,z){if(Array.isArray(_))for(var K=0;K<_.length;K++)gn(d,_[K],C,D,z);else D=u(D)?!!D.capture:!!D,C=Ie(C),d&&d[Be]?(d=d.i,_=String(_).toString(),_ in d.g&&(K=d.g[_],C=Pe(K,C,D,z),-1<C&&(se(K[C]),Array.prototype.splice.call(K,C,1),K.length==0&&(delete d.g[_],d.h--)))):d&&(d=ee(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Pe(_,C,D,z)),(C=-1<d?_[d]:null)&&ne(C))}function ne(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Be])te(_.i,d);else{var C=d.type,D=d.proxy;_.removeEventListener?_.removeEventListener(C,D,d.capture):_.detachEvent?_.detachEvent(ue(C),D):_.addListener&&_.removeListener&&_.removeListener(D),(C=ee(_))?(te(C,d),C.h==0&&(C.src=null,_[xe]=null)):se(d)}}}function ue(d){return d in ze?ze[d]:ze[d]="on"+d}function G(d,_){if(d.da)d=!0;else{_=new ve(_,this);var C=d.listener,D=d.ha||d.src;d.fa&&ne(d),d=C.call(D,_)}return d}function ee(d){return d=d[xe],d instanceof ge?d:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(d){return typeof d=="function"?d:(d[me]||(d[me]=function(_){return d.handleEvent(_)}),d[me])}function ce(){V.call(this),this.i=new ge(this),this.M=this,this.F=null}g(ce,V),ce.prototype[Be]=!0,ce.prototype.removeEventListener=function(d,_,C,D){gn(this,d,_,C,D)};function Ee(d,_){var C,D=d.F;if(D)for(C=[];D;D=D.F)C.push(D);if(d=d.M,D=_.type||_,typeof _=="string")_=new H(_,d);else if(_ instanceof H)_.target=_.target||d;else{var z=_;_=new H(D,d),P(_,z)}if(z=!0,C)for(var K=C.length-1;0<=K;K--){var ae=_.g=C[K];z=Ye(ae,D,!0,_)&&z}if(ae=_.g=d,z=Ye(ae,D,!0,_)&&z,z=Ye(ae,D,!1,_)&&z,C)for(K=0;K<C.length;K++)ae=_.g=C[K],z=Ye(ae,D,!1,_)&&z}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var C=d.g[_],D=0;D<C.length;D++)se(C[D]);delete d.g[_],d.h--}}this.F=null},ce.prototype.K=function(d,_,C,D){return this.i.add(String(d),_,!1,C,D)},ce.prototype.L=function(d,_,C,D){return this.i.add(String(d),_,!0,C,D)};function Ye(d,_,C,D){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,K=0;K<_.length;++K){var ae=_[K];if(ae&&!ae.da&&ae.capture==C){var Ze=ae.listener,Gt=ae.ha||ae.src;ae.fa&&te(d.i,ae),z=Ze.call(Gt,D)!==!1&&z}}return z&&!D.defaultPrevented}function yn(d,_,C){if(typeof d=="function")C&&(d=p(d,C));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:s.setTimeout(d,_||0)}function Yl(d){d.g=yn(()=>{d.g=null,d.i&&(d.i=!1,Yl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class qg extends V{constructor(_,C){super(),this.m=_,this.l=C,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(d){V.call(this),this.h=d,this.g={}}g(hr,V);var gx=[];function yx(d){I(d.g,function(_,C){this.g.hasOwnProperty(C)&&ne(_)},d),d.g={}}hr.prototype.N=function(){hr.aa.N.call(this),yx(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hg=s.JSON.stringify,E$=s.JSON.parse,S$=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function Gg(){}Gg.prototype.h=null;function vx(d){return d.h||(d.h=d.i())}function wx(){}var Xl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kg(){H.call(this,"d")}g(Kg,H);function Yg(){H.call(this,"c")}g(Yg,H);var Ba={},bx=null;function Kf(){return bx=bx||new ce}Ba.La="serverreachability";function _x(d){H.call(this,Ba.La,d)}g(_x,H);function Ql(d){const _=Kf();Ee(_,new _x(_))}Ba.STAT_EVENT="statevent";function xx(d,_){H.call(this,Ba.STAT_EVENT,d),this.stat=_}g(xx,H);function vn(d){const _=Kf();Ee(_,new xx(_,d))}Ba.Ma="timingevent";function Ex(d,_){H.call(this,Ba.Ma,d),this.size=_}g(Ex,H);function Jl(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},_)}function Zl(){this.g=!0}Zl.prototype.xa=function(){this.g=!1};function T$(d,_,C,D,z,K){d.info(function(){if(d.g)if(K)for(var ae="",Ze=K.split("&"),Gt=0;Gt<Ze.length;Gt++){var Fe=Ze[Gt].split("=");if(1<Fe.length){var tn=Fe[0];Fe=Fe[1];var nn=tn.split("_");ae=2<=nn.length&&nn[1]=="type"?ae+(tn+"="+Fe+"&"):ae+(tn+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+D+") [attempt "+z+"]: "+_+`
`+C+`
`+ae})}function A$(d,_,C,D,z,K,ae){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+z+"]: "+_+`
`+C+`
`+K+" "+ae})}function Wo(d,_,C,D){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+I$(d,C)+(D?" "+D:"")})}function P$(d,_){d.info(function(){return"TIMEOUT: "+_})}Zl.prototype.info=function(){};function I$(d,_){if(!d.g)return _;if(!_)return null;try{var C=JSON.parse(_);if(C){for(d=0;d<C.length;d++)if(Array.isArray(C[d])){var D=C[d];if(!(2>D.length)){var z=D[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Hg(C)}catch{return _}}var Yf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xg;function Xf(){}g(Xf,Gg),Xf.prototype.g=function(){return new XMLHttpRequest},Xf.prototype.i=function(){return{}},Xg=new Xf;function Ui(d,_,C,D){this.j=d,this.i=_,this.l=C,this.R=D||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tx}function Tx(){this.i=null,this.g="",this.h=!1}var Ax={},Qg={};function Jg(d,_,C){d.L=1,d.v=ed(ti(_)),d.m=C,d.P=!0,Px(d,null)}function Px(d,_){d.F=Date.now(),Qf(d),d.A=ti(d.v);var C=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Ux(C.i,"t",D),d.C=0,C=d.j.J,d.h=new Tx,d.g=aE(d.j,C?_:null,!d.m),0<d.O&&(d.M=new qg(p(d.Y,d,d.g),d.O)),_=d.U,C=d.g,D=d.ca;var z="readystatechange";Array.isArray(z)||(z&&(gx[0]=z.toString()),z=gx);for(var K=0;K<z.length;K++){var ae=Je(C,z[K],D||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=d.H?v(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ql(),T$(d.i,d.u,d.A,d.l,d.R,d.m)}Ui.prototype.ca=function(d){d=d.target;const _=this.M;_&&ni(d)==3?_.j():this.Y(d)},Ui.prototype.Y=function(d){try{if(d==this.g)e:{const nn=ni(this.g);var _=this.g.Ba();const Go=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Kx(this.g)))){this.J||nn!=4||_==7||(_==8||0>=Go?Ql(3):Ql(2)),Zg(this);var C=this.g.Z();this.X=C;t:if(Ix(this)){var D=Kx(this.g);d="";var z=D.length,K=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){za(this),eu(this);var ae="";break t}this.h.i=new s.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,d+=this.h.i.decode(D[_],{stream:!(K&&_==z-1)});D.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=C==200,A$(this.i,this.u,this.A,this.l,this.R,nn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Gt=this.g;if((Ze=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ze)){var Fe=Ze;break t}}Fe=null}if(C=Fe)Wo(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ey(this,C);else{this.o=!1,this.s=3,vn(12),za(this),eu(this);break e}}if(this.P){C=!0;let pr;for(;!this.J&&this.C<ae.length;)if(pr=O$(this,ae),pr==Qg){nn==4&&(this.s=4,vn(14),C=!1),Wo(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==Ax){this.s=4,vn(15),Wo(this.i,this.l,ae,"[Invalid Chunk]"),C=!1;break}else Wo(this.i,this.l,pr,null),ey(this,pr);if(Ix(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ae.length!=0||this.h.h||(this.s=1,vn(16),C=!1),this.o=this.o&&C,!C)Wo(this.i,this.l,ae,"[Invalid Chunked Response]"),za(this),eu(this);else if(0<ae.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),oy(tn),tn.M=!0,vn(11))}}else Wo(this.i,this.l,ae,null),ey(this,ae);nn==4&&za(this),this.o&&!this.J&&(nn==4?tE(this.j,this):(this.o=!1,Qf(this)))}else H$(this.g),C==400&&0<ae.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),za(this),eu(this)}}}catch{}finally{}};function Ix(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function O$(d,_){var C=d.C,D=_.indexOf(`
`,C);return D==-1?Qg:(C=Number(_.substring(C,D)),isNaN(C)?Ax:(D+=1,D+C>_.length?Qg:(_=_.slice(D,D+C),d.C=D+C,_)))}Ui.prototype.cancel=function(){this.J=!0,za(this)};function Qf(d){d.S=Date.now()+d.I,Ox(d,d.I)}function Ox(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Jl(p(d.ba,d),_)}function Zg(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Ui.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(P$(this.i,this.A),this.L!=2&&(Ql(),vn(17)),za(this),this.s=2,eu(this)):Ox(this,this.S-d)};function eu(d){d.j.G==0||d.J||tE(d.j,d)}function za(d){Zg(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,yx(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function ey(d,_){try{var C=d.j;if(C.G!=0&&(C.g==d||ty(C.h,d))){if(!d.K&&ty(C.h,d)&&C.G==3){try{var D=C.Da.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var z=D;if(z[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<d.F)od(C),id(C);else break e;ay(C),vn(18)}}else C.za=z[1],0<C.za-C.T&&37500>z[2]&&C.F&&C.v==0&&!C.C&&(C.C=Jl(p(C.Za,C),6e3));if(1>=Nx(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else qa(C,11)}else if((d.K||C.g==d)&&od(C),!y(_))for(z=C.Da.g.parse(_),_=0;_<z.length;_++){let Fe=z[_];if(C.T=Fe[0],Fe=Fe[1],C.G==2)if(Fe[0]=="c"){C.K=Fe[1],C.ia=Fe[2];const tn=Fe[3];tn!=null&&(C.la=tn,C.j.info("VER="+C.la));const nn=Fe[4];nn!=null&&(C.Aa=nn,C.j.info("SVER="+C.Aa));const Go=Fe[5];Go!=null&&typeof Go=="number"&&0<Go&&(D=1.5*Go,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const pr=d.g;if(pr){const ld=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ld){var K=D.h;K.g||ld.indexOf("spdy")==-1&&ld.indexOf("quic")==-1&&ld.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ny(K,K.h),K.h=null))}if(D.D){const sy=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;sy&&(D.ya=sy,ot(D.I,D.D,sy))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-d.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var ae=d;if(D.qa=iE(D,D.J?D.ia:null,D.W),ae.K){jx(D.h,ae);var Ze=ae,Gt=D.L;Gt&&(Ze.I=Gt),Ze.B&&(Zg(Ze),Qf(Ze)),D.g=ae}else Zx(D);0<C.i.length&&ad(C)}else Fe[0]!="stop"&&Fe[0]!="close"||qa(C,7);else C.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?qa(C,7):iy(C):Fe[0]!="noop"&&C.l&&C.l.ta(Fe),C.v=0)}}Ql(4)}catch{}}var C$=class{constructor(d,_){this.g=d,this.map=_}};function Cx(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Nx(d){return d.h?1:d.g?d.g.size:0}function ty(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function ny(d,_){d.g?d.g.add(_):d.h=_}function jx(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Cx.prototype.cancel=function(){if(this.i=Dx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Dx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const C of d.g.values())_=_.concat(C.D);return _}return w(d.i)}function k$(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],C=d.length,D=0;D<C;D++)_.push(d[D]);return _}_=[],C=0;for(D in d)_[C++]=d[D];return _}function N$(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var C=0;C<d;C++)_.push(C);return _}_=[],C=0;for(const D in d)_[C++]=D;return _}}}function Rx(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var C=N$(d),D=k$(d),z=D.length,K=0;K<z;K++)_.call(void 0,D[K],C&&C[K],d)}var Mx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function j$(d,_){if(d){d=d.split("&");for(var C=0;C<d.length;C++){var D=d[C].indexOf("="),z=null;if(0<=D){var K=d[C].substring(0,D);z=d[C].substring(D+1)}else K=d[C];_(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Wa(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Wa){this.h=d.h,Jf(this,d.j),this.o=d.o,this.g=d.g,Zf(this,d.s),this.l=d.l;var _=d.i,C=new ru;C.i=_.i,_.g&&(C.g=new Map(_.g),C.h=_.h),$x(this,C),this.m=d.m}else d&&(_=String(d).match(Mx))?(this.h=!1,Jf(this,_[1]||"",!0),this.o=tu(_[2]||""),this.g=tu(_[3]||"",!0),Zf(this,_[4]),this.l=tu(_[5]||"",!0),$x(this,_[6]||"",!0),this.m=tu(_[7]||"")):(this.h=!1,this.i=new ru(null,this.h))}Wa.prototype.toString=function(){var d=[],_=this.j;_&&d.push(nu(_,Lx,!0),":");var C=this.g;return(C||_=="file")&&(d.push("//"),(_=this.o)&&d.push(nu(_,Lx,!0),"@"),d.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&d.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(nu(C,C.charAt(0)=="/"?M$:R$,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",nu(C,L$)),d.join("")};function ti(d){return new Wa(d)}function Jf(d,_,C){d.j=C?tu(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Zf(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function $x(d,_,C){_ instanceof ru?(d.i=_,V$(d.i,d.h)):(C||(_=nu(_,$$)),d.i=new ru(_,d.h))}function ot(d,_,C){d.i.set(_,C)}function ed(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function tu(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function nu(d,_,C){return typeof d=="string"?(d=encodeURI(d).replace(_,D$),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function D$(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Lx=/[#\/\?@]/g,R$=/[#\?:]/g,M$=/[#\?]/g,$$=/[#\?@]/g,L$=/#/g;function ru(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Bi(d){d.g||(d.g=new Map,d.h=0,d.i&&j$(d.i,function(_,C){d.add(decodeURIComponent(_.replace(/\+/g," ")),C)}))}t=ru.prototype,t.add=function(d,_){Bi(this),this.i=null,d=qo(this,d);var C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(_),this.h+=1,this};function Vx(d,_){Bi(d),_=qo(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Fx(d,_){return Bi(d),_=qo(d,_),d.g.has(_)}t.forEach=function(d,_){Bi(this),this.g.forEach(function(C,D){C.forEach(function(z){d.call(_,z,D,this)},this)},this)},t.na=function(){Bi(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),C=[];for(let D=0;D<_.length;D++){const z=d[D];for(let K=0;K<z.length;K++)C.push(_[D])}return C},t.V=function(d){Bi(this);let _=[];if(typeof d=="string")Fx(this,d)&&(_=_.concat(this.g.get(qo(this,d))));else{d=Array.from(this.g.values());for(let C=0;C<d.length;C++)_=_.concat(d[C])}return _},t.set=function(d,_){return Bi(this),this.i=null,d=qo(this,d),Fx(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Ux(d,_,C){Vx(d,_),0<C.length&&(d.i=null,d.g.set(qo(d,_),w(C)),d.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var C=0;C<_.length;C++){var D=_[C];const K=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var z=K;ae[D]!==""&&(z+="="+encodeURIComponent(String(ae[D]))),d.push(z)}}return this.i=d.join("&")};function qo(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function V$(d,_){_&&!d.j&&(Bi(d),d.i=null,d.g.forEach(function(C,D){var z=D.toLowerCase();D!=z&&(Vx(this,D),Ux(this,z,C))},d)),d.j=_}function F$(d,_){const C=new Zl;if(s.Image){const D=new Image;D.onload=m(zi,C,"TestLoadImage: loaded",!0,_,D),D.onerror=m(zi,C,"TestLoadImage: error",!1,_,D),D.onabort=m(zi,C,"TestLoadImage: abort",!1,_,D),D.ontimeout=m(zi,C,"TestLoadImage: timeout",!1,_,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else _(!1)}function U$(d,_){const C=new Zl,D=new AbortController,z=setTimeout(()=>{D.abort(),zi(C,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:D.signal}).then(K=>{clearTimeout(z),K.ok?zi(C,"TestPingServer: ok",!0,_):zi(C,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),zi(C,"TestPingServer: error",!1,_)})}function zi(d,_,C,D,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),D(C)}catch{}}function B$(){this.g=new S$}function z$(d,_,C){const D=C||"";try{Rx(d,function(z,K){let ae=z;u(z)&&(ae=Hg(z)),_.push(D+K+"="+encodeURIComponent(ae))})}catch(z){throw _.push(D+"type="+encodeURIComponent("_badmap")),z}}function td(d){this.l=d.Ub||null,this.j=d.eb||!1}g(td,Gg),td.prototype.g=function(){return new nd(this.l,this.j)},td.prototype.i=function(d){return function(){return d}}({});function nd(d,_){ce.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(nd,ce),t=nd.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,au(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||s).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,iu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,au(this)),this.g&&(this.readyState=3,au(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bx(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bx(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?iu(this):au(this),this.readyState==3&&Bx(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,iu(this))},t.Qa=function(d){this.g&&(this.response=d,iu(this))},t.ga=function(){this.g&&iu(this)};function iu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,au(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var C=_.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=_.next();return d.join(`\r
`)};function au(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(nd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zx(d){let _="";return I(d,function(C,D){_+=D,_+=":",_+=C,_+=`\r
`}),_}function ry(d,_,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=zx(C),typeof d=="string"?C!=null&&encodeURIComponent(String(C)):ot(d,_,C))}function yt(d){ce.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(yt,ce);var W$=/^https?$/i,q$=["POST","PUT"];t=yt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xg.g(),this.v=this.o?vx(this.o):vx(Xg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(K){Wx(this,K);return}if(d=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var z in D)C.set(z,D[z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())C.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(K=>K.toLowerCase()=="content-type"),z=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(q$,_,void 0))||D||z||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of C)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gx(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){Wx(this,K)}};function Wx(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,qx(d),rd(d)}function qx(d){d.A||(d.A=!0,Ee(d,"complete"),Ee(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ee(this,"complete"),Ee(this,"abort"),rd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rd(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hx(this):this.bb())},t.bb=function(){Hx(this)};function Hx(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ni(d)!=4||d.Z()!=2)){if(d.u&&ni(d)==4)yn(d.Ea,0,d);else if(Ee(d,"readystatechange"),ni(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var C;if(!(C=_)){var D;if(D=ae===0){var z=String(d.D).match(Mx)[1]||null;!z&&s.self&&s.self.location&&(z=s.self.location.protocol.slice(0,-1)),D=!W$.test(z?z.toLowerCase():"")}C=D}if(C)Ee(d,"complete"),Ee(d,"success");else{d.m=6;try{var K=2<ni(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",qx(d)}}finally{rd(d)}}}}function rd(d,_){if(d.g){Gx(d);const C=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Ee(d,"ready");try{C.onreadystatechange=D}catch{}}}function Gx(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ni(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),E$(_)}};function Kx(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function H$(d){const _={};d=(d.g&&2<=ni(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(y(d[D]))continue;var C=O(d[D]);const z=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const K=_[z]||[];_[z]=K,K.push(C)}S(_,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ou(d,_,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||_}function Yx(d){this.Aa=0,this.i=[],this.j=new Zl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ou("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ou("baseRetryDelayMs",5e3,d),this.cb=ou("retryDelaySeedMs",1e4,d),this.Wa=ou("forwardChannelMaxRetries",2,d),this.wa=ou("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Cx(d&&d.concurrentRequestLimit),this.Da=new B$,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yx.prototype,t.la=8,t.G=1,t.connect=function(d,_,C,D){vn(0),this.W=d,this.H=_||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=iE(this,null,this.W),ad(this)};function iy(d){if(Xx(d),d.G==3){var _=d.U++,C=ti(d.I);if(ot(C,"SID",d.K),ot(C,"RID",_),ot(C,"TYPE","terminate"),su(d,C),_=new Ui(d,d.j,_),_.L=2,_.v=ed(ti(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(_.v.toString(),"")}catch{}!C&&s.Image&&(new Image().src=_.v,C=!0),C||(_.g=aE(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Qf(_)}rE(d)}function id(d){d.g&&(oy(d),d.g.cancel(),d.g=null)}function Xx(d){id(d),d.u&&(s.clearTimeout(d.u),d.u=null),od(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function ad(d){if(!kx(d.h)&&!d.s){d.s=!0;var _=d.Ga;R||X(),B||(R(),B=!0),M.add(_,d),d.B=0}}function G$(d,_){return Nx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Jl(p(d.Ga,d,_),nE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new Ui(this,this.j,d);let K=this.o;if(this.S&&(K?(K=v(K),P(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var _=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,4096<_){_=C;break e}if(_===4096||C===this.i.length-1){_=C+1;break e}}_=1e3}else _=1e3;_=Jx(this,z,_),C=ti(this.I),ot(C,"RID",d),ot(C,"CVER",22),this.D&&ot(C,"X-HTTP-Session-Id",this.D),su(this,C),K&&(this.O?_="headers="+encodeURIComponent(String(zx(K)))+"&"+_:this.m&&ry(C,this.m,K)),ny(this.h,z),this.Ua&&ot(C,"TYPE","init"),this.P?(ot(C,"$req",_),ot(C,"SID","null"),z.T=!0,Jg(z,C,null)):Jg(z,C,_),this.G=2}}else this.G==3&&(d?Qx(this,d):this.i.length==0||kx(this.h)||Qx(this))};function Qx(d,_){var C;_?C=_.l:C=d.U++;const D=ti(d.I);ot(D,"SID",d.K),ot(D,"RID",C),ot(D,"AID",d.T),su(d,D),d.m&&d.o&&ry(D,d.m,d.o),C=new Ui(d,d.j,C,d.B+1),d.m===null&&(C.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Jx(d,C,1e3),C.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ny(d.h,C),Jg(C,D,_)}function su(d,_){d.H&&I(d.H,function(C,D){ot(_,D,C)}),d.l&&Rx({},function(C,D){ot(_,D,C)})}function Jx(d,_,C){C=Math.min(d.i.length,C);var D=d.l?p(d.l.Na,d.l,d):null;e:{var z=d.i;let K=-1;for(;;){const ae=["count="+C];K==-1?0<C?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Ze=!0;for(let Gt=0;Gt<C;Gt++){let Fe=z[Gt].g;const tn=z[Gt].map;if(Fe-=K,0>Fe)K=Math.max(0,z[Gt].g-100),Ze=!1;else try{z$(tn,ae,"req"+Fe+"_")}catch{D&&D(tn)}}if(Ze){D=ae.join("&");break e}}}return d=d.i.splice(0,C),_.D=d,D}function Zx(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;R||X(),B||(R(),B=!0),M.add(_,d),d.v=0}}function ay(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Jl(p(d.Fa,d),nE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,eE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Jl(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),id(this),eE(this))};function oy(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function eE(d){d.g=new Ui(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=ti(d.qa);ot(_,"RID","rpc"),ot(_,"SID",d.K),ot(_,"AID",d.T),ot(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(_,"TO",d.ja),ot(_,"TYPE","xmlhttp"),su(d,_),d.m&&d.o&&ry(_,d.m,d.o),d.L&&(d.g.I=d.L);var C=d.g;d=d.ia,C.L=1,C.v=ed(ti(_)),C.m=null,C.P=!0,Px(C,d)}t.Za=function(){this.C!=null&&(this.C=null,id(this),ay(this),vn(19))};function od(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function tE(d,_){var C=null;if(d.g==_){od(d),oy(d),d.g=null;var D=2}else if(ty(d.h,_))C=_.D,jx(d.h,_),D=1;else return;if(d.G!=0){if(_.o)if(D==1){C=_.m?_.m.length:0,_=Date.now()-_.F;var z=d.B;D=Kf(),Ee(D,new Ex(D,C)),ad(d)}else Zx(d);else if(z=_.s,z==3||z==0&&0<_.X||!(D==1&&G$(d,_)||D==2&&ay(d)))switch(C&&0<C.length&&(_=d.h,_.i=_.i.concat(C)),z){case 1:qa(d,5);break;case 4:qa(d,10);break;case 3:qa(d,6);break;default:qa(d,2)}}}function nE(d,_){let C=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(C*=2),C*_}function qa(d,_){if(d.j.info("Error code "+_),_==2){var C=p(d.fb,d),D=d.Xa;const z=!D;D=new Wa(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Jf(D,"https"),ed(D),z?F$(D.toString(),C):U$(D.toString(),C)}else vn(2);d.G=0,d.l&&d.l.sa(_),rE(d),Xx(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function rE(d){if(d.G=0,d.ka=[],d.l){const _=Dx(d.h);(_.length!=0||d.i.length!=0)&&(x(d.ka,_),x(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function iE(d,_,C){var D=C instanceof Wa?ti(C):new Wa(C);if(D.g!="")_&&(D.g=_+"."+D.g),Zf(D,D.s);else{var z=s.location;D=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var K=new Wa(null);D&&Jf(K,D),_&&(K.g=_),z&&Zf(K,z),C&&(K.l=C),D=K}return C=d.D,_=d.ya,C&&_&&ot(D,C,_),ot(D,"VER",d.la),su(d,D),D}function aE(d,_,C){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new yt(new td({eb:C})):new yt(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oE(){}t=oE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sd(){}sd.prototype.g=function(d,_){return new Rn(d,_)};function Rn(d,_){ce.call(this),this.g=new Yx(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!y(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ho(this)}g(Rn,ce),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){iy(this.g)},Rn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.u&&(C={},C.__data__=Hg(d),d=C);_.i.push(new C$(_.Ya++,d)),_.G==3&&ad(_)},Rn.prototype.N=function(){this.g.l=null,delete this.j,iy(this.g),delete this.g,Rn.aa.N.call(this)};function sE(d){Kg.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const C in _){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}g(sE,Kg);function lE(){Yg.call(this),this.status=1}g(lE,Yg);function Ho(d){this.g=d}g(Ho,oE),Ho.prototype.ua=function(){Ee(this.g,"a")},Ho.prototype.ta=function(d){Ee(this.g,new sE(d))},Ho.prototype.sa=function(d){Ee(this.g,new lE)},Ho.prototype.ra=function(){Ee(this.g,"b")},sd.prototype.createWebChannel=sd.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,u2=function(){return new sd},l2=function(){return Kf()},s2=Ba,P0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yf.NO_ERROR=0,Yf.TIMEOUT=8,Yf.HTTP_ERROR=6,ph=Yf,Sx.COMPLETE="complete",o2=Sx,wx.EventType=Xl,Xl.OPEN="a",Xl.CLOSE="b",Xl.ERROR="c",Xl.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Du=wx,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,a2=yt}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const QS="@firebase/firestore",JS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new m_("@firebase/firestore");function es(){return Po.logLevel}function fe(t,...e){if(Po.logLevel<=Ne.DEBUG){const n=e.map(A_);Po.debug(`Firestore (${kl}): ${t}`,...n)}}function Pi(t,...e){if(Po.logLevel<=Ne.ERROR){const n=e.map(A_);Po.error(`Firestore (${kl}): ${t}`,...n)}}function Io(t,...e){if(Po.logLevel<=Ne.WARN){const n=e.map(A_);Po.warn(`Firestore (${kl}): ${t}`,...n)}}function A_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,c2(t,r,n)}function c2(t,e,n){let r=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||c2(e,i,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class YU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XU{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new f2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class QU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ZS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ZS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=eB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function I0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return By(i)===By(a)?je(i,a):By(i)?1:-1}return je(t.length,e.length)}const tB=55296,nB=57343;function By(t){const e=t.charCodeAt(0);return e>=tB&&e<=nB}function Gs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__name__";class Vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Vr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return je(e.length,n.length)}static compareSegments(e,n){const r=Vr.isNumericId(e),i=Vr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):I0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return va.fromString(e.substring(4,e.length-2))}}class rt extends Vr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const rB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Vr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return rB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eT}static keyField(){return new zt([eT])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p2(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tT(t){if(!ye.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nT(t){if(ye.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$m(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function Of(t,e){if(!m2(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=-62135596800,iT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iT);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rT)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Of(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function iB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Ta(i,ye.empty(),e)}function aB(t){return new Ta(t.readTime,t.key,Ic)}class Ta{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ta(Se.min(),ye.empty(),Ic)}static max(){return new Ta(Se.max(),ye.empty(),Ic)}}function oB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==sB)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Z((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function uB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-1;function Vm(t){return t==null}function ep(t){return t===0&&1/t==-1/0}function cB(t){return typeof t=="number"&&Number.isInteger(t)&&!ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="";function fB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aT(e)),e=dB(t.get(n),e);return aT(e)}function dB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case g2:n+="";break;default:n+=a}}return n}function aT(t){return t+g2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Od(this.root,e,this.comparator,!1)}getReverseIterator(){return new Od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Od(this.root,e,this.comparator,!0)}}class Od{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=a??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Lt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new v2("Invalid base64 string: "+a):a}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const hB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=hB.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pa(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="server_timestamp",b2="__type__",_2="__previous_value__",x2="__local_write_time__";function I_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[b2])==null?void 0:r.stringValue)===w2}function Fm(t){const e=t.mapValue.fields[_2];return I_(e)?Fm(e):e}function Oc(t){const e=Aa(t.mapValue.fields[x2].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,r,i,a,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const tp="(default)";class Ks{constructor(e,n){this.projectId=e,this.database=n||tp}static empty(){return new Ks("","")}get isDefaultDatabase(){return this.database===tp}isEqual(e){return e instanceof Ks&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="__type__",mB="__max__",Cd={mapValue:{}},S2="__vector__",np="value";function Ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I_(t)?4:yB(t)?9007199254740991:gB(t)?10:11:_e(28295,{value:t})}function Qr(t,e){if(t===e)return!0;const n=Ia(t);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Aa(i.timestampValue),s=Aa(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Pa(i.bytesValue).isEqual(Pa(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return xt(i.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return xt(i.integerValue)===xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=xt(i.doubleValue),s=xt(a.doubleValue);return o===s?ep(o)===ep(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Gs(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(oT(o)!==oT(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Qr(o[l],s[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function Cc(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=Ia(t),r=Ia(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=xt(a.integerValue||a.doubleValue),l=xt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return lT(t.timestampValue,e.timestampValue);case 4:return lT(Oc(t),Oc(e));case 5:return I0(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Pa(a),l=Pa(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=je(s[u],l[u]);if(c!==0)return c}return je(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=je(xt(a.latitude),xt(o.latitude));return s!==0?s:je(xt(a.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uT(t.arrayValue,e.arrayValue);case 10:return function(a,o){var p,m,g,w;const s=a.fields||{},l=o.fields||{},u=(p=s[np])==null?void 0:p.arrayValue,c=(m=l[np])==null?void 0:m.arrayValue,f=je(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((w=c==null?void 0:c.values)==null?void 0:w.length)||0);return f!==0?f:uT(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Cd.mapValue&&o===Cd.mapValue)return 0;if(a===Cd.mapValue)return 1;if(o===Cd.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const p=I0(l[f],c[f]);if(p!==0)return p;const m=Ys(s[l[f]],u[c[f]]);if(m!==0)return m}return je(l.length,c.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function lT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Aa(t),r=Aa(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function uT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ys(n[i],r[i]);if(a)return a}return je(n.length,r.length)}function Xs(t){return O0(t)}function O0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Aa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Pa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=O0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${O0(n.fields[o])}`;return i+"}"}(t.mapValue):_e(61005,{value:t})}function mh(t){switch(Ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fm(t);return e?16+mh(e):16;case 5:return 2*t.stringValue.length;case 6:return Pa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+mh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ra(r.fields,(a,o)=>{i+=a.length+mh(o)}),i}(t.mapValue);default:throw _e(13486,{value:t})}}function cT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function C0(t){return!!t&&"integerValue"in t}function O_(t){return!!t&&"arrayValue"in t}function fT(t){return!!t&&"nullValue"in t}function dT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}function gB(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[E2])==null?void 0:r.stringValue)===S2}function Ju(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ju(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return{...t}}function yB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=Ju(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ra(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Pn(Ju(this.value))}}function T2(t){const e=[];return Ra(t.fields,(n,r)=>{const i=new zt([n]);if(gh(r)){const a=T2(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new cn(e,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.position=e,this.inclusive=n}}function hT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function pT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function vB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{}class Ot extends A2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bB(e,n,r):n==="array-contains"?new EB(e,r):n==="in"?new SB(e,r):n==="not-in"?new TB(e,r):n==="array-contains-any"?new AB(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _B(e,r):new xB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ys(n,this.value)):n!==null&&Ia(this.value)===Ia(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends A2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Dr(e,n)}matches(e){return P2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P2(t){return t.op==="and"}function I2(t){return wB(t)&&P2(t)}function wB(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function k0(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(I2(t))return t.filters.map(e=>k0(e)).join(",");{const e=t.filters.map(n=>k0(n)).join(",");return`${t.op}(${e})`}}function O2(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&O2(o,i.filters[s]),!0):!1}(t,e):void _e(19439)}function C2(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(C2).join(" ,")+"}"}(t):"Filter"}class bB extends Ot{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class _B extends Ot{constructor(e,n){super(e,"in",n),this.keys=k2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xB extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=k2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function k2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class EB extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return O_(n)&&Cc(n.arrayValue,this.value)}}class SB extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cc(this.value.arrayValue,n)}}class TB extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cc(this.value.arrayValue,n)}}class AB extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!O_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function mT(t,e=null,n=[],r=[],i=null,a=null,o=null){return new PB(t,e,n,r,i,a,o)}function C_(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>k0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.Te=n}return e.Te}function k_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pT(t.startAt,e.startAt)&&pT(t.endAt,e.endAt)}function N0(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IB(t,e,n,r,i,a,o,s){return new Dl(t,e,n,r,i,a,o,s)}function Um(t){return new Dl(t)}function gT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N2(t){return t.collectionGroup!==null}function Zu(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Lt(zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new kc(a,r))}),n.has(zt.keyField().canonicalString())||e.Ie.push(new kc(zt.keyField(),r))}return e.Ie}function Gr(t){const e=Ae(t);return e.Ee||(e.Ee=OB(e,Zu(t))),e.Ee}function OB(t,e){if(t.limitType==="F")return mT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new kc(i.field,a)});const n=t.endAt?new rp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rp(t.startAt.position,t.startAt.inclusive):null;return mT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function j0(t,e){const n=t.filters.concat([e]);return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function D0(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bm(t,e){return k_(Gr(t),Gr(e))&&t.limitType===e.limitType}function j2(t){return`${C_(Gr(t))}|lt:${t.limitType}`}function ts(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>C2(i)).join(", ")}]`),Vm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xs(i)).join(",")),`Target(${r})`}(Gr(t))}; limitType=${t.limitType})`}function zm(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Zu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=hT(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,Zu(r),i)||r.endAt&&!function(o,s,l){const u=hT(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,Zu(r),i))}(t,e)}function CB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function D2(t){return(e,n)=>{let r=!1;for(const i of Zu(t)){const a=kB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function kB(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Ys(l,u):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return y2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new gt(ye.comparator);function Ii(){return NB}const R2=new gt(ye.comparator);function Ru(...t){let e=R2;for(const n of t)e=e.insert(n.key,n);return e}function M2(t){let e=R2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function io(){return ec()}function $2(){return ec()}function ec(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const jB=new gt(ye.comparator),DB=new Lt(ye.comparator);function De(...t){let e=DB;for(const n of t)e=e.add(n);return e}const RB=new Lt(je);function MB(){return RB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ep(e)?"-0":e}}function L2(t){return{integerValue:""+t}}function $B(t,e){return cB(e)?L2(e):N_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this._=void 0}}function LB(t,e,n){return t instanceof ip?function(i,a){const o={fields:{[b2]:{stringValue:w2},[x2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&I_(a)&&(a=Fm(a)),a&&(o.fields[_2]=a),{mapValue:o}}(n,e):t instanceof Nc?F2(t,e):t instanceof jc?U2(t,e):function(i,a){const o=V2(i,a),s=yT(o)+yT(i.Ae);return C0(o)&&C0(i.Ae)?L2(s):N_(i.serializer,s)}(t,e)}function VB(t,e,n){return t instanceof Nc?F2(t,e):t instanceof jc?U2(t,e):n}function V2(t,e){return t instanceof ap?function(r){return C0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ip extends Wm{}class Nc extends Wm{constructor(e){super(),this.elements=e}}function F2(t,e){const n=B2(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends Wm{constructor(e){super(),this.elements=e}}function U2(t,e){let n=B2(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class ap extends Wm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yT(t){return xt(t.integerValue||t.doubleValue)}function B2(t){return O_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function FB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nc&&i instanceof Nc||r instanceof jc&&i instanceof jc?Gs(r.elements,i.elements,Qr):r instanceof ap&&i instanceof ap?Qr(r.Ae,i.Ae):r instanceof ip&&i instanceof ip}(t.transform,e.transform)}class UB{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qm{}function z2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j_(t.key,Or.none()):new Cf(t.key,t.data,Or.none());{const n=t.data,r=Pn.empty();let i=new Lt(zt.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Ma(t.key,r,new zn(i.toArray()),Or.none())}}function BB(t,e,n){t instanceof Cf?function(i,a,o){const s=i.value.clone(),l=wT(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Ma?function(i,a,o){if(!yh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=wT(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(W2(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tc(t,e,n,r){return t instanceof Cf?function(a,o,s,l){if(!yh(a.precondition,o))return s;const u=a.value.clone(),c=bT(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ma?function(a,o,s,l){if(!yh(a.precondition,o))return s;const u=bT(a.fieldTransforms,l,o),c=o.data;return c.setAll(W2(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return yh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function zB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=V2(r.transform,i||null);a!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,a))}return n||null}function vT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gs(r,i,(a,o)=>FB(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cf extends qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ma extends qm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function W2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wT(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,VB(o,s,n[i]))}return r}function bT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,LB(a,o,e))}return r}class j_ extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WB extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&BB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$2();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=z2(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(n,r)=>vT(n,r))&&Gs(this.baseMutations,e.baseMutations,(n,r)=>vT(n,r))}}class D_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return jB}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new D_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Me;function KB(t){switch(t){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function q2(t){if(t===void 0)return Pi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case At.OK:return Q.OK;case At.CANCELLED:return Q.CANCELLED;case At.UNKNOWN:return Q.UNKNOWN;case At.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case At.INTERNAL:return Q.INTERNAL;case At.UNAVAILABLE:return Q.UNAVAILABLE;case At.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case At.NOT_FOUND:return Q.NOT_FOUND;case At.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case At.ABORTED:return Q.ABORTED;case At.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case At.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:t})}}(Me=At||(At={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=new va([4294967295,4294967295],0);function _T(t){const e=YB().encode(t),n=new i2;return n.update(e),new Uint8Array(n.digest())}function xT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new va([n,r],0),new va([i,a],0)]}class R_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(r<0)throw new Mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=va.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(va.fromNumber(r)));return i.compare(XB)===1&&(i=new va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_T(e),[r,i]=xT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new R_(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const n=_T(e),[r,i]=xT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hm(Se.min(),i,new gt(je),Ii(),De())}}class kf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kf(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class H2{constructor(e,n){this.targetId=e,this.Ce=n}}class G2{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ET{constructor(){this.ve=0,this.Fe=ST(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),r=De();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}}),new kf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ST()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ii(),this.Je=kd(),this.He=kd(),this.Ye=new gt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(N0(a))if(r===0){const o=new ye(a.path);this.et(n,o,cn.newNoDocument(o,Se.min()))}else qe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Pa(r).toUint8Array()}catch(l){if(l instanceof v2)return Io("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new R_(o,i,a)}catch(l){return Io(l instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&N0(s.target)){const l=new ye(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,cn.newNoDocument(l,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let r=De();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new Hm(e,n,this.Ye,this.je,r);return this.je=Ii(),this.Je=kd(),this.He=kd(),this.Ye=new gt(je),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ET,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ET),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kd(){return new gt(ye.comparator)}function ST(){return new gt(ye.comparator)}const JB={asc:"ASCENDING",desc:"DESCENDING"},ZB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e9={and:"AND",or:"OR"};class t9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R0(t,e){return t.useProto3Json||Vm(e)?e:{value:e}}function op(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n9(t,e){return op(t,e.toTimestamp())}function Kr(t){return qe(!!t,49232),Se.fromTimestamp(function(n){const r=Aa(n);return new it(r.seconds,r.nanos)}(t))}function M_(t,e){return M0(t,e).canonicalString()}function M0(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Y2(t){const e=rt.fromString(t);return qe(ej(e),10190,{key:e.toString()}),e}function $0(t,e){return M_(t.databaseId,e.path)}function zy(t,e){const n=Y2(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(Q2(n))}function X2(t,e){return M_(t.databaseId,e)}function r9(t){const e=Y2(t);return e.length===4?rt.emptyPath():Q2(e)}function L0(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Q2(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TT(t,e,n){return{name:$0(t,e),fields:n.value.mapValue.fields}}function i9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(qe(c===void 0||typeof c=="string",58123),qt.fromBase64String(c||"")):(qe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?Q.UNKNOWN:q2(u.code);return new le(c,u.message||"")}(o);n=new G2(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zy(t,r.document.name),a=Kr(r.document.updateTime),o=r.document.createTime?Kr(r.document.createTime):Se.min(),s=new Pn({mapValue:{fields:r.document.fields}}),l=cn.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new vh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zy(t,r.document),a=r.readTime?Kr(r.readTime):Se.min(),o=cn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new vh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zy(t,r.document),a=r.removedTargetIds||[];n=new vh([],a,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new GB(i,a),s=r.targetId;n=new H2(s,o)}}return n}function a9(t,e){let n;if(e instanceof Cf)n={update:TT(t,e.key,e.value)};else if(e instanceof j_)n={delete:$0(t,e.key)};else if(e instanceof Ma)n={update:TT(t,e.key,e.data),updateMask:p9(e.fieldMask)};else{if(!(e instanceof WB))return _e(16599,{Vt:e.type});n={verify:$0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof ip)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Nc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ap)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:n9(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)}(t,e.precondition)),n}function o9(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Kr(i.updateTime):Kr(a);return o.isEqual(Se.min())&&(o=Kr(a)),new UB(o,i.transformResults||[])}(n,e))):[]}function s9(t,e){return{documents:[X2(t,e.path)]}}function l9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=X2(t,i);const a=function(u){if(u.length!==0)return Z2(Dr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:ns(p.field),direction:f9(p.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=R0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function u9(t){let e=r9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const p=J2(f);return p instanceof Dr&&I2(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(g){return new kc(rs(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let s=null;n.limit&&(s=function(f){let p;return p=typeof f=="object"?f.value:f,Vm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new rp(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new rp(m,p)}(n.endAt)),IB(e,i,o,a,s,"F",l,u)}function c9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rs(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rs(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rs(n.unaryFilter.field);return Ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rs(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>J2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function f9(t){return JB[t]}function d9(t){return ZB[t]}function h9(t){return e9[t]}function ns(t){return{fieldPath:t.canonicalString()}}function rs(t){return zt.fromServerFormat(t.fieldPath)}function Z2(t){return t instanceof Ot?function(n){if(n.op==="=="){if(dT(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NAN"}};if(fT(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dT(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NAN"}};if(fT(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(n.field),op:d9(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(i=>Z2(i));return r.length===1?r[0]:{compositeFilter:{op:h9(n.op),filters:r}}}(t):_e(54877,{filter:t})}function p9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ej(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r,i,a=Se.min(),o=Se.min(),s=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.yt=e}}function g9(t){const e=u9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.Cn=new v9}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Ta.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class v9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(rt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tj=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(tj,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qs(0)}static cr(){return new Qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="LruGarbageCollector",w9=1048576;function IT([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class b9{constructor(e){this.Ir=e,this.buffer=new Lt(IT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();IT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(PT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jl(n)?fe(PT,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Vr(3e5)})}}class x9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Lm.ce);const r=new b9(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(AT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),es()<=Ne.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function E9(t,e){return new x9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.changes=new $o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&tc(r.mutation,i,zn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Ru();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Ii();const o=ec(),s=function(){return ec()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ma)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),tc(c.mutation,u,c.mutation.getFieldMask(),it.now())):o.set(u.key,zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>s.set(u,new T9(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=ec();let i=new gt((o,s)=>o-s),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||De()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=$2();c.forEach(p=>{if(!a.has(p)){const m=z2(n.get(p),r.get(p));m!==null&&f.set(p,m),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Z.resolve(io());let s=Ic,l=a;return o.next(u=>Z.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?Z.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,De())).next(c=>({batchId:s,changes:M2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=Ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Ru();return this.indexManager.getCollectionParents(e,a).next(s=>Z.forEach(s,l=>{const u=function(f,p){return new Dl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,cn.newInvalidDocument(c)))});let s=Ru();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&tc(c.mutation,u,zn.empty(),it.now()),zm(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:g9(i.bundledQuery),readTime:Kr(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.overlays=new gt(ye.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=io();return Z.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=io(),a=n.length+1,o=new ye(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new gt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=io(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=io(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Z.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HB(n,r));let a=this.qr.get(n);a===void 0&&(a=De(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.Qr=new Lt(Ft.$r),this.Ur=new Lt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ye(new rt([])),r=new Ft(n,e),i=new Ft(n,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),r=new Ft(n,e),i=new Ft(n,e+1);let a=De();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Ft.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qB(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Ft(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?P_:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(je);return n.forEach(i=>{const a=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{r=r.add(s.Yr)})}),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const o=new Ft(new ye(a),0);let s=new Lt(je);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),Z.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,i=>{const a=new Ft(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.ri=e,this.docs=function(){return new gt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Ii();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ii();const o=n.path,s=new ye(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oB(aB(c),r)<=0||(i.has(c.key)||zm(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N9(this)}getSize(e){return Z.resolve(this.size)}}class N9 extends S9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.persistence=e,this.si=new $o(n=>C_(n),k_),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new $_,this.targetCount=0,this.ai=Qs.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(a).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lm(0),this.li=!1,this.li=!0,this.hi=new O9,this.referenceDelegate=e(this),this.Pi=new j9(this),this.indexManager=new y9,this.remoteDocumentCache=function(i){return new k9(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new m9(n),this.Ii=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new C9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new D9(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return Z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class D9 extends lB{constructor(e){super(),this.currentSequenceNumber=e}}class L_{constructor(e){this.persistence=e,this.Ri=new $_,this.Vi=null}static mi(e){return new L_(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,r=>{const i=ye.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,Se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sp{constructor(e,n){this.persistence=e,this.pi=new $o(r=>fB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=E9(this,n)}static mi(e,n){return new sp(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?Z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(s=>{s||(r++,a.removeEntry(o,Se.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}br(e,n,r){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=De(),i=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new V_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return uF()?8:uB(mn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new R9;return this.Ss(e,n,o).next(s=>{if(a.result=s,this.Vs)return this.bs(e,n,o,s.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(es()<=Ne.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(es()<=Ne.DEBUG&&fe("QueryEngine","Query:",ts(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(es()<=Ne.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(n))):Z.resolve())}ys(e,n){if(gT(n))return Z.resolve(null);let r=Gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=D0(n,null,"F"),r=Gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=De(...a);return this.ps.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,o,l.readTime)?this.ys(e,D0(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return gT(n)||i.isEqual(Se.min())?Z.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?Z.resolve(null):(es()<=Ne.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ts(n)),this.vs(e,o,n,iB(i,Ic)).next(s=>s))})}Ds(e,n){let r=new Lt(D2(e));return n.forEach((i,a)=>{zm(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return es()<=Ne.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ts(n)),this.ps.getDocumentsMatchingQuery(e,n,Ta.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LocalStore",$9=3e8;class L9{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new gt(je),this.xs=new $o(a=>C_(a),k_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function V9(t,e,n,r){return new L9(t,e,n,r)}async function rj(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=De();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function F9(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,p=f.keys();let m=Z.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(w=>{const x=u.docVersions.get(g);qe(x!==null,48541),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=De();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ij(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function U9(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;s.push(n.Pi.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(a,c.addedDocuments,f)));let m=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(w,x,b){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=$9?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,c)&&s.push(n.Pi.updateTargetData(a,m))});let l=Ii(),u=De();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(B9(a,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(Se.min())){const c=n.Pi.getLastRemoteSnapshotVersion(a).next(f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return Z.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function B9(t,e,n){let r=De(),i=De();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Ii();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):fe(F_,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function z9(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=P_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W9(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,Z.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new aa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function V0(t,e,n){const r=Ae(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jl(o))throw o;fe(F_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function OT(t,e,n){const r=Ae(t);let i=Se.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Ae(l),p=f.xs.get(c);return p!==void 0?Z.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,c)}(r,o,Gr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?a:De())).next(s=>(q9(r,CB(e),s),{documents:s,Qs:a})))}function q9(t,e,n){let r=t.Os.get(e)||Se.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class CT{constructor(){this.activeTargetIds=MB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H9{constructor(){this.Mo=new CT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="ConnectivityMonitor";class NT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(kT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(kT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd=null;function F0(){return Nd===null?Nd=function(){return 268435456+Math.round(2147483648*Math.random())}():Nd++,"0x"+Nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="RestConnection",K9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===tp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=F0(),s=this.zo(e,n.toUriEncodedString());fe(Wy,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),c=Il(u);return this.Jo(e,s,l,r,c).then(f=>(fe(Wy,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Io(Wy,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",r),f})}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=K9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class Q9 extends Y9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=F0();return new Promise((s,l)=>{const u=new a2;u.setWithCredentials(!0),u.listenOnce(o2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ph.NO_ERROR:const f=u.getResponseJson();fe(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ph.TIMEOUT:fe(on,`RPC '${e}' ${o} timed out`),l(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const p=u.getStatus();if(fe(on,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(y)>=0?y:Q.UNKNOWN}(g.status);l(new le(w,g.message))}else l(new le(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{fe(on,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);fe(on,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=F0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=u2(),s=l2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");fe(on,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);this.I_(f);let p=!1,m=!1;const g=new X9({Yo:x=>{m?fe(on,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(fe(on,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),fe(on,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Zo:()=>f.close()}),w=(x,b,y)=>{x.listen(b,E=>{try{y(E)}catch(N){setTimeout(()=>{throw N},0)}})};return w(f,Du.EventType.OPEN,()=>{m||(fe(on,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),w(f,Du.EventType.CLOSE,()=>{m||(m=!0,fe(on,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(f))}),w(f,Du.EventType.ERROR,x=>{m||(m=!0,Io(on,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),g.a_(new le(Q.UNAVAILABLE,"The operation could not be completed")))}),w(f,Du.EventType.MESSAGE,x=>{var b;if(!m){const y=x.data[0];qe(!!y,16349);const E=y,N=(E==null?void 0:E.error)||((b=E[0])==null?void 0:b.error);if(N){fe(on,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let I=function(T){const P=At[T];if(P!==void 0)return q2(P)}(A),S=N.message;I===void 0&&(I=Q.INTERNAL,S="Unknown error status: "+A+" with message "+N.message),m=!0,g.a_(new le(I,S)),f.close()}else fe(on,`RPC '${e}' stream ${i} received:`,y),g.u_(y)}}),w(s,s2.STAT_EVENT,x=>{x.stat===P0.PROXY?fe(on,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===P0.NOPROXY&&fe(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function qy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){return new t9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="PersistentStream";class oj{constructor(e,n,r,i,a,o,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(jT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(jT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J9 extends oj{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=i9(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Kr(o.readTime):Se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=L0(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=N0(l)?{documents:s9(a,l)}:{query:l9(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=K2(a,o.resumeToken);const u=R0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){s.readTime=op(a,o.snapshotVersion.toTimestamp());const u=R0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=c9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=L0(this.serializer),n.removeTarget=e,this.q_(n)}}class Z9 extends oj{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o9(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=L0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{}class t5 extends e5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,M0(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(e,M0(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Q.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class n5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="RemoteStore";class r5{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Lo(this)&&(fe(Oo,"Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.Ea.add(4),await Nf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Km(u)}(this))})}),this.Ra=new n5(r,i)}}async function Km(t){if(Lo(t))for(const e of t.da)await e(!0)}async function Nf(t){for(const e of t.da)await e(!1)}function sj(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),W_(n)?z_(n):Rl(n).O_()&&B_(n,e))}function U_(t,e){const n=Ae(t),r=Rl(n);n.Ia.delete(e),r.O_()&&lj(n,e),n.Ia.size===0&&(r.O_()?r.L_():Lo(n)&&n.Ra.set("Unknown"))}function B_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rl(t).Y_(e)}function lj(t,e){t.Va.Ue(e),Rl(t).Z_(e)}function z_(t){t.Va=new QB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rl(t).start(),t.Ra.ua()}function W_(t){return Lo(t)&&!Rl(t).x_()&&t.Ia.size>0}function Lo(t){return Ae(t).Ea.size===0}function uj(t){t.Va=void 0}async function i5(t){t.Ra.set("Online")}async function a5(t){t.Ia.forEach((e,n)=>{B_(t,e)})}async function o5(t,e){uj(t),W_(t)?(t.Ra.ha(e),z_(t)):t.Ra.set("Unknown")}async function s5(t,e,n){if(t.Ra.set("Online"),e instanceof G2&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){fe(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lp(t,r)}else if(e instanceof vh?t.Va.Ze(e):e instanceof H2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const r=await ij(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(qt.EMPTY_BYTE_STRING,c.snapshotVersion)),lj(a,l);const f=new aa(c.target,l,u,c.sequenceNumber);B_(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){fe(Oo,"Failed to raise snapshot:",r),await lp(t,r)}}async function lp(t,e,n){if(!jl(e))throw e;t.Ea.add(1),await Nf(t),t.Ra.set("Offline"),n||(n=()=>ij(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Oo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Km(t)})}function cj(t,e){return e().catch(n=>lp(t,n,e))}async function Ym(t){const e=Ae(t),n=Oa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:P_;for(;l5(e);)try{const i=await z9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,u5(e,i)}catch(i){await lp(e,i)}fj(e)&&dj(e)}function l5(t){return Lo(t)&&t.Ta.length<10}function u5(t,e){t.Ta.push(e);const n=Oa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fj(t){return Lo(t)&&!Oa(t).x_()&&t.Ta.length>0}function dj(t){Oa(t).start()}async function c5(t){Oa(t).ra()}async function f5(t){const e=Oa(t);for(const n of t.Ta)e.ea(n.mutations)}async function d5(t,e,n){const r=t.Ta.shift(),i=D_.from(r,e,n);await cj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ym(t)}async function h5(t,e){e&&Oa(t).X_&&await async function(r,i){if(function(o){return KB(o)&&o!==Q.ABORTED}(i.code)){const a=r.Ta.shift();Oa(r).B_(),await cj(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ym(r)}}(t,e),fj(t)&&dj(t)}async function DT(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),fe(Oo,"RemoteStore received new credentials");const r=Lo(n);n.Ea.add(3),await Nf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Km(n)}async function p5(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Km(n)):e||(n.Ea.add(2),await Nf(n),n.Ra.set("Unknown"))}function Rl(t){return t.ma||(t.ma=function(n,r,i){const a=Ae(n);return a.sa(),new J9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:i5.bind(null,t),t_:a5.bind(null,t),r_:o5.bind(null,t),H_:s5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),W_(t)?z_(t):t.Ra.set("Unknown")):(await t.ma.stop(),uj(t))})),t.ma}function Oa(t){return t.fa||(t.fa=function(n,r,i){const a=Ae(n);return a.sa(),new Z9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:c5.bind(null,t),r_:h5.bind(null,t),ta:f5.bind(null,t),na:d5.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ym(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Oo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new q_(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H_(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),jl(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{static emptySet(e){return new Ns(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Ru(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ns;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.ga=new gt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Js{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Js(e,n,Ns.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class g5{constructor(){this.queries=MT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ae(n),a=i.queries;i.queries=MT(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function MT(){return new $o(t=>j2(t),Bm)}async function G_(t,e){const n=Ae(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new m5,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=H_(o,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Y_(n)}async function K_(t,e){const n=Ae(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function y5(t,e){const n=Ae(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(r=!0);o.wa=i}}r&&Y_(n)}function v5(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Y_(t){t.Ca.forEach(e=>{e.next()})}var U0,$T;($T=U0||(U0={})).Ma="default",$T.Cache="cache";class X_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==U0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.key=e}}class pj{constructor(e){this.key=e}}class w5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=D2(e),this.tu=new Ns(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new RT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=zm(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?g!==w&&(r.track({type:3,doc:m}),x=!0):this.su(p,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(s=!0)),x&&(m?(o=o.add(m),a=w?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Cs:s,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,f)=>function(m,g){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:x})}};return w(m)-w(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Js(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new pj(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new hj(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Js.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Q_="SyncEngine";class b5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _5{constructor(e){this.key=e,this.hu=!1}}class x5{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new $o(s=>j2(s),Bm),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ye.comparator),this.Au=new Map,this.Ru=new $_,this.Vu={},this.mu=new Map,this.fu=Qs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E5(t,e,n=!0){const r=bj(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await mj(r,e,n,!0),i}async function S5(t,e){const n=bj(t);await mj(n,e,!0,!1)}async function mj(t,e,n,r){const i=await W9(t.localStore,Gr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await T5(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&sj(t.remoteStore,i),s}async function T5(t,e,n,r,i){t.pu=(f,p,m)=>async function(w,x,b,y){let E=x.view.ru(b);E.Cs&&(E=await OT(w.localStore,x.query,!1).then(({documents:S})=>x.view.ru(S,E)));const N=y&&y.targetChanges.get(x.targetId),A=y&&y.targetMismatches.get(x.targetId)!=null,I=x.view.applyChanges(E,w.isPrimaryClient,N,A);return VT(w,x.targetId,I.au),I.snapshot}(t,f,p,m);const a=await OT(t.localStore,e,!0),o=new w5(e,a.Qs),s=o.ru(a.documents),l=kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);VT(t,n,u.au);const c=new b5(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function A5(t,e,n){const r=Ae(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!Bm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await V0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U_(r.remoteStore,i.targetId),B0(r,i.targetId)}).catch(Nl)):(B0(r,i.targetId),await V0(r.localStore,i.targetId,!0))}async function P5(t,e){const n=Ae(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U_(n.remoteStore,r.targetId))}async function I5(t,e,n){const r=R5(t);try{const i=await function(o,s){const l=Ae(o),u=it.now(),c=s.reduce((m,g)=>m.add(g.key),De());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Ii(),w=De();return l.Ns.getEntries(m,c).next(x=>{g=x,g.forEach((b,y)=>{y.isValidDocument()||(w=w.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(x=>{f=x;const b=[];for(const y of s){const E=zB(y,f.get(y.key).overlayedDocument);E!=null&&b.push(new Ma(y.key,E,T2(E.value.mapValue),Or.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,s)}).next(x=>{p=x;const b=x.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(m,x.batchId,b)})}).then(()=>({batchId:p.batchId,changes:M2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new gt(je)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await jf(r,i.changes),await Ym(r.remoteStore)}catch(i){const a=H_(i,"Failed to persist write");n.reject(a)}}async function gj(t,e){const n=Ae(t);try{const r=await U9(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?qe(o.hu,14607):i.removedDocuments.size>0&&(qe(o.hu,42227),o.hu=!1))}),await jf(n,r,e)}catch(r){await Nl(r)}}function LT(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Ae(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const p of f.Sa)p.va(s)&&(u=!0)}),u&&Y_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O5(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new gt(ye.comparator);o=o.insert(a,cn.newNoDocument(a,Se.min()));const s=De().add(a),l=new Hm(Se.min(),new Map,new gt(je),o,s);await gj(r,l),r.du=r.du.remove(a),r.Au.delete(e),J_(r)}else await V0(r.localStore,e,!1).then(()=>B0(r,e,n)).catch(Nl)}async function C5(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await F9(n.localStore,e);vj(n,r,null),yj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jf(n,i)}catch(i){await Nl(i)}}async function k5(t,e,n){const r=Ae(t);try{const i=await function(o,s){const l=Ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(qe(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);vj(r,e,n),yj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jf(r,i)}catch(i){await Nl(i)}}function yj(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function vj(t,e,n){const r=Ae(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function B0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||wj(t,r)})}function wj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(U_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),J_(t))}function VT(t,e,n){for(const r of n)r instanceof hj?(t.Ru.addReference(r.key,e),N5(t,r)):r instanceof pj?(fe(Q_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||wj(t,r.key)):_e(19791,{wu:r})}function N5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(Q_,"New document in limbo: "+n),t.Eu.add(r),J_(t))}function J_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new _5(n)),t.du=t.du.insert(n,r),sj(t.remoteStore,new aa(Gr(Um(n.path)),r,"TargetPurposeLimboResolution",Lm.ce))}}async function jf(t,e,n){const r=Ae(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=V_.As(l.targetId,u);a.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const c=Ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(u,p=>Z.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Z.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!jl(f))throw f;fe(F_,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,w)}}}(r.localStore,a))}async function j5(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){fe(Q_,"User change. New user:",e.toKey());const r=await rj(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new le(Q.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jf(n,r.Ls)}}function D5(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return De().add(r.key);{let i=De();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function bj(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O5.bind(null,e),e.Pu.H_=y5.bind(null,e.eventManager),e.Pu.yu=v5.bind(null,e.eventManager),e}function R5(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k5.bind(null,e),e}class up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return V9(this.persistence,new M9,e.initialUser,this.serializer)}Cu(e){return new nj(L_.mi,this.serializer)}Du(e){return new H9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}up.provider={build:()=>new up};class M5 extends up{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof sp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new nj(r=>sp.mi(r,n),this.serializer)}}class z0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j5.bind(null,this.syncEngine),await p5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g5}()}createDatastore(e){const n=Gm(e.databaseInfo.databaseId),r=function(a){return new Q9(a)}(e.databaseInfo);return function(a,o,s,l){return new t5(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new r5(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>LT(this.syncEngine,n,0),function(){return NT.v()?new NT:new G9}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const f=new x5(i,a,o,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ae(i);fe(Oo,"RemoteStore shutting down."),a.Ea.add(5),await Nf(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}z0.provider={build:()=>new z0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class $5{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{fe(Ca,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe(Ca,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=H_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hy(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ca,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L5(t);fe(Ca,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>DT(e.remoteStore,i)),t._onlineComponents=e}async function L5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ca,"Using user provided OfflineComponentProvider");try{await Hy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await Hy(t,new up)}}else fe(Ca,"Using default OfflineComponentProvider"),await Hy(t,new M5(void 0));return t._offlineComponents}async function _j(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ca,"Using user provided OnlineComponentProvider"),await FT(t,t._uninitializedComponentsProvider._online)):(fe(Ca,"Using default OnlineComponentProvider"),await FT(t,new z0))),t._onlineComponents}function V5(t){return _j(t).then(e=>e.syncEngine)}async function cp(t){const e=await _j(t),n=e.eventManager;return n.onListen=E5.bind(null,e.syncEngine),n.onUnlisten=A5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P5.bind(null,e.syncEngine),n}function F5(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new Z_({next:p=>{c.Nu(),o.enqueueAndForget(()=>K_(a,f));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new X_(Um(s.path),c,{includeMetadataChanges:!0,qa:!0});return G_(a,f)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}function U5(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new Z_({next:p=>{c.Nu(),o.enqueueAndForget(()=>K_(a,f)),p.fromCache&&l.source==="server"?u.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new X_(s,c,{includeMetadataChanges:!0,qa:!0});return G_(a,f)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="firestore.googleapis.com",BT=!0;class zT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ej,this.ssl=BT}else this.host=e.host,this.ssl=e.ssl??BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w9)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xj(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new d2;switch(r.type){case"firstParty":return new JU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=UT.get(n);r&&(fe("ComponentProvider","Removing Datastore"),UT.delete(n),r.terminate())}(this),Promise.resolve()}}function Sj(t,e,n,r={}){var u;t=qn(t,Xm);const i=Il(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(gN(`https://${s}`),yN("Firestore",!0)),a.host!==Ej&&a.host!==s&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:r};if(!Eo(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=ln.MOCK_USER;else{c=eF(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ln(p)}t._authCredentials=new YU(new f2(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Of(n,bt._jsonSchema))return new bt(e,r||null,new ye(rt.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ct("string",bt._jsonSchemaVersion),referencePath:Ct("string")};class yi extends $i{constructor(e,n,r){super(e,n,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ye(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function wh(t,e,...n){if(t=Nt(t),h2("collection","path",e),t instanceof Xm){const r=rt.fromString(e,...n);return nT(r),new yi(t,null,r)}{if(!(t instanceof bt||t instanceof yi))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return nT(r),new yi(t.firestore,null,r)}}function nc(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=Mm.newId()),h2("doc","path",e),t instanceof Xm){const r=rt.fromString(e,...n);return tT(r),new bt(t,null,new ye(r))}{if(!(t instanceof bt||t instanceof yi))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return tT(r),new bt(t.firestore,t instanceof yi?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aj(this,"async_queue_retry"),this._c=()=>{const r=qy();r&&fe(WT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=qy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new gi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;fe(WT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",HT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=q_.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:HT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function HT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Oi extends Xm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function Tj(t,e){const n=typeof t=="object"?t:_N(),r=typeof t=="string"?t:tp,i=y_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=JV("firestore");a&&Sj(i,...a)}return i}function Df(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B5(t),t._firestoreClient}function B5(t){var r,i,a;const e=t._freezeSettings(),n=function(s,l,u,c){return new pB(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xj(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(qt.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Of(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ct("string",Fn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(Of(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:Ct("string",Cr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Of(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kr(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:Ct("string",kr._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=/^__.*__$/;class W5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cf(e,this.data,n,this.fieldTransforms)}}class Aj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class e1{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new e1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Pj(this.Ac)&&z5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class q5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gm(e)}Cc(e,n,r,i=!1){return new e1({Ac:e,methodName:n,Dc:r,path:zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t1(t){const e=t._freezeSettings(),n=Gm(t._databaseId);return new q5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H5(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);n1("Data must be an object, but it was:",o,r);const s=Ij(r,o);let l,u;if(a.merge)l=new zn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const p=W0(e,f,n);if(!o.contains(p))throw new le(Q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Cj(c,p)||c.push(p)}l=new zn(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new W5(new Pn(s),l,u)}class Jm extends Qm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jm}}function G5(t,e,n,r){const i=t.Cc(1,e,n);n1("Data must be an object, but it was:",i,r);const a=[],o=Pn.empty();Ra(r,(l,u)=>{const c=r1(e,l,n);u=Nt(u);const f=i.yc(c);if(u instanceof Jm)a.push(c);else{const p=Mf(u,f);p!=null&&(a.push(c),o.set(c,p))}});const s=new zn(a);return new Aj(o,s,i.fieldTransforms)}function K5(t,e,n,r,i,a){const o=t.Cc(1,e,n),s=[W0(e,r,n)],l=[i];if(a.length%2!=0)throw new le(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(W0(e,a[p])),l.push(a[p+1]);const u=[],c=Pn.empty();for(let p=s.length-1;p>=0;--p)if(!Cj(u,s[p])){const m=s[p];let g=l[p];g=Nt(g);const w=o.yc(m);if(g instanceof Jm)u.push(m);else{const x=Mf(g,w);x!=null&&(u.push(m),c.set(m,x))}}const f=new zn(u);return new Aj(c,f,o.fieldTransforms)}function Y5(t,e,n,r=!1){return Mf(n,t.Cc(r?4:3,e))}function Mf(t,e){if(Oj(t=Nt(t)))return n1("Unsupported field value:",e,t),Ij(t,e);if(t instanceof Qm)return function(r,i){if(!Pj(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Mf(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $B(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:op(i.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:op(i.serializer,a)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:K2(i.serializer,r._byteString)};if(r instanceof bt){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:M_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return function(o,s){return{mapValue:{fields:{[E2]:{stringValue:S2},[np]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return N_(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${$m(r)}`)}(t,e)}function Ij(t,e){const n={};return y2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(t,(r,i)=>{const a=Mf(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Oj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Cr||t instanceof Fn||t instanceof bt||t instanceof Qm||t instanceof kr)}function n1(t,e,n){if(!Oj(n)||!m2(n)){const r=$m(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function W0(t,e,n){if((e=Nt(e))instanceof Rf)return e._internalPath;if(typeof e=="string")return r1(t,e);throw fp("Field path arguments must be of type string or ",t,!1,void 0,n)}const X5=new RegExp("[~\\*/\\[\\]]");function r1(t,e,n){if(e.search(X5)>=0)throw fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch{throw fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fp(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new le(Q.INVALID_ARGUMENT,s+t+l)}function Cj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q5 extends kj{data(){return super.data()}}function Zm(t,e){return typeof e=="string"?r1(t,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i1{}class a1 extends i1{}function q0(t,e,...n){let r=[];e instanceof i1&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof eg).length,s=a.filter(l=>l instanceof $f).length;if(o>1||o>0&&s>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $f extends a1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $f(e,n,r)}_apply(e){const n=this._parse(e);return jj(e._query,n),new $i(e.firestore,e.converter,j0(e._query,n))}_parse(e){const n=t1(e.firestore);return function(a,o,s,l,u,c,f){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){YT(f,c);const g=[];for(const w of f)g.push(KT(l,a,w));p={arrayValue:{values:g}}}else p=KT(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||YT(f,c),p=Y5(s,o,f,c==="in"||c==="not-in");return Ot.create(u,c,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function H0(t,e,n){const r=e,i=Zm("where",t);return $f._create(i,r,n)}class eg extends i1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)jj(o,l),o=j0(o,l)}(e._query,n),new $i(e.firestore,e.converter,j0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tg extends a1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tg(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kc(a,o)}(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Dl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function G0(t,e="asc"){const n=e,r=Zm("orderBy",t);return tg._create(r,n)}function KT(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N2(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(r))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cT(t,new ye(r))}if(n instanceof bt)return cT(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(n)}.`)}function YT(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jj(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Dj{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ra(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[np].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>xt(o.doubleValue));return new kr(n)}convertGeoPoint(e){return new Cr(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);qe(ej(r),9688,{name:e});const i=new Ks(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ws{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends kj{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Ct("string",wa._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class rc extends wa{data(e={}){return super.data(e)}}class ba{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rc(this._firestore,this._userDataWriter,r.key,r,new ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new rc(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ws(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new rc(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ws(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:Z5(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){t=qn(t,bt);const e=qn(t.firestore,Oi);return F5(Df(e),t._key).then(n=>Uj(e,t,n))}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Ct("string",ba._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class o1 extends Dj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function Mj(t){t=qn(t,$i);const e=qn(t.firestore,Oi),n=Df(e),r=new o1(e);return Nj(t._query),U5(n,t._query).then(i=>new ba(e,r,t,i))}function $j(t,e,n,...r){t=qn(t,bt);const i=qn(t.firestore,Oi),a=t1(i);let o;return o=typeof(e=Nt(e))=="string"||e instanceof Rf?K5(a,"updateDoc",t._key,e,n,r):G5(a,"updateDoc",t._key,e),ng(i,[o.toMutation(t._key,Or.exists(!0))])}function Lj(t){return ng(qn(t.firestore,Oi),[new j_(t._key,Or.none())])}function Vj(t,e){const n=qn(t.firestore,Oi),r=nc(t),i=J5(t.converter,e);return ng(n,[H5(t1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function Fj(t,...e){var l,u,c;t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||GT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(GT(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(c=f.complete)==null?void 0:c.bind(f)}let a,o,s;if(t instanceof bt)o=qn(t.firestore,Oi),s=Um(t._key.path),a={next:f=>{e[r]&&e[r](Uj(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=qn(t,$i);o=qn(f.firestore,Oi),s=f._query;const p=new o1(o);a={next:m=>{e[r]&&e[r](new ba(o,p,f,m))},error:e[r+1],complete:e[r+2]},Nj(t._query)}return function(p,m,g,w){const x=new Z_(w),b=new X_(m,x,g);return p.asyncQueue.enqueueAndForget(async()=>G_(await cp(p),b)),()=>{x.Nu(),p.asyncQueue.enqueueAndForget(async()=>K_(await cp(p),b))}}(Df(o),s,i,a)}function ng(t,e){return function(r,i){const a=new gi;return r.asyncQueue.enqueueAndForget(async()=>I5(await V5(r),i,a)),a.promise}(Df(t),e)}function Uj(t,e,n){const r=n.docs.get(e._key),i=new o1(t);return new wa(t,i,e._key,r,new ws(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){kl=i})(Ol),qs(new So("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Oi(new XU(r.getProvider("auth-internal")),new ZU(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(u.options.projectId,c)}(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),ya(QS,JS,e),ya(QS,JS,"esm2020")})();const ez=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Dj,Bytes:Fn,CollectionReference:yi,DocumentReference:bt,DocumentSnapshot:wa,FieldPath:Rf,FieldValue:Qm,Firestore:Oi,FirestoreError:le,GeoPoint:Cr,Query:$i,QueryCompositeFilterConstraint:eg,QueryConstraint:a1,QueryDocumentSnapshot:rc,QueryFieldFilterConstraint:$f,QueryOrderByConstraint:tg,QuerySnapshot:ba,SnapshotMetadata:ws,Timestamp:it,VectorValue:kr,_AutoId:Mm,_ByteString:qt,_DatabaseId:Ks,_DocumentKey:ye,_EmptyAuthCredentialsProvider:d2,_FieldPath:zt,_cast:qn,_logWarn:Io,_validateIsNotUsedTogether:p2,addDoc:Vj,collection:wh,connectFirestoreEmulator:Sj,deleteDoc:Lj,doc:nc,ensureFirestoreConfigured:Df,executeWrite:ng,getDoc:Rj,getDocs:Mj,getFirestore:Tj,onSnapshot:Fj,orderBy:G0,query:q0,updateDoc:$j,where:H0},Symbol.toStringTag,{value:"Module"})),tz={apiKey:"AIzaSyAkjFOtCOHhZxbB_D_5lLsxccDgEsZV5JQ",authDomain:"cashpilot-2003e.firebaseapp.com",projectId:"cashpilot-2003e",storageBucket:"cashpilot-2003e.firebasestorage.app",messagingSenderId:"953051666821",appId:"1:953051666821:web:73107f4cee7df56c188cec"},Bj=bN(tz),is=qU(Bj),Xa=Tj(Bj),nz=Object.freeze(Object.defineProperty({__proto__:null,auth:is,db:Xa},Symbol.toStringTag,{value:"Module"})),zj=L.createContext(),Lf=()=>{const t=L.useContext(zj);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},rz=({children:t})=>{const[e,n]=L.useState(null),[r,i]=L.useState(!0),[a,o]=L.useState(null),s=async(m,g,w)=>{try{o(null);const{user:x}=await P6(is,m,g);return w&&await C6(x,{displayName:w}),x}catch(x){throw o(x.message),x}},l=async(m,g)=>{try{o(null);const{user:w}=await I6(is,m,g);return w}catch(w){throw o(w.message),w}},u=async()=>{try{o(null),await D6(is)}catch(m){throw o(m.message),m}},c=async m=>{try{o(null),await A6(is,m)}catch(g){throw o(g.message),g}},f=()=>o(null);L.useEffect(()=>j6(is,g=>{n(g),i(!1)}),[]);const p={currentUser:e,signup:s,signin:l,logout:u,resetPassword:c,error:a,clearError:f,loading:r};return h.jsx(zj.Provider,{value:p,children:!r&&t})},Qe={create:async(t,e,n)=>{console.log(`[FirebaseService] Creating document in ${t}:`,e),console.log("[FirebaseService] User ID:",n);try{const r={...e,userId:n,createdAt:new Date,updatedAt:new Date};console.log("[FirebaseService] Final document data:",r);const i=await Vj(wh(Xa,t),r);console.log("[FirebaseService] Document created with ID:",i.id);const a={id:i.id,...e,userId:n,createdAt:r.createdAt,updatedAt:r.updatedAt};return console.log("[FirebaseService] Returning:",a),a}catch(r){throw console.error(`[FirebaseService] Error creating document in ${t}:`,r),console.error("[FirebaseService] Error code:",r.code),console.error("[FirebaseService] Error message:",r.message),r}},update:async(t,e,n)=>{try{const r=nc(Xa,t,e);return await $j(r,{...n,updatedAt:new Date}),{id:e,...n}}catch(r){throw console.error("Error updating document:",r),r}},delete:async(t,e)=>{try{return await Lj(nc(Xa,t,e)),e}catch(n){throw console.error("Error deleting document:",n),n}},getAll:async(t,e)=>{try{const n=q0(wh(Xa,t),H0("userId","==",e),G0("createdAt","desc"));return(await Mj(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Error getting documents:",n),n}},getOne:async(t,e)=>{try{const n=nc(Xa,t,e),r=await Rj(n);if(r.exists())return{id:r.id,...r.data()};throw new Error("Document not found")}catch(n){throw console.error("Error getting document:",n),n}},subscribe:(t,e,n)=>{try{const r=q0(wh(Xa,t),H0("userId","==",e),G0("createdAt","desc"));return Fj(r,i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));n(a)})}catch(r){throw console.error("Error subscribing to updates:",r),r}}},jd={create:(t,e)=>Qe.create("transactions",t,e),update:(t,e)=>Qe.update("transactions",t,e),delete:t=>Qe.delete("transactions",t),getAll:t=>Qe.getAll("transactions",t),subscribe:(t,e)=>Qe.subscribe("transactions",t,e)},as={create:(t,e)=>Qe.create("categories",t,e),update:(t,e)=>Qe.update("categories",t,e),delete:t=>Qe.delete("categories",t),getAll:t=>Qe.getAll("categories",t),subscribe:(t,e)=>Qe.subscribe("categories",t,e)},Dd={create:(t,e)=>Qe.create("budgets",t,e),update:(t,e)=>Qe.update("budgets",t,e),delete:t=>Qe.delete("budgets",t),getAll:t=>Qe.getAll("budgets",t),subscribe:(t,e)=>Qe.subscribe("budgets",t,e)},Rd={create:(t,e)=>Qe.create("goals",t,e),update:(t,e)=>Qe.update("goals",t,e),delete:t=>Qe.delete("goals",t),getAll:t=>Qe.getAll("goals",t),subscribe:(t,e)=>Qe.subscribe("goals",t,e)},Md={create:(t,e)=>Qe.create("recurringTransactions",t,e),update:(t,e)=>Qe.update("recurringTransactions",t,e),delete:t=>Qe.delete("recurringTransactions",t),getAll:t=>Qe.getAll("recurringTransactions",t),subscribe:(t,e)=>Qe.subscribe("recurringTransactions",t,e)},Wj=L.createContext(),qj=()=>{const t=L.useContext(Wj);if(!t)throw new Error("useData must be used within a DataProvider");return t},Gy=[{id:"1",name:"Food & Dining",color:"#ef4444",type:"expense"},{id:"2",name:"Transportation",color:"#f97316",type:"expense"},{id:"3",name:"Entertainment",color:"#eab308",type:"expense"},{id:"4",name:"Shopping",color:"#22c55e",type:"expense"},{id:"5",name:"Healthcare",color:"#06b6d4",type:"expense"},{id:"6",name:"Utilities",color:"#3b82f6",type:"expense"},{id:"7",name:"Housing",color:"#8b5cf6",type:"expense"},{id:"8",name:"Education",color:"#ec4899",type:"expense"},{id:"9",name:"Salary",color:"#10b981",type:"income"},{id:"10",name:"Business",color:"#059669",type:"income"},{id:"11",name:"Investment",color:"#0d9488",type:"income"},{id:"12",name:"Other Income",color:"#0891b2",type:"income"},{id:"13",name:"Savings",color:"#10b981",type:"expense"}],iz=({children:t})=>{const{user:e}=Lf(),[n,r]=L.useState([]),[i,a]=L.useState(Gy),[o,s]=L.useState([]),[l,u]=L.useState([]),[c,f]=L.useState([]),[p,m]=L.useState({currency:"USD",theme:"light"}),[g,w]=L.useState(!1),[x,b]=L.useState(null);L.useEffect(()=>{e?y():(r([]),a(Gy),s([]),u([]),f([]),m({currency:"USD",theme:"light"}))},[e]);const y=async()=>{if(e){w(!0),b(null);try{const[q,V,H,pe,ve,Ve]=await Promise.all([jd.getAll(e.uid),as.getAll(e.uid),Dd.getAll(e.uid),Md.getAll(e.uid),Rd.getAll(e.uid),E(e.uid)]);r(q||[]);const Be=V&&V.length>0?V:Gy;if(!Be.some(se=>se.name==="Savings")){const se={name:"Savings",color:"#10b981",type:"expense"};try{const ge=await as.create(se,e.uid);Be.push(ge)}catch(ge){console.error("Error creating Savings category:",ge),Be.push({id:"savings-fallback",...se})}}a(Be),s(H||[]),u(pe||[]),f(ve||[]);const J=Ve||{currency:"USD",theme:"light"};m(J),document.documentElement.setAttribute("data-theme",J.theme)}catch(q){console.error("Error loading data:",q),b("Failed to load data")}finally{w(!1)}}},E=async q=>{try{return(await Qe.getAll("settings",q))[0]||null}catch(V){return console.error("Error getting settings:",V),null}},X={transactions:n,categories:i,budgets:o,recurringTransactions:l,goals:c,settings:p,loading:g,error:x,addTransaction:async q=>{if(console.log("[DataContext] addTransaction called with:",q),console.log("[DataContext] Current user:",e==null?void 0:e.uid),!e){console.error("[DataContext] No user authenticated"),b("User not authenticated");return}try{console.log("[DataContext] Calling transactionService.create...");const V=await jd.create(q,e.uid);return console.log("[DataContext] Transaction created successfully:",V),r(H=>{console.log("[DataContext] Updating transactions state. Previous count:",H.length);const pe=[V,...H];return console.log("[DataContext] New transactions count:",pe.length),pe}),V}catch(V){throw console.error("[DataContext] Error adding transaction:",V),console.error("[DataContext] Error details:",{message:V.message,code:V.code,stack:V.stack}),b(`Failed to add transaction: ${V.message}`),V}},updateTransaction:async(q,V)=>{if(e)try{const H=await jd.update(q,V);return r(pe=>pe.map(ve=>ve.id===q?H:ve)),H}catch(H){throw console.error("Error updating transaction:",H),b("Failed to update transaction"),H}},deleteTransaction:async q=>{if(e)try{await jd.delete(q),r(V=>V.filter(H=>H.id!==q))}catch(V){throw console.error("Error deleting transaction:",V),b("Failed to delete transaction"),V}},addCategory:async q=>{if(e)try{const V=await as.create(q,e.uid);return a(H=>[...H,V]),V}catch(V){throw console.error("Error adding category:",V),b("Failed to add category"),V}},updateCategory:async(q,V)=>{if(e)try{const H=await as.update(q,V);return a(pe=>pe.map(ve=>ve.id===q?H:ve)),H}catch(H){throw console.error("Error updating category:",H),b("Failed to update category"),H}},deleteCategory:async q=>{if(e)try{await as.delete(q),a(V=>V.filter(H=>H.id!==q))}catch(V){throw console.error("Error deleting category:",V),b("Failed to delete category"),V}},addBudget:async q=>{if(e)try{const V=await Dd.create(q,e.uid);return s(H=>[...H,V]),V}catch(V){throw console.error("Error adding budget:",V),b("Failed to add budget"),V}},updateBudget:async(q,V)=>{if(e)try{const H=await Dd.update(q,V);return s(pe=>pe.map(ve=>ve.id===q?H:ve)),H}catch(H){throw console.error("Error updating budget:",H),b("Failed to update budget"),H}},deleteBudget:async q=>{if(e)try{await Dd.delete(q),s(V=>V.filter(H=>H.id!==q))}catch(V){throw console.error("Error deleting budget:",V),b("Failed to delete budget"),V}},addGoal:async q=>{if(e)try{const V=await Rd.create(q,e.uid);return f(H=>[...H,V]),V}catch(V){throw console.error("Error adding goal:",V),b("Failed to add goal"),V}},updateGoal:async(q,V)=>{if(e)try{const H=await Rd.update(q,V);return f(pe=>pe.map(ve=>ve.id===q?H:ve)),H}catch(H){throw console.error("Error updating goal:",H),b("Failed to update goal"),H}},deleteGoal:async q=>{if(e)try{await Rd.delete(q),f(V=>V.filter(H=>H.id!==q))}catch(V){throw console.error("Error deleting goal:",V),b("Failed to delete goal"),V}},addRecurringTransaction:async q=>{if(e)try{const V=await Md.create(q,e.uid);return u(H=>[...H,V]),V}catch(V){throw console.error("Error adding recurring transaction:",V),b("Failed to add recurring transaction"),V}},updateRecurringTransaction:async(q,V)=>{if(e)try{const H=await Md.update(q,V);return u(pe=>pe.map(ve=>ve.id===q?H:ve)),H}catch(H){throw console.error("Error updating recurring transaction:",H),b("Failed to update recurring transaction"),H}},deleteRecurringTransaction:async q=>{if(e)try{await Md.delete(q),u(V=>V.filter(H=>H.id!==q))}catch(V){throw console.error("Error deleting recurring transaction:",V),b("Failed to delete recurring transaction"),V}},updateSettings:async q=>{if(e)try{const V=await E(e.uid);V?await Qe.update("settings",V.id,q):await Qe.create("settings",q,e.uid),m(q),document.documentElement.setAttribute("data-theme",q.theme)}catch(V){console.error("Error saving settings:",V),b("Failed to save settings")}},loadAllData:y,clearError:()=>b(null)};return h.jsx(Wj.Provider,{value:X,children:t})},az=()=>{const[t,e]=L.useState(!0),[n,r]=L.useState(!1),[i,a]=L.useState({email:"",password:"",displayName:"",confirmPassword:""}),[o,s]=L.useState(!1),{signin:l,signup:u,error:c,clearError:f}=Lf(),p=w=>{const{name:x,value:b}=w.target;a(y=>({...y,[x]:b})),f()},m=async w=>{w.preventDefault(),s(!0);try{if(t)await l(i.email,i.password);else{if(i.password!==i.confirmPassword)throw new Error("Passwords do not match");if(i.password.length<6)throw new Error("Password must be at least 6 characters");await u(i.email,i.password,i.displayName)}}catch(x){console.error("Authentication error:",x)}finally{s(!1)}},g=()=>{e(!t),a({email:"",password:"",displayName:"",confirmPassword:""}),f()};return h.jsx("div",{className:"auth-container",children:h.jsxs("div",{className:"auth-card",children:[h.jsxs("div",{className:"auth-header",children:[h.jsxs("div",{className:"auth-logo",children:[h.jsx("span",{className:"auth-logo-icon",children:"💰"}),h.jsx("h1",{children:"CashPilot"})]}),h.jsx("p",{className:"auth-subtitle",children:t?"Welcome back!":"Create your account"})]}),c&&h.jsx("div",{className:"auth-error",children:h.jsx("span",{className:"error-text",children:c})}),h.jsxs("form",{onSubmit:m,className:"auth-form",children:[!t&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"displayName",children:"Full Name"}),h.jsxs("div",{className:"input-group",children:[h.jsx(UV,{className:"input-icon",size:20}),h.jsx("input",{type:"text",id:"displayName",name:"displayName",value:i.displayName,onChange:p,placeholder:"Enter your full name",required:!t})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email"}),h.jsxs("div",{className:"input-group",children:[h.jsx(jV,{className:"input-icon",size:20}),h.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:p,placeholder:"Enter your email",required:!0})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"input-group",children:[h.jsx(wS,{className:"input-icon",size:20}),h.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:i.password,onChange:p,placeholder:"Enter your password",required:!0}),h.jsx("button",{type:"button",className:"password-toggle",onClick:()=>r(!n),children:n?h.jsx(TV,{size:20}):h.jsx(Ku,{size:20})})]})]}),!t&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsxs("div",{className:"input-group",children:[h.jsx(wS,{className:"input-icon",size:20}),h.jsx("input",{type:n?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:p,placeholder:"Confirm your password",required:!t})]})]}),h.jsx("button",{type:"submit",className:"auth-button primary",disabled:o,children:o?h.jsx("span",{className:"loading-spinner"}):h.jsxs(h.Fragment,{children:[t?h.jsx(kV,{size:20}):h.jsx(FV,{size:20}),t?"Sign In":"Create Account"]})})]}),h.jsx("div",{className:"auth-footer",children:h.jsxs("p",{children:[t?"Don't have an account?":"Already have an account?",h.jsx("button",{type:"button",className:"auth-link",onClick:g,children:t?"Sign Up":"Sign In"})]})})]})})},Tn=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"€",name:"Euro"},{code:"GBP",symbol:"£",name:"British Pound"},{code:"JPY",symbol:"¥",name:"Japanese Yen"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"CNY",symbol:"¥",name:"Chinese Yuan"},{code:"SEK",symbol:"kr",name:"Swedish Krona"},{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"},{code:"MXN",symbol:"$",name:"Mexican Peso"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"HKD",symbol:"HK$",name:"Hong Kong Dollar"},{code:"NOK",symbol:"kr",name:"Norwegian Krone"},{code:"TRY",symbol:"₺",name:"Turkish Lira"},{code:"RUB",symbol:"₽",name:"Russian Ruble"},{code:"RON",symbol:"lei",name:"Romanian Leu"},{code:"INR",symbol:"₹",name:"Indian Rupee"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"ZAR",symbol:"R",name:"South African Rand"},{code:"KRW",symbol:"₩",name:"South Korean Won"}];function oz({transaction:t,categories:e,currency:n,onSubmit:r,onCancel:i}){const[a,o]=L.useState({type:"expense",amount:"",description:"",categoryId:"",date:new Date().toISOString().split("T")[0],notes:""}),[s,l]=L.useState({}),[u,c]=L.useState(!1),[f,p]=L.useState({});L.useEffect(()=>{t&&o({type:t.type,amount:t.amount.toString(),description:t.description,categoryId:t.categoryId,date:t.date,notes:t.notes||""})},[t]);const m=(I,S)=>{const v={...s};switch(I){case"amount":S?isNaN(S)||parseFloat(S)<=0?v.amount="Amount must be a positive number":parseFloat(S)>999999.99?v.amount="Amount must be less than 1,000,000":delete v.amount:v.amount="Amount is required";break;case"description":S.trim()?S.trim().length<2?v.description="Description must be at least 2 characters":S.trim().length>100?v.description="Description must be less than 100 characters":delete v.description:v.description="Description is required";break;case"categoryId":S?delete v.categoryId:v.categoryId="Category is required";break;case"date":if(!S)v.date="Date is required";else{const T=new Date(S),P=new Date,O=new Date;O.setFullYear(P.getFullYear()-1);const j=new Date;j.setFullYear(P.getFullYear()+1),T<O?v.date="Date cannot be more than 1 year ago":T>j?v.date="Date cannot be more than 1 year in the future":delete v.date}break;case"notes":S&&S.length>500?v.notes="Notes must be less than 500 characters":delete v.notes;break}return l(v),Object.keys(v).length===0},g=()=>{const I=["amount","description","categoryId","date","notes"];let S=!0;I.forEach(T=>{m(T,a[T])||(S=!1)});const v={};return I.forEach(T=>v[T]=!0),p(v),S},w=()=>{const I=a.amount.trim()!==""&&a.description.trim()!==""&&a.categoryId!==""&&a.date!=="",S=Object.keys(s).length===0;return I&&S&&!u},x=async I=>{if(I.preventDefault(),!!g()){c(!0);try{const S={...a,amount:parseFloat(a.amount),id:t==null?void 0:t.id};await r(S)}catch(S){console.error("Error submitting form:",S)}finally{c(!1)}}},b=I=>{const{name:S,value:v}=I.target;o(T=>({...T,[S]:v})),s[S]&&l(T=>{const P={...T};return delete P[S],P})},y=I=>{const{name:S,value:v}=I.target;p(T=>({...T,[S]:!0})),m(S,v)},E=I=>{(I.ctrlKey||I.metaKey)&&I.key==="Enter"&&x(I),I.key==="Escape"&&i()},N=e.filter(I=>I.type===a.type),A=Tn.find(I=>I.code===n);return h.jsxs("div",{className:"transaction-form",onKeyDown:E,children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:t?"Edit Transaction":"Add Transaction"}),h.jsx("button",{onClick:i,className:"icon-button",disabled:u,children:h.jsx(xo,{size:20})})]}),h.jsxs("form",{onSubmit:x,noValidate:!0,children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Type *"}),h.jsxs("div",{className:"radio-group",children:[h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",name:"type",value:"expense",checked:a.type==="expense",onChange:b}),h.jsx("span",{children:" Expense"})]}),h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",name:"type",value:"income",checked:a.type==="income",onChange:b}),h.jsx("span",{children:" Income"})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"amount",children:["Amount (",A==null?void 0:A.symbol,") *"]}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"number",id:"amount",name:"amount",value:a.amount,onChange:b,onBlur:y,step:"0.01",min:"0",required:!0,placeholder:"0.00",className:s.amount&&f.amount?"error":"",disabled:u,autoComplete:"off"}),s.amount&&f.amount&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.amount})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"description",children:"Description *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"text",id:"description",name:"description",value:a.description,onChange:b,onBlur:y,required:!0,placeholder:"Enter description",className:s.description&&f.description?"error":"",disabled:u,maxLength:"100"}),s.description&&f.description&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.description})]}),h.jsxs("div",{className:"char-count",children:[a.description.length,"/100"]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"categoryId",children:"Category *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsxs("select",{id:"categoryId",name:"categoryId",value:a.categoryId,onChange:b,onBlur:y,required:!0,className:s.categoryId&&f.categoryId?"error":"",disabled:u,children:[h.jsx("option",{value:"",children:"Select a category"}),N.map(I=>h.jsx("option",{value:I.id,children:I.name},I.id))]}),s.categoryId&&f.categoryId&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.categoryId})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"date",children:"Date *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"date",id:"date",name:"date",value:a.date,onChange:b,onBlur:y,required:!0,className:s.date&&f.date?"error":"",disabled:u}),s.date&&f.date&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.date})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"notes",children:"Notes"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("textarea",{id:"notes",name:"notes",value:a.notes,onChange:b,onBlur:y,rows:"3",placeholder:"Additional notes (optional)",className:s.notes&&f.notes?"error":"",disabled:u,maxLength:"500"}),s.notes&&f.notes&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:s.notes})]}),h.jsxs("div",{className:"char-count",children:[a.notes.length,"/500"]})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:i,className:"cancel-button",disabled:u,children:"Cancel"}),h.jsx("button",{type:"submit",className:"save-button",disabled:!w(),children:u?h.jsxs(h.Fragment,{children:[h.jsx(p_,{size:16,className:"spinning"}),t?"Updating...":"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(xf,{size:16}),t?"Update":"Save"," Transaction"]})})]}),h.jsx("div",{className:"keyboard-hints",children:h.jsxs("small",{children:["Press ",h.jsx("kbd",{children:"Ctrl+Enter"})," to save • ",h.jsx("kbd",{children:"Esc"})," to cancel"]})})]})]})}function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function Rr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function _t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Zt(t){_t(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||dp(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function sz(t,e){_t(2,arguments);var n=Zt(t),r=Rr(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function lz(t,e){_t(2,arguments);var n=Zt(t),r=Rr(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function uz(t,e){_t(2,arguments);var n=Zt(t).getTime(),r=Rr(e);return new Date(n+r)}var cz={};function rg(){return cz}function fz(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function dz(t){return _t(1,arguments),t instanceof Date||dp(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hz(t){if(_t(1,arguments),!dz(t)&&typeof t!="number")return!1;var e=Zt(t);return!isNaN(Number(e))}function Zs(t){_t(1,arguments);var e=Zt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function pz(t){_t(1,arguments);var e=t||{},n=Zt(e.start),r=Zt(e.end),i=r.getTime(),a=[];if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var o=n;for(o.setHours(0,0,0,0),o.setDate(1);o.getTime()<=i;)a.push(Zt(o)),o.setMonth(o.getMonth()+1);return a}function el(t){_t(1,arguments);var e=Zt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function mz(t,e){_t(2,arguments);var n=Rr(e);return uz(t,-n)}var gz=864e5;function yz(t){_t(1,arguments);var e=Zt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/gz)+1}function hp(t){_t(1,arguments);var e=1,n=Zt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Hj(t){_t(1,arguments);var e=Zt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=hp(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=hp(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function vz(t){_t(1,arguments);var e=Hj(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=hp(n);return r}var wz=6048e5;function bz(t){_t(1,arguments);var e=Zt(t),n=hp(e).getTime()-vz(e).getTime();return Math.round(n/wz)+1}function pp(t,e){var n,r,i,a,o,s,l,u;_t(1,arguments);var c=rg(),f=Rr((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Zt(t),m=p.getUTCDay(),g=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function Gj(t,e){var n,r,i,a,o,s,l,u;_t(1,arguments);var c=Zt(t),f=c.getUTCFullYear(),p=rg(),m=Rr((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,m),g.setUTCHours(0,0,0,0);var w=pp(g,e),x=new Date(0);x.setUTCFullYear(f,0,m),x.setUTCHours(0,0,0,0);var b=pp(x,e);return c.getTime()>=w.getTime()?f+1:c.getTime()>=b.getTime()?f:f-1}function _z(t,e){var n,r,i,a,o,s,l,u;_t(1,arguments);var c=rg(),f=Rr((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Gj(t,e),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var g=pp(m,e);return g}var xz=6048e5;function Ez(t,e){_t(1,arguments);var n=Zt(t),r=pp(n,e).getTime()-_z(n,e).getTime();return Math.round(r/xz)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Hi={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return He(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return He(a,n.length)}},Yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sz={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return Hi.y(e,n)},Y:function(e,n,r,i){var a=Gj(e,i),o=a>0?a:1-a;if(n==="YY"){var s=o%100;return He(s,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):He(o,n.length)},R:function(e,n){var r=Hj(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return He(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Hi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var a=Ez(e,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):He(a,n.length)},I:function(e,n,r){var i=bz(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Hi.d(e,n)},D:function(e,n,r){var i=yz(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):He(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return He(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return He(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return He(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),a;switch(i===12?a=Yo.noon:i===0?a=Yo.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),a;switch(i>=17?a=Yo.evening:i>=12?a=Yo.afternoon:i>=4?a=Yo.morning:a=Yo.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Hi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Hi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Hi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Hi.s(e,n)},S:function(e,n){return Hi.S(e,n)},X:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return QT(o);case"XXXX":case"XX":return Qa(o);case"XXXXX":case"XXX":default:return Qa(o,":")}},x:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"x":return QT(o);case"xxxx":case"xx":return Qa(o);case"xxxxx":case"xxx":default:return Qa(o,":")}},O:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+XT(o,":");case"OOOO":default:return"GMT"+Qa(o,":")}},z:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+XT(o,":");case"zzzz":default:return"GMT"+Qa(o,":")}},t:function(e,n,r,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return He(o,n.length)},T:function(e,n,r,i){var a=i._originalDate||e,o=a.getTime();return He(o,n.length)}};function XT(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=e;return n+String(i)+o+He(a,2)}function QT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return Qa(t,e)}function Qa(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),a=He(Math.floor(i/60),2),o=He(i%60,2);return r+a+n+o}var JT=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Kj=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Tz=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return JT(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",JT(i,n)).replace("{{time}}",Kj(a,n))},Az={p:Kj,P:Tz},Pz=["D","DD"],Iz=["YY","YYYY"];function Oz(t){return Pz.indexOf(t)!==-1}function Cz(t){return Iz.indexOf(t)!==-1}function ZT(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var kz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nz=function(e,n,r){var i,a=kz[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Ky(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var jz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mz={date:Ky({formats:jz,defaultWidth:"full"}),time:Ky({formats:Dz,defaultWidth:"full"}),dateTime:Ky({formats:Rz,defaultWidth:"full"})},$z={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lz=function(e,n,r,i){return $z[e]};function gu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Vz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qz=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Hz={ordinalNumber:qz,era:gu({values:Vz,defaultWidth:"wide"}),quarter:gu({values:Fz,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:gu({values:Uz,defaultWidth:"wide"}),day:gu({values:Bz,defaultWidth:"wide"}),dayPeriod:gu({values:zz,defaultWidth:"wide",formattingValues:Wz,defaultFormattingWidth:"wide"})};function yu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Kz(s,function(f){return f.test(o)}):Gz(s,function(f){return f.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Gz(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Kz(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Yz(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var Xz=/^(\d+)(th|st|nd|rd)?/i,Qz=/\d+/i,Jz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zz={any:[/^b/i,/^(a|c)/i]},e8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t8={any:[/1/i,/2/i,/3/i,/4/i]},n8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},r8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},i8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},a8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},o8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l8={ordinalNumber:Yz({matchPattern:Xz,parsePattern:Qz,valueCallback:function(e){return parseInt(e,10)}}),era:yu({matchPatterns:Jz,defaultMatchWidth:"wide",parsePatterns:Zz,defaultParseWidth:"any"}),quarter:yu({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:yu({matchPatterns:n8,defaultMatchWidth:"wide",parsePatterns:r8,defaultParseWidth:"any"}),day:yu({matchPatterns:i8,defaultMatchWidth:"wide",parsePatterns:a8,defaultParseWidth:"any"}),dayPeriod:yu({matchPatterns:o8,defaultMatchWidth:"any",parsePatterns:s8,defaultParseWidth:"any"})},u8={code:"en-US",formatDistance:Nz,formatLong:Mz,formatRelative:Lz,localize:Hz,match:l8,options:{weekStartsOn:0,firstWeekContainsDate:1}},c8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d8=/^'([^]*?)'?$/,h8=/''/g,p8=/[a-zA-Z]/;function Dc(t,e,n){var r,i,a,o,s,l,u,c,f,p,m,g,w,x;_t(2,arguments);var b=String(e),y=rg(),E=(r=(i=void 0)!==null&&i!==void 0?i:y.locale)!==null&&r!==void 0?r:u8,N=Rr((a=(o=(s=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&s!==void 0?s:y.firstWeekContainsDate)!==null&&o!==void 0?o:(u=y.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Rr((f=(p=(m=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&m!==void 0?m:y.weekStartsOn)!==null&&p!==void 0?p:(w=y.locale)===null||w===void 0||(x=w.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&f!==void 0?f:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var I=Zt(t);if(!hz(I))throw new RangeError("Invalid time value");var S=fz(I),v=mz(I,S),T={firstWeekContainsDate:N,weekStartsOn:A,locale:E,_originalDate:I},P=b.match(f8).map(function(O){var j=O[0];if(j==="p"||j==="P"){var k=Az[j];return k(O,E.formatLong)}return O}).join("").match(c8).map(function(O){if(O==="''")return"'";var j=O[0];if(j==="'")return m8(O);var k=Sz[j];if(k)return Cz(O)&&ZT(O,e,String(t)),Oz(O)&&ZT(O,e,String(t)),k(v,O,E.localize,T);if(j.match(p8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return O}).join("");return P}function m8(t){var e=t.match(d8);return e?e[1].replace(h8,"'"):t}function g8(t,e){_t(2,arguments);var n=Rr(e);return sz(t,-n)}function eA(t,e){_t(2,arguments);var n=Rr(e);return lz(t,-n)}function y8({transactions:t,categories:e,currency:n,onEdit:r,onDelete:i}){const[a,o]=L.useState(""),[s,l]=L.useState("all"),[u,c]=L.useState("all"),[f,p]=L.useState("date"),[m,g]=L.useState("desc"),[w,x]=L.useState(!1),[b,y]=L.useState(()=>{const k=new Date;return`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}`}),E=Tn.find(k=>k.code===n),N=L.useMemo(()=>{let k=t.filter($=>{var M;const F=$.description.toLowerCase().includes(a.toLowerCase())||((M=$.notes)==null?void 0:M.toLowerCase().includes(a.toLowerCase())),W=s==="all"||$.type===s,R=u==="all"||$.categoryId===u;let B=!0;if(b!=="all"){const X=new Date($.date),[q,V]=b.split("-"),H=el(new Date(parseInt(q),parseInt(V)-1)),pe=Zs(new Date(parseInt(q),parseInt(V)-1));B=X>=H&&X<=pe}return F&&W&&R&&B});return k.sort(($,F)=>{let W,R;switch(f){case"amount":W=$.amount,R=F.amount;break;case"description":W=$.description.toLowerCase(),R=F.description.toLowerCase();break;case"date":default:W=new Date($.date),R=new Date(F.date);break}return m==="asc"?W<R?-1:W>R?1:0:W>R?-1:W<R?1:0}),k},[t,a,s,u,f,m,b]),A=L.useMemo(()=>w?N:N.slice(0,10),[N,w]),I=L.useMemo(()=>{const k=new Set;t.forEach(F=>{const W=new Date(F.date),R=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`;k.add(R)});const $=Array.from(k).sort((F,W)=>W.localeCompare(F));return[{value:"all",label:"All Months"},...$.map(F=>{const[W,R]=F.split("-"),B=new Date(parseInt(W),parseInt(R)-1);return{value:F,label:Dc(B,"MMMM yyyy")}})]},[t]),S=k=>{const $=e.find(F=>F.id===k);return $?$.name:"Unknown"},v=k=>{const $=e.find(F=>F.id===k);return $?$.color:"#6b7280"},T=k=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(k),P=N.filter(k=>k.type==="income").reduce((k,$)=>k+$.amount,0),O=N.filter(k=>k.type==="expense").reduce((k,$)=>k+$.amount,0),j=P-O;return h.jsxs("div",{className:"transaction-list",children:[h.jsxs("div",{className:"transaction-filters",children:[h.jsxs("div",{className:"search-box",children:[h.jsx(LV,{size:20}),h.jsx("input",{type:"text",placeholder:"Search transactions...",value:a,onChange:k=>o(k.target.value)})]}),h.jsxs("div",{className:"filters",children:[h.jsxs("div",{className:"month-filter",children:[h.jsx(Cm,{size:16}),h.jsx("select",{value:b,onChange:k=>{y(k.target.value),x(!1)},children:I.map(k=>h.jsx("option",{value:k.value,children:k.label},k.value))})]}),h.jsxs("select",{value:s,onChange:k=>l(k.target.value),children:[h.jsx("option",{value:"all",children:"All Types"}),h.jsx("option",{value:"income",children:"Income"}),h.jsx("option",{value:"expense",children:"Expense"})]}),h.jsxs("select",{value:u,onChange:k=>c(k.target.value),children:[h.jsx("option",{value:"all",children:"All Categories"}),e.map(k=>h.jsx("option",{value:k.id,children:k.name},k.id))]}),h.jsxs("select",{value:`${f}-${m}`,onChange:k=>{const[$,F]=k.target.value.split("-");p($),g(F)},children:[h.jsx("option",{value:"date-desc",children:"Date (Newest)"}),h.jsx("option",{value:"date-asc",children:"Date (Oldest)"}),h.jsx("option",{value:"amount-desc",children:"Amount (High to Low)"}),h.jsx("option",{value:"amount-asc",children:"Amount (Low to High)"}),h.jsx("option",{value:"description-asc",children:"Description (A-Z)"}),h.jsx("option",{value:"description-desc",children:"Description (Z-A)"})]})]})]}),h.jsxs("div",{className:"transaction-summary",children:[h.jsxs("div",{className:"summary-item income",children:[h.jsx(_o,{size:20}),h.jsxs("div",{children:[h.jsx("span",{className:"label",children:"Income"}),h.jsxs("span",{className:"amount",children:[E==null?void 0:E.symbol," ",T(P)]})]})]}),h.jsxs("div",{className:"summary-item expense",children:[h.jsx(km,{size:20}),h.jsxs("div",{children:[h.jsx("span",{className:"label",children:"Expenses"}),h.jsxs("span",{className:"amount",children:[E==null?void 0:E.symbol," ",T(O)]})]})]}),h.jsx("div",{className:`summary-item balance ${j>=0?"positive":"negative"}`,children:h.jsxs("div",{children:[h.jsx("span",{className:"label",children:"Balance"}),h.jsxs("span",{className:"amount",children:[E==null?void 0:E.symbol," ",T(j)]})]})})]}),N.length===0?h.jsxs("div",{className:"empty-state",children:[h.jsx("p",{children:"No transactions found"}),a||s!=="all"||u!=="all"||b!=="all"?h.jsx("p",{children:"Try adjusting your search or filters"}):h.jsx("p",{children:"Start by adding your first transaction"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"transactions",children:A.map(k=>h.jsxs("div",{className:"transaction-item",children:[h.jsxs("div",{className:"transaction-main",children:[h.jsx("div",{className:"category-indicator",style:{backgroundColor:v(k.categoryId)}}),h.jsxs("div",{className:"transaction-details",children:[h.jsxs("div",{className:"transaction-header",children:[h.jsx("h4",{children:k.description}),h.jsxs("span",{className:`amount ${k.type}`,children:[k.type==="expense"?"-":"+",E==null?void 0:E.symbol," ",T(k.amount)]})]}),h.jsxs("div",{className:"transaction-meta",children:[h.jsx("span",{className:"category",children:S(k.categoryId)}),h.jsx("span",{className:"date",children:Dc(new Date(k.date),"MMM dd, yyyy")})]}),k.notes&&h.jsx("p",{className:"transaction-notes",children:k.notes})]})]}),h.jsxs("div",{className:"transaction-actions",children:[h.jsx("button",{onClick:()=>r(k),className:"icon-button edit-button",title:"Edit transaction",children:h.jsx(zs,{size:16})}),h.jsx("button",{onClick:()=>i(k.id),className:"icon-button delete-button",title:"Delete transaction",children:h.jsx(Ws,{size:16})})]})]},k.id))}),N.length>10&&h.jsx("div",{className:"show-more-container",children:h.jsx("button",{className:"show-more-btn",onClick:()=>x(!w),children:w?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"Show Less"}),h.jsx(uN,{size:16})]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{children:["Show All (",N.length,")"]}),h.jsx(lN,{size:16})]})})})]})]})}function v8({transactions:t,categories:e,budgets:n,goals:r,recurringTransactions:i,currency:a,onNavigateToTab:o}){const[s,l]=L.useState(!1),u=L.useRef(null),c=Tn.find(y=>y.code===a),f=L.useMemo(()=>{const y=new Date,E=g8(y,30),N=el(y),A=Zs(y),I=t.filter(j=>new Date(j.date)>=E),S=t.filter(j=>{const k=new Date(j.date);return k>=N&&k<=A}),v=t.filter(j=>j.type==="income").reduce((j,k)=>j+k.amount,0),T=t.filter(j=>j.type==="expense").reduce((j,k)=>j+k.amount,0),P=S.filter(j=>j.type==="income").reduce((j,k)=>j+k.amount,0),O=S.filter(j=>j.type==="expense").reduce((j,k)=>j+k.amount,0);return{totalBalance:v-T,totalIncome:v,totalExpenses:T,currentMonthIncome:P,currentMonthExpenses:O,currentMonthBalance:P-O,transactionCount:t.length,last30DaysCount:I.length}},[t]),p=L.useMemo(()=>{const y=new Date,E=el(y),N=Zs(y);return n.map(I=>{const S=t.filter(P=>P.type==="expense"&&P.categoryId===I.categoryId&&new Date(P.date)>=E&&new Date(P.date)<=N).reduce((P,O)=>P+O.amount,0),v=e.find(P=>P.id===I.categoryId),T=I.amount>0?S/I.amount*100:0;return{...I,categoryName:v?v.name:"Unknown",categoryColor:v?v.color:"#6b7280",spent:S,remaining:Math.max(0,I.amount-S),percentage:Math.min(100,T),isOverBudget:S>I.amount}}).sort((I,S)=>I.isOverBudget&&!S.isOverBudget?-1:!I.isOverBudget&&S.isOverBudget?1:S.percentage-I.percentage)},[n,t,e]),m=L.useMemo(()=>s?p:p.slice(0,3),[p,s]),g=L.useMemo(()=>{if(!r||r.length===0)return null;const y=r.filter(T=>T.isActive),E=r.filter(T=>(T.targetAmount>0?T.currentAmount/T.targetAmount*100:0)>=100),N=y.reduce((T,P)=>T+P.targetAmount,0),A=y.reduce((T,P)=>T+P.currentAmount,0),I=N>0?A/N*100:0,S=new Date,v=y.filter(T=>{const P=new Date(T.targetDate),O=Math.ceil((P-S)/(1e3*60*60*24));return O<=30&&O>0});return{total:r.length,active:y.length,completed:E.length,overallProgress:Math.min(I,100),totalCurrentAmount:A,totalTargetAmount:N,urgentCount:v.length}},[r]),w=L.useMemo(()=>!i||i.length===0?[]:i.filter(y=>y.isActive).slice(0,3).map(y=>{const E=e.find(N=>N.id===y.categoryId);return{...y,categoryName:E?E.name:"Unknown",categoryColor:E?E.color:"#6b7280"}}),[i,e]);L.useEffect(()=>{s&&u.current&&setTimeout(()=>{const y=u.current,E=y.offsetTop+y.offsetHeight,N=window.innerHeight,A=window.pageYOffset;E>A+N&&y.scrollIntoView({behavior:"smooth",block:"end"})},100)},[s]);const x=y=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(y),b=y=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(y);return h.jsxs("div",{className:"dashboard",children:[h.jsxs("div",{className:"dashboard-header",children:[h.jsx("h2",{children:"Dashboard"}),h.jsxs("div",{className:"date-info",children:[h.jsx(Cm,{size:16}),h.jsx("span",{children:Dc(new Date,"MMMM yyyy")})]})]}),h.jsxs("div",{className:"metrics-grid",children:[h.jsxs("div",{className:"metric-card income",children:[h.jsx("div",{className:"metric-icon",children:h.jsx(_o,{size:24})}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-label",children:"Monthly Income"}),h.jsxs("div",{className:"metric-value",children:[c==null?void 0:c.symbol," ",x(f.currentMonthIncome)]}),h.jsx("div",{className:"metric-detail",children:"This month"})]})]}),h.jsxs("div",{className:"metric-card expense",children:[h.jsx("div",{className:"metric-icon",children:h.jsx(km,{size:24})}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-label",children:"Monthly Expenses"}),h.jsxs("div",{className:"metric-value",children:[c==null?void 0:c.symbol," ",x(f.currentMonthExpenses)]}),h.jsx("div",{className:"metric-detail",children:"This month"})]})]}),h.jsxs("div",{className:`metric-card balance ${f.totalBalance>=0?"positive":"negative"}`,children:[h.jsx("div",{className:"metric-icon",children:h.jsx(y0,{size:24})}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-label",children:"Total Balance"}),h.jsxs("div",{className:"metric-value",children:[f.totalBalance>=0?"+":"",c==null?void 0:c.symbol," ",x(Math.abs(f.totalBalance))]}),h.jsx("div",{className:"metric-detail",children:"All time"})]})]}),h.jsxs("div",{className:"metric-card transactions",children:[h.jsx("div",{className:"metric-icon",children:h.jsx(tr,{size:24})}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-label",children:"Total Transactions"}),h.jsx("div",{className:"metric-value",children:f.transactionCount}),h.jsxs("div",{className:"metric-detail",children:[f.last30DaysCount," in last 30 days"]})]})]})]}),t.length>0&&h.jsxs("div",{className:"recent-transactions",children:[h.jsx("h3",{children:"Recent Transactions"}),h.jsx("div",{className:"transactions-preview",children:t.slice(0,5).map(y=>{const E=e.find(N=>N.id===y.categoryId);return h.jsxs("div",{className:"transaction-preview-item",children:[h.jsx("div",{className:"category-indicator",style:{backgroundColor:(E==null?void 0:E.color)||"#6b7280"}}),h.jsxs("div",{className:"transaction-info",children:[h.jsx("span",{className:"description",children:y.description}),h.jsx("span",{className:"date",children:Dc(new Date(y.date),"MMM dd")})]}),h.jsxs("span",{className:`amount ${y.type}`,children:[y.type==="expense"?"-":"+",c==null?void 0:c.symbol," ",b(y.amount)]})]},y.id)})}),t.length>5&&h.jsx("div",{className:"show-more-container",children:h.jsxs("button",{className:"show-more-btn",onClick:()=>o("transactions"),children:[h.jsx("span",{children:"See All Transactions"}),h.jsx(Ku,{size:16})]})})]}),p.length>0&&h.jsxs("div",{className:"budget-progress-section",ref:u,children:[h.jsx("h3",{children:"Budget Progress (This Month)"}),h.jsx("div",{className:"budget-progress-grid",children:m.map(y=>h.jsxs("div",{className:"budget-progress-card",children:[h.jsxs("div",{className:"budget-header",children:[h.jsxs("div",{className:"budget-category",children:[h.jsx("div",{className:"category-dot",style:{backgroundColor:y.categoryColor}}),h.jsx("span",{children:y.categoryName})]}),h.jsx("span",{className:`budget-status ${y.isOverBudget?"over":"under"}`,children:y.isOverBudget?"Over Budget":"On Track"})]}),h.jsxs("div",{className:"budget-amounts",children:[h.jsx("div",{className:"budget-spent",children:h.jsxs("span",{children:["Spent: ",c==null?void 0:c.symbol," ",b(y.spent)]})}),h.jsx("div",{className:"budget-total",children:h.jsxs("span",{children:["Budget: ",c==null?void 0:c.symbol," ",b(y.amount)]})})]}),h.jsx("div",{className:"budget-progress-bar",children:h.jsx("div",{className:`budget-progress-fill ${y.isOverBudget?"over":""}`,style:{width:`${Math.min(100,y.percentage)}%`}})}),h.jsxs("div",{className:"budget-percentage",children:[y.percentage.toFixed(1),"% used"]})]},y.id))}),p.length>3&&h.jsx("div",{className:"show-more-container",children:h.jsx("button",{className:"show-more-btn",onClick:()=>l(!s),children:s?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"Show Less"}),h.jsx(uN,{size:16})]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{children:["Show All (",p.length,")"]}),h.jsx(lN,{size:16})]})})})]}),g&&h.jsxs("div",{className:"goals-summary-section",children:[h.jsx("h3",{children:"Financial Goals"}),h.jsxs("div",{className:"goals-summary-grid",children:[h.jsx("div",{className:"goals-summary-card",children:h.jsxs("div",{className:"summary-stat",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(tr,{size:20})}),h.jsxs("div",{className:"stat-info",children:[h.jsx("span",{className:"stat-label",children:"Total Goals"}),h.jsx("span",{className:"stat-value",children:g.total})]})]})}),h.jsx("div",{className:"goals-summary-card",children:h.jsxs("div",{className:"summary-stat",children:[h.jsx("div",{className:"stat-icon completed",children:h.jsx(Gu,{size:20})}),h.jsxs("div",{className:"stat-info",children:[h.jsx("span",{className:"stat-label",children:"Completed"}),h.jsx("span",{className:"stat-value",children:g.completed})]})]})}),h.jsx("div",{className:"goals-summary-card",children:h.jsxs("div",{className:"summary-stat",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(y0,{size:20})}),h.jsxs("div",{className:"stat-info",children:[h.jsx("span",{className:"stat-label",children:"Progress"}),h.jsxs("span",{className:"stat-value",children:[g.overallProgress.toFixed(1),"%"]})]})]})}),g.urgentCount>0&&h.jsx("div",{className:"goals-summary-card urgent",children:h.jsxs("div",{className:"summary-stat",children:[h.jsx("div",{className:"stat-icon urgent",children:h.jsx(Wh,{size:20})}),h.jsxs("div",{className:"stat-info",children:[h.jsx("span",{className:"stat-label",children:"Due Soon"}),h.jsx("span",{className:"stat-value",children:g.urgentCount})]})]})})]}),h.jsx("div",{className:"show-more-container",children:h.jsxs("button",{className:"show-more-btn",onClick:()=>o("goals"),children:[h.jsx("span",{children:"Manage Goals"}),h.jsx(Ku,{size:16})]})})]}),w.length>0&&h.jsxs("div",{className:"recurring-transactions-section",children:[h.jsx("h3",{children:"Recurring Transactions"}),h.jsx("div",{className:"recurring-preview",children:w.map(y=>h.jsxs("div",{className:"recurring-preview-item",children:[h.jsx("div",{className:"recurring-icon",children:h.jsx(Yu,{size:16})}),h.jsx("div",{className:"category-indicator",style:{backgroundColor:y.categoryColor}}),h.jsxs("div",{className:"recurring-info",children:[h.jsx("span",{className:"description",children:y.description}),h.jsx("span",{className:"frequency",children:y.frequency})]}),h.jsxs("span",{className:`amount ${y.type}`,children:[y.type==="expense"?"-":"+",c==null?void 0:c.symbol," ",b(y.amount)]})]},y.id))}),h.jsx("div",{className:"show-more-container",children:h.jsxs("button",{className:"show-more-btn",onClick:()=>o("recurring"),children:[h.jsx("span",{children:"Manage Recurring"}),h.jsx(Ku,{size:16})]})})]})]})}function w8({categories:t,onAdd:e,onUpdate:n,onDelete:r}){const[i,a]=L.useState(!1),[o,s]=L.useState(null),l=L.useRef(null),[u,c]=L.useState({name:"",color:"#3b82f6",type:"expense"}),f=["#ef4444","#f97316","#eab308","#22c55e","#10b981","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#d946ef","#ec4899","#f43f5e"],p=()=>u.name.trim()!=="",m=A=>{A.preventDefault(),u.name.trim()&&(o?(n({...o,...u}),s(null)):e(u),c({name:"",color:"#3b82f6",type:"expense"}),a(!1))},g=()=>{setTimeout(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},w=()=>{a(!0),g()},x=A=>{s(A),c({name:A.name,color:A.color,type:A.type}),a(!0),g()},b=()=>{a(!1),s(null),c({name:"",color:"#3b82f6",type:"expense"})},y=A=>{r(A.id)},E=t.filter(A=>A.type==="expense"),N=t.filter(A=>A.type==="income");return h.jsxs("div",{className:"categories-page",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Categories"}),h.jsxs("button",{onClick:w,className:"add-button",disabled:i,children:[h.jsx(Ur,{size:20}),"Add Category"]})]}),i&&h.jsx("div",{className:"category-form-container",ref:l,children:h.jsxs("form",{onSubmit:m,className:"category-form",children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:o?"Edit Category":"Add New Category"}),h.jsx("button",{type:"button",onClick:b,className:"icon-button",children:h.jsx(xo,{size:20})})]}),h.jsxs("div",{className:"form-content",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",children:"Name *"}),h.jsx("input",{type:"text",id:"name",value:u.name,onChange:A=>c(I=>({...I,name:A.target.value})),placeholder:"Category name",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Type *"}),h.jsxs("div",{className:"radio-group",children:[h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",value:"expense",checked:u.type==="expense",onChange:A=>c(I=>({...I,type:A.target.value}))}),h.jsx("span",{children:" Expense"})]}),h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",value:"income",checked:u.type==="income",onChange:A=>c(I=>({...I,type:A.target.value}))}),h.jsx("span",{children:" Income"})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Color"}),h.jsx("div",{className:"color-picker",children:f.map(A=>h.jsx("button",{type:"button",className:`color-option ${u.color===A?"selected":""}`,style:{backgroundColor:A},onClick:()=>c(I=>({...I,color:A}))},A))}),h.jsx("input",{type:"color",value:u.color,onChange:A=>c(I=>({...I,color:A.target.value})),className:"color-input"})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:b,className:"cancel-button",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"save-button",disabled:!p(),children:[h.jsx(xf,{size:16}),o?"Update":"Save"," Category"]})]})]})]})}),h.jsxs("div",{className:"categories-grid",children:[h.jsxs("div",{className:"category-section",children:[h.jsxs("h3",{children:["Expense Categories (",E.length,")"]}),h.jsxs("div",{className:"category-list",children:[E.map(A=>h.jsxs("div",{className:"category-item",children:[h.jsxs("div",{className:"category-info",children:[h.jsx("div",{className:"category-color",style:{backgroundColor:A.color}}),h.jsx("span",{className:"category-name",children:A.name})]}),h.jsxs("div",{className:"category-actions",children:[h.jsx("button",{onClick:()=>x(A),className:"icon-button edit-button",title:"Edit category",children:h.jsx(zs,{size:16})}),h.jsx("button",{onClick:()=>y(A),className:"icon-button delete-button",title:"Delete category",children:h.jsx(Ws,{size:16})})]})]},A.id)),E.length===0&&h.jsx("div",{className:"empty-state",children:h.jsx("p",{children:"No expense categories yet"})})]})]}),h.jsxs("div",{className:"category-section",children:[h.jsxs("h3",{children:["Income Categories (",N.length,")"]}),h.jsxs("div",{className:"category-list",children:[N.map(A=>h.jsxs("div",{className:"category-item",children:[h.jsxs("div",{className:"category-info",children:[h.jsx("div",{className:"category-color",style:{backgroundColor:A.color}}),h.jsx("span",{className:"category-name",children:A.name})]}),h.jsxs("div",{className:"category-actions",children:[h.jsx("button",{onClick:()=>x(A),className:"icon-button edit-button",title:"Edit category",children:h.jsx(zs,{size:16})}),h.jsx("button",{onClick:()=>y(A),className:"icon-button delete-button",title:"Delete category",children:h.jsx(Ws,{size:16})})]})]},A.id)),N.length===0&&h.jsx("div",{className:"empty-state",children:h.jsx("p",{children:"No income categories yet"})})]})]})]})]})}function b8({budgets:t,categories:e,transactions:n,currency:r,onAdd:i,onUpdate:a,onDelete:o}){const[s,l]=L.useState(!1),[u,c]=L.useState(null),f=L.useRef(null),[p,m]=L.useState({categoryId:"",amount:"",period:"monthly"}),g=Tn.find(P=>P.code===r),w=L.useMemo(()=>{const P=new Date,O=el(P),j=Zs(P);return t.map(k=>{const $=n.filter(R=>R.type==="expense"&&R.categoryId===k.categoryId&&new Date(R.date)>=O&&new Date(R.date)<=j).reduce((R,B)=>R+B.amount,0),F=e.find(R=>R.id===k.categoryId),W=k.amount>0?$/k.amount*100:0;return{...k,categoryName:F?F.name:"Unknown",categoryColor:F?F.color:"#6b7280",spent:$,remaining:Math.max(0,k.amount-$),percentage:Math.min(100,W),isOverBudget:$>k.amount,isNearLimit:W>=80&&W<100}})},[t,n,e]),x=()=>{const P=p.categoryId!==""&&p.amount.trim()!=="",O=!isNaN(p.amount)&&parseFloat(p.amount)>0;return P&&O},b=P=>{if(P.preventDefault(),!p.categoryId||!p.amount)return;const O=parseFloat(p.amount);if(O<=0||t.find($=>$.categoryId===p.categoryId&&(!u||$.id!==u.id)))return;const k={...p,amount:O};u?(a({...u,...k}),c(null)):i(k),m({categoryId:"",amount:"",period:"monthly"}),l(!1)},y=()=>{setTimeout(()=>{f.current&&f.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},E=()=>{l(!0),y()},N=P=>{c(P),m({categoryId:P.categoryId,amount:P.amount.toString(),period:P.period}),l(!0),y()},A=()=>{l(!1),c(null),m({categoryId:"",amount:"",period:"monthly"})},I=P=>{o(P.id)},S=P=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(P),T=e.filter(P=>P.type==="expense").filter(P=>!t.some(O=>O.categoryId===P.id)||u&&u.categoryId===P.id);return h.jsxs("div",{className:"budgets-page",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Budgets"}),h.jsxs("button",{onClick:E,className:"add-button",disabled:T.length===0&&!u,children:[h.jsx(Ur,{size:20}),"Add Budget"]})]}),s&&h.jsx("div",{className:"budget-form-container",ref:f,children:h.jsxs("form",{onSubmit:b,className:"budget-form",children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:u?"Edit Budget":"Add New Budget"}),h.jsx("button",{type:"button",onClick:A,className:"icon-button",children:h.jsx(xo,{size:20})})]}),h.jsxs("div",{className:"form-content",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"categoryId",children:"Category *"}),h.jsxs("select",{id:"categoryId",value:p.categoryId,onChange:P=>m(O=>({...O,categoryId:P.target.value})),required:!0,children:[h.jsx("option",{value:"",children:"Select a category"}),T.map(P=>h.jsx("option",{value:P.id,children:P.name},P.id))]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"amount",children:["Budget Amount (",g==null?void 0:g.symbol,") *"]}),h.jsx("input",{type:"number",id:"amount",value:p.amount,onChange:P=>m(O=>({...O,amount:P.target.value})),step:"0.01",min:"0",required:!0,placeholder:"0.00"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"period",children:"Period"}),h.jsxs("select",{id:"period",value:p.period,onChange:P=>m(O=>({...O,period:P.target.value})),children:[h.jsx("option",{value:"monthly",children:"Monthly"}),h.jsx("option",{value:"yearly",children:"Yearly"})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:A,className:"cancel-button",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"save-button",disabled:!x(),children:[h.jsx(xf,{size:16}),u?"Update":"Save"," Budget"]})]})]})]})}),w.length===0?h.jsxs("div",{className:"empty-state",children:[h.jsx(tr,{size:48}),h.jsx("h3",{children:"No budgets set up yet"}),h.jsx("p",{children:"Create budgets to track your spending goals for different categories"}),T.length===0?h.jsx("p",{children:"You need to create some expense categories first"}):h.jsxs("button",{onClick:E,className:"add-button",children:[h.jsx(Ur,{size:20}),"Create Your First Budget"]})]}):h.jsx("div",{className:"budgets-grid",children:w.map(P=>h.jsxs("div",{className:`budget-card ${P.isOverBudget?"over-budget":P.isNearLimit?"near-limit":""}`,children:[h.jsxs("div",{className:"budget-header",children:[h.jsxs("div",{className:"budget-category",children:[h.jsx("div",{className:"category-dot",style:{backgroundColor:P.categoryColor}}),h.jsx("h3",{children:P.categoryName})]}),h.jsxs("div",{className:"budget-actions",children:[h.jsx("button",{onClick:()=>N(P),className:"icon-button edit-button",title:"Edit budget",children:h.jsx(zs,{size:16})}),h.jsx("button",{onClick:()=>I(P),className:"icon-button delete-button",title:"Delete budget",children:h.jsx(Ws,{size:16})})]})]}),h.jsxs("div",{className:"budget-status",children:[P.isOverBudget&&h.jsxs("div",{className:"budget-alert over",children:[h.jsx(Wh,{size:16}),h.jsx("span",{children:"Over Budget"})]}),P.isNearLimit&&!P.isOverBudget&&h.jsxs("div",{className:"budget-alert warning",children:[h.jsx(Wh,{size:16}),h.jsx("span",{children:"Near Limit"})]}),!P.isOverBudget&&!P.isNearLimit&&h.jsxs("div",{className:"budget-alert good",children:[h.jsx(tr,{size:16}),h.jsx("span",{children:"On Track"})]})]}),h.jsxs("div",{className:"budget-amounts",children:[h.jsxs("div",{className:"amount-row",children:[h.jsx("span",{className:"label",children:"Spent"}),h.jsxs("span",{className:"value spent",children:[g==null?void 0:g.symbol," ",S(P.spent)]})]}),h.jsxs("div",{className:"amount-row",children:[h.jsx("span",{className:"label",children:"Budget"}),h.jsxs("span",{className:"value total",children:[g==null?void 0:g.symbol," ",S(P.amount)]})]}),h.jsxs("div",{className:"amount-row",children:[h.jsx("span",{className:"label",children:P.isOverBudget?"Over by":"Remaining"}),h.jsxs("span",{className:`value ${P.isOverBudget?"over":"remaining"}`,children:[g==null?void 0:g.symbol," ",S(P.isOverBudget?P.spent-P.amount:P.remaining)]})]})]}),h.jsxs("div",{className:"budget-progress",children:[h.jsx("div",{className:"progress-bar",children:h.jsx("div",{className:`progress-fill ${P.isOverBudget?"over":P.isNearLimit?"warning":"good"}`,style:{width:`${Math.min(100,P.percentage)}%`}})}),h.jsxs("div",{className:"progress-text",children:[P.percentage.toFixed(1),"% used"]})]}),h.jsx("div",{className:"budget-period",children:h.jsxs("span",{children:[P.period==="yearly"?"Yearly":"Monthly"," Budget"]})})]},P.id))})]})}const _8=(t,e,n)=>{const r=[],i=new Date(e);for(;i<=n;){switch(t.frequency){case"daily":r.push(new Date(i)),i.setDate(i.getDate()+1);break;case"weekly":const a=t.dayOfWeek||e.getDay(),o=i.getDay(),s=(a-o+7)%7;for(s===0&&i.getTime()===e.getTime()&&r.push(new Date(i)),i.setDate(i.getDate()+(s===0?7:s)),i<=n&&r.push(new Date(i));i<=n;)i.setDate(i.getDate()+7),i<=n&&r.push(new Date(i));break;case"monthly":const l=t.dayOfMonth||e.getDate();for(;i<=n;){const u=new Date(i.getFullYear(),i.getMonth(),l);u.getDate()!==parseInt(l)&&u.setDate(0),u>=e&&u<=n&&r.push(new Date(u)),i.setMonth(i.getMonth()+1)}break;case"yearly":for(;i<=n;)i>=e&&r.push(new Date(i)),i.setFullYear(i.getFullYear()+1);break}if(r.length>1e3){console.warn("Too many recurring transactions generated, stopping at 1000");break}}return r.sort((a,o)=>a.getTime()-o.getTime())},x8=t=>{const e=new Date;e.setHours(0,0,0,0);const n=new Date(t.startDate),r=t.endDate?new Date(t.endDate):null;if(r&&r<e)return null;const i=n>e?n:new Date(e.getTime()+24*60*60*1e3),a=_8(t,i,new Date(e.getFullYear()+1,11,31));return a.length>0?a[0].toISOString().split("T")[0]:null};function E8({recurringTransactions:t,categories:e,currency:n,onAdd:r,onUpdate:i,onDelete:a,onToggleActive:o}){const[s,l]=L.useState(!1),[u,c]=L.useState(null),[f,p]=L.useState("all"),[m,g]=L.useState(8),w=L.useRef(null),[x,b]=L.useState({type:"expense",amount:"",description:"",categoryId:"",frequency:"monthly",startDate:new Date().toISOString().split("T")[0],endDate:"",dayOfMonth:new Date().getDate(),dayOfWeek:new Date().getDay(),isActive:!0,notes:""}),[y,E]=L.useState({}),[N,A]=L.useState(!1),[I,S]=L.useState({}),v=Tn.find(ie=>ie.code===n);L.useEffect(()=>{u&&b({type:u.type,amount:u.amount.toString(),description:u.description,categoryId:u.categoryId,frequency:u.frequency,startDate:u.startDate,endDate:u.endDate||"",dayOfMonth:u.dayOfMonth||new Date().getDate(),dayOfWeek:u.dayOfWeek||new Date().getDay(),isActive:u.isActive,notes:u.notes||""})},[u]);const T=(ie,J)=>{const se={...y};switch(ie){case"amount":J?isNaN(J)||parseFloat(J)<=0?se.amount="Amount must be a positive number":parseFloat(J)>999999.99?se.amount="Amount must be less than 1,000,000":delete se.amount:se.amount="Amount is required";break;case"description":J.trim()?J.trim().length<2?se.description="Description must be at least 2 characters":J.trim().length>100?se.description="Description must be less than 100 characters":delete se.description:se.description="Description is required";break;case"categoryId":J?delete se.categoryId:se.categoryId="Category is required";break;case"startDate":J?delete se.startDate:se.startDate="Start date is required";break;case"endDate":J&&new Date(J)<=new Date(x.startDate)?se.endDate="End date must be after start date":delete se.endDate;break}return E(se),Object.keys(se).length===0},P=()=>{const ie=x.amount.trim()!==""&&x.description.trim()!==""&&x.categoryId!==""&&x.startDate!=="",J=Object.keys(y).length===0;return ie&&J&&!N},O=async ie=>{if(ie.preventDefault(),!P()){const J={};["amount","description","categoryId","startDate","endDate"].forEach(se=>J[se]=!0),S(J);return}A(!0);try{if(u){const J={...x,amount:parseFloat(x.amount),id:u.id};await i(J)}else{const J={...x,amount:parseFloat(x.amount)};await r(J)}$()}catch(J){console.error("Error submitting recurring transaction:",J)}finally{A(!1)}},j=ie=>{const{name:J,value:se,type:ge,checked:te}=ie.target,Pe=ge==="checkbox"?te:se;b(xe=>({...xe,[J]:Pe})),y[J]&&E(xe=>{const ze={...xe};return delete ze[J],ze})},k=ie=>{const{name:J,value:se}=ie.target;S(ge=>({...ge,[J]:!0})),T(J,se)},$=()=>{b({type:"expense",amount:"",description:"",categoryId:"",frequency:"monthly",startDate:new Date().toISOString().split("T")[0],endDate:"",dayOfMonth:new Date().getDate(),dayOfWeek:new Date().getDay(),isActive:!0,notes:""}),E({}),S({}),c(null),l(!1)},F=()=>{setTimeout(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},W=()=>{l(!0),F()},R=ie=>{c(ie),l(!0),F()},B=ie=>{a(ie.id)},M=ie=>{o(ie.id,!ie.isActive)},X=e.filter(ie=>ie.type===x.type),q=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],V=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],H=t.filter(ie=>f==="all"?!0:ie.type===f),pe=H.slice(0,m),ve=H.length>m,Ve=()=>{g(ie=>ie+8)},Be=ie=>{p(ie),g(8)};return h.jsxs("div",{className:"recurring-transactions",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Recurring Transactions"}),h.jsxs("button",{onClick:W,className:"add-button",disabled:s,children:[h.jsx(Ur,{size:20}),"Add Recurring Transaction"]})]}),t.length>0&&h.jsx("div",{className:"recurring-filter-section",children:h.jsxs("div",{className:"filter-toggle-group",children:[h.jsxs("button",{className:`filter-toggle-btn ${f==="all"?"active":""}`,onClick:()=>Be("all"),children:["All (",t.length,")"]}),h.jsxs("button",{className:`filter-toggle-btn ${f==="expense"?"active":""}`,onClick:()=>Be("expense"),children:["Expenses (",t.filter(ie=>ie.type==="expense").length,")"]}),h.jsxs("button",{className:`filter-toggle-btn ${f==="income"?"active":""}`,onClick:()=>Be("income"),children:["Income (",t.filter(ie=>ie.type==="income").length,")"]})]})}),s&&h.jsx("div",{className:"recurring-form-container",ref:w,children:h.jsxs("form",{onSubmit:O,className:"recurring-form",noValidate:!0,children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:u?"Edit Recurring Transaction":"Add Recurring Transaction"}),h.jsx("button",{type:"button",onClick:$,className:"icon-button",disabled:N,children:h.jsx(xo,{size:20})})]}),h.jsxs("div",{className:"form-content",children:[h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Type *"}),h.jsxs("div",{className:"radio-group",children:[h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",name:"type",value:"expense",checked:x.type==="expense",onChange:j,disabled:N}),h.jsx("span",{children:" Expense"})]}),h.jsxs("label",{className:"radio-label",children:[h.jsx("input",{type:"radio",name:"type",value:"income",checked:x.type==="income",onChange:j,disabled:N}),h.jsx("span",{children:" Income"})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"amount",children:["Amount (",v==null?void 0:v.symbol,") *"]}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"number",id:"amount",name:"amount",value:x.amount,onChange:j,onBlur:k,step:"0.01",min:"0",required:!0,placeholder:"0.00",className:y.amount&&I.amount?"error":"",disabled:N,autoComplete:"off"}),y.amount&&I.amount&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.amount})]})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"description",children:"Description *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"text",id:"description",name:"description",value:x.description,onChange:j,onBlur:k,required:!0,placeholder:"Enter description",className:y.description&&I.description?"error":"",disabled:N,maxLength:"100"}),y.description&&I.description&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.description})]}),h.jsxs("div",{className:"char-count",children:[x.description.length,"/100"]})]})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"categoryId",children:"Category *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsxs("select",{id:"categoryId",name:"categoryId",value:x.categoryId,onChange:j,onBlur:k,required:!0,className:y.categoryId&&I.categoryId?"error":"",disabled:N,children:[h.jsx("option",{value:"",children:"Select a category"}),X.map(ie=>h.jsx("option",{value:ie.id,children:ie.name},ie.id))]}),y.categoryId&&I.categoryId&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.categoryId})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"frequency",children:"Frequency *"}),h.jsx("select",{id:"frequency",name:"frequency",value:x.frequency,onChange:j,disabled:N,children:q.map(ie=>h.jsx("option",{value:ie.value,children:ie.label},ie.value))})]})]}),x.frequency==="weekly"&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"dayOfWeek",children:"Day of Week"}),h.jsx("select",{id:"dayOfWeek",name:"dayOfWeek",value:x.dayOfWeek,onChange:j,disabled:N,children:V.map((ie,J)=>h.jsx("option",{value:J,children:ie},J))})]}),x.frequency==="monthly"&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"dayOfMonth",children:"Day of Month"}),h.jsx("input",{type:"number",id:"dayOfMonth",name:"dayOfMonth",value:x.dayOfMonth,onChange:j,min:"1",max:"31",disabled:N}),h.jsx("small",{children:"If day doesn't exist in a month, it will use the last day of that month"})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"startDate",children:"Start Date *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"date",id:"startDate",name:"startDate",value:x.startDate,onChange:j,onBlur:k,required:!0,className:y.startDate&&I.startDate?"error":"",disabled:N}),y.startDate&&I.startDate&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.startDate})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"endDate",children:"End Date (Optional)"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"date",id:"endDate",name:"endDate",value:x.endDate,onChange:j,onBlur:k,className:y.endDate&&I.endDate?"error":"",disabled:N}),y.endDate&&I.endDate&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:y.endDate})]})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"notes",children:"Notes"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("textarea",{id:"notes",name:"notes",value:x.notes,onChange:j,rows:"3",placeholder:"Additional notes (optional)",disabled:N,maxLength:"500"}),h.jsxs("div",{className:"char-count",children:[x.notes.length,"/500"]})]})]}),h.jsx("div",{className:"form-group",children:h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",name:"isActive",checked:x.isActive,onChange:j,disabled:N}),h.jsx("span",{children:"Active (generate transactions automatically)"})]})})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:$,className:"cancel-button",disabled:N,children:"Cancel"}),h.jsx("button",{type:"submit",className:"save-button",disabled:!P(),children:N?h.jsxs(h.Fragment,{children:[h.jsx(p_,{size:16,className:"spinning"}),u?"Updating...":"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(xf,{size:16}),u?"Update":"Save"," Recurring Transaction"]})})]})]})}),t.length>0?h.jsx(h.Fragment,{children:H.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"recurring-list",children:pe.map(ie=>{const J=e.find(ge=>ge.id===ie.categoryId),se=x8(ie);return h.jsxs("div",{className:`recurring-item ${ie.isActive?"":"inactive"}`,children:[h.jsxs("div",{className:"recurring-info",children:[h.jsxs("div",{className:"recurring-main",children:[h.jsxs("div",{className:"recurring-description",children:[h.jsx("h4",{children:ie.description}),h.jsxs("div",{className:"recurring-details",children:[h.jsxs("span",{className:"frequency",children:[h.jsx(Yu,{size:14}),ie.frequency.charAt(0).toUpperCase()+ie.frequency.slice(1)]}),h.jsxs("span",{className:"next-occurrence",children:[h.jsx(Cm,{size:14}),"Next: ",se||"N/A"]})]})]}),h.jsxs("div",{className:"recurring-amount",children:[h.jsxs("span",{className:`amount ${ie.type}`,children:[ie.type==="expense"?"-":"+",v==null?void 0:v.symbol," ",ie.amount.toFixed(2)]}),J&&h.jsx("span",{className:"category",style:{color:J.color},children:J.name})]})]}),ie.notes&&h.jsx("p",{className:"recurring-notes",children:ie.notes})]}),h.jsxs("div",{className:"recurring-actions",children:[h.jsx("button",{onClick:()=>M(ie),className:`toggle-button ${ie.isActive?"active":"inactive"}`,title:ie.isActive?"Pause recurring transaction":"Resume recurring transaction",children:ie.isActive?h.jsx(RV,{size:16}):h.jsx(MV,{size:16})}),h.jsx("button",{onClick:()=>R(ie),className:"icon-button edit-button",title:"Edit recurring transaction",children:h.jsx(zs,{size:16})}),h.jsx("button",{onClick:()=>B(ie),className:"icon-button delete-button",title:"Delete recurring transaction",children:h.jsx(Ws,{size:16})})]})]},ie.id)})}),ve&&h.jsx("div",{className:"load-more-section",children:h.jsxs("button",{onClick:Ve,className:"load-more-button",children:["Load More (",H.length-m," remaining)"]})})]}):h.jsxs("div",{className:"empty-state",children:[h.jsx(Yu,{size:48}),h.jsxs("h3",{children:["No ",f==="all"?"":f," recurring transactions"]}),h.jsx("p",{children:f==="expense"?"No recurring expenses found. Add recurring payments like rent or subscriptions.":f==="income"?"No recurring income found. Add recurring income like salary or freelance payments.":"No recurring transactions match the current filter."})]})}):h.jsxs("div",{className:"empty-state",children:[h.jsx(Yu,{size:48}),h.jsx("h3",{children:"No Recurring Transactions"}),h.jsx("p",{children:"Set up automatic transactions like salary, rent, or subscriptions to save time."}),h.jsxs("button",{onClick:W,className:"add-button",children:[h.jsx(Ur,{size:20}),"Add Your First Recurring Transaction"]})]})]})}function Yj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Yj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Yj(t))&&(r&&(r+=" "),r+=e);return r}var S8=Array.isArray,jn=S8,T8=typeof ud=="object"&&ud&&ud.Object===Object&&ud,Xj=T8,A8=Xj,P8=typeof self=="object"&&self&&self.Object===Object&&self,I8=A8||P8||Function("return this")(),ei=I8,O8=ei,C8=O8.Symbol,Vf=C8,tA=Vf,Qj=Object.prototype,k8=Qj.hasOwnProperty,N8=Qj.toString,vu=tA?tA.toStringTag:void 0;function j8(t){var e=k8.call(t,vu),n=t[vu];try{t[vu]=void 0;var r=!0}catch{}var i=N8.call(t);return r&&(e?t[vu]=n:delete t[vu]),i}var D8=j8,R8=Object.prototype,M8=R8.toString;function $8(t){return M8.call(t)}var L8=$8,nA=Vf,V8=D8,F8=L8,U8="[object Null]",B8="[object Undefined]",rA=nA?nA.toStringTag:void 0;function z8(t){return t==null?t===void 0?B8:U8:rA&&rA in Object(t)?V8(t):F8(t)}var Li=z8;function W8(t){return t!=null&&typeof t=="object"}var Vi=W8,q8=Li,H8=Vi,G8="[object Symbol]";function K8(t){return typeof t=="symbol"||H8(t)&&q8(t)==G8}var Ml=K8,Y8=jn,X8=Ml,Q8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J8=/^\w*$/;function Z8(t,e){if(Y8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||X8(t)?!0:J8.test(t)||!Q8.test(t)||e!=null&&t in Object(e)}var s1=Z8;function e7(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $a=e7;const $l=tt($a);var t7=Li,n7=$a,r7="[object AsyncFunction]",i7="[object Function]",a7="[object GeneratorFunction]",o7="[object Proxy]";function s7(t){if(!n7(t))return!1;var e=t7(t);return e==i7||e==a7||e==r7||e==o7}var l1=s7;const Oe=tt(l1);var l7=ei,u7=l7["__core-js_shared__"],c7=u7,Yy=c7,iA=function(){var t=/[^.]+$/.exec(Yy&&Yy.keys&&Yy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function f7(t){return!!iA&&iA in t}var d7=f7,h7=Function.prototype,p7=h7.toString;function m7(t){if(t!=null){try{return p7.call(t)}catch{}try{return t+""}catch{}}return""}var Jj=m7,g7=l1,y7=d7,v7=$a,w7=Jj,b7=/[\\^$.*+?()[\]{}|]/g,_7=/^\[object .+?Constructor\]$/,x7=Function.prototype,E7=Object.prototype,S7=x7.toString,T7=E7.hasOwnProperty,A7=RegExp("^"+S7.call(T7).replace(b7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function P7(t){if(!v7(t)||y7(t))return!1;var e=g7(t)?A7:_7;return e.test(w7(t))}var I7=P7;function O7(t,e){return t==null?void 0:t[e]}var C7=O7,k7=I7,N7=C7;function j7(t,e){var n=N7(t,e);return k7(n)?n:void 0}var Vo=j7,D7=Vo,R7=D7(Object,"create"),ig=R7,aA=ig;function M7(){this.__data__=aA?aA(null):{},this.size=0}var $7=M7;function L7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var V7=L7,F7=ig,U7="__lodash_hash_undefined__",B7=Object.prototype,z7=B7.hasOwnProperty;function W7(t){var e=this.__data__;if(F7){var n=e[t];return n===U7?void 0:n}return z7.call(e,t)?e[t]:void 0}var q7=W7,H7=ig,G7=Object.prototype,K7=G7.hasOwnProperty;function Y7(t){var e=this.__data__;return H7?e[t]!==void 0:K7.call(e,t)}var X7=Y7,Q7=ig,J7="__lodash_hash_undefined__";function Z7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Q7&&e===void 0?J7:e,this}var eW=Z7,tW=$7,nW=V7,rW=q7,iW=X7,aW=eW;function Ll(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ll.prototype.clear=tW;Ll.prototype.delete=nW;Ll.prototype.get=rW;Ll.prototype.has=iW;Ll.prototype.set=aW;var oW=Ll;function sW(){this.__data__=[],this.size=0}var lW=sW;function uW(t,e){return t===e||t!==t&&e!==e}var u1=uW,cW=u1;function fW(t,e){for(var n=t.length;n--;)if(cW(t[n][0],e))return n;return-1}var ag=fW,dW=ag,hW=Array.prototype,pW=hW.splice;function mW(t){var e=this.__data__,n=dW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():pW.call(e,n,1),--this.size,!0}var gW=mW,yW=ag;function vW(t){var e=this.__data__,n=yW(e,t);return n<0?void 0:e[n][1]}var wW=vW,bW=ag;function _W(t){return bW(this.__data__,t)>-1}var xW=_W,EW=ag;function SW(t,e){var n=this.__data__,r=EW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var TW=SW,AW=lW,PW=gW,IW=wW,OW=xW,CW=TW;function Vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vl.prototype.clear=AW;Vl.prototype.delete=PW;Vl.prototype.get=IW;Vl.prototype.has=OW;Vl.prototype.set=CW;var og=Vl,kW=Vo,NW=ei,jW=kW(NW,"Map"),c1=jW,oA=oW,DW=og,RW=c1;function MW(){this.size=0,this.__data__={hash:new oA,map:new(RW||DW),string:new oA}}var $W=MW;function LW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var VW=LW,FW=VW;function UW(t,e){var n=t.__data__;return FW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var sg=UW,BW=sg;function zW(t){var e=BW(this,t).delete(t);return this.size-=e?1:0,e}var WW=zW,qW=sg;function HW(t){return qW(this,t).get(t)}var GW=HW,KW=sg;function YW(t){return KW(this,t).has(t)}var XW=YW,QW=sg;function JW(t,e){var n=QW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ZW=JW,eq=$W,tq=WW,nq=GW,rq=XW,iq=ZW;function Fl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fl.prototype.clear=eq;Fl.prototype.delete=tq;Fl.prototype.get=nq;Fl.prototype.has=rq;Fl.prototype.set=iq;var f1=Fl,Zj=f1,aq="Expected a function";function d1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(aq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(d1.Cache||Zj),n}d1.Cache=Zj;var eD=d1;const oq=tt(eD);var sq=eD,lq=500;function uq(t){var e=sq(t,function(r){return n.size===lq&&n.clear(),r}),n=e.cache;return e}var cq=uq,fq=cq,dq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hq=/\\(\\)?/g,pq=fq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(dq,function(n,r,i,a){e.push(i?a.replace(hq,"$1"):r||n)}),e}),mq=pq;function gq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var h1=gq,sA=Vf,yq=h1,vq=jn,wq=Ml,lA=sA?sA.prototype:void 0,uA=lA?lA.toString:void 0;function tD(t){if(typeof t=="string")return t;if(vq(t))return yq(t,tD)+"";if(wq(t))return uA?uA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var bq=tD,_q=bq;function xq(t){return t==null?"":_q(t)}var nD=xq,Eq=jn,Sq=s1,Tq=mq,Aq=nD;function Pq(t,e){return Eq(t)?t:Sq(t,e)?[t]:Tq(Aq(t))}var rD=Pq,Iq=Ml;function Oq(t){if(typeof t=="string"||Iq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var lg=Oq,Cq=rD,kq=lg;function Nq(t,e){e=Cq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[kq(e[n++])];return n&&n==r?t:void 0}var p1=Nq,jq=p1;function Dq(t,e,n){var r=t==null?void 0:jq(t,e);return r===void 0?n:r}var iD=Dq;const or=tt(iD);function Rq(t){return t==null}var Mq=Rq;const Ce=tt(Mq);var $q=Li,Lq=jn,Vq=Vi,Fq="[object String]";function Uq(t){return typeof t=="string"||!Lq(t)&&Vq(t)&&$q(t)==Fq}var Bq=Uq;const Co=tt(Bq);var aD={exports:{}},Ke={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1=Symbol.for("react.element"),g1=Symbol.for("react.portal"),ug=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),dg=Symbol.for("react.provider"),hg=Symbol.for("react.context"),zq=Symbol.for("react.server_context"),pg=Symbol.for("react.forward_ref"),mg=Symbol.for("react.suspense"),gg=Symbol.for("react.suspense_list"),yg=Symbol.for("react.memo"),vg=Symbol.for("react.lazy"),Wq=Symbol.for("react.offscreen"),oD;oD=Symbol.for("react.module.reference");function fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case m1:switch(t=t.type,t){case ug:case fg:case cg:case mg:case gg:return t;default:switch(t=t&&t.$$typeof,t){case zq:case hg:case pg:case vg:case yg:case dg:return t;default:return e}}case g1:return e}}}Ke.ContextConsumer=hg;Ke.ContextProvider=dg;Ke.Element=m1;Ke.ForwardRef=pg;Ke.Fragment=ug;Ke.Lazy=vg;Ke.Memo=yg;Ke.Portal=g1;Ke.Profiler=fg;Ke.StrictMode=cg;Ke.Suspense=mg;Ke.SuspenseList=gg;Ke.isAsyncMode=function(){return!1};Ke.isConcurrentMode=function(){return!1};Ke.isContextConsumer=function(t){return fr(t)===hg};Ke.isContextProvider=function(t){return fr(t)===dg};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===m1};Ke.isForwardRef=function(t){return fr(t)===pg};Ke.isFragment=function(t){return fr(t)===ug};Ke.isLazy=function(t){return fr(t)===vg};Ke.isMemo=function(t){return fr(t)===yg};Ke.isPortal=function(t){return fr(t)===g1};Ke.isProfiler=function(t){return fr(t)===fg};Ke.isStrictMode=function(t){return fr(t)===cg};Ke.isSuspense=function(t){return fr(t)===mg};Ke.isSuspenseList=function(t){return fr(t)===gg};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ug||t===fg||t===cg||t===mg||t===gg||t===Wq||typeof t=="object"&&t!==null&&(t.$$typeof===vg||t.$$typeof===yg||t.$$typeof===dg||t.$$typeof===hg||t.$$typeof===pg||t.$$typeof===oD||t.getModuleId!==void 0)};Ke.typeOf=fr;aD.exports=Ke;var qq=aD.exports,Hq=Li,Gq=Vi,Kq="[object Number]";function Yq(t){return typeof t=="number"||Gq(t)&&Hq(t)==Kq}var sD=Yq;const Xq=tt(sD);var Qq=sD;function Jq(t){return Qq(t)&&t!=+t}var Zq=Jq;const Ff=tt(Zq);var Ar=function(e){return e===0?0:e>0?1:-1},ao=function(e){return Co(e)&&e.indexOf("%")===e.length-1},oe=function(e){return Xq(e)&&!Ff(e)},eH=function(e){return Ce(e)},$t=function(e){return oe(e)||Co(e)},tH=0,Uf=function(e){var n=++tH;return"".concat(e||"").concat(n)},ko=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!Co(e))return r;var a;if(ao(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Ff(a)&&(a=r),i&&a>n&&(a=n),a},na=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},nH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Er=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function mp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):or(r,e))===n})}var rH=function(e,n){return oe(e)&&oe(n)?e-n:Co(e)&&Co(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function js(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}var iH=["viewBox","children"],aH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cA=["points","pathLength"],Xy={svg:iH,polygon:cA,polyline:cA},y1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(L.isValidElement(e)&&(r=e.props),!$l(r))return null;var i={};return Object.keys(r).forEach(function(a){y1.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},oH=function(e,n,r){return function(i){return e(n,r,i),null}},yp=function(e,n,r){if(!$l(e)||K0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];y1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=oH(o,n,r))}),i},sH=["children"],lH=["children"];function fA(t,e){if(t==null)return{};var n=uH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}var dA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},hA=null,Qy=null,v1=function t(e){if(e===hA&&Array.isArray(Qy))return Qy;var n=[];return L.Children.forEach(e,function(r){Ce(r)||(qq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Qy=n,hA=e,n};function sr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return vi(i)}):r=[vi(e)],v1(t).forEach(function(i){var a=or(i,"type.displayName")||or(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Vn(t,e){var n=sr(t,e);return n&&n[0]}var pA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},cH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fH=function(e){return e&&e.type&&Co(e.type)&&cH.indexOf(e.type)>=0},dH=function(e){return e&&Y0(e)==="object"&&"clipDot"in e},hH=function(e,n,r,i){var a,o=(a=Xy==null?void 0:Xy[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Oe(e)&&(i&&o.includes(n)||aH.includes(n))||r&&y1.includes(n)},Re=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(L.isValidElement(e)&&(i=e.props),!$l(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;hH((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},X0=function t(e,n){if(e===n)return!0;var r=L.Children.count(e);if(r!==L.Children.count(n))return!1;if(r===0)return!0;if(r===1)return mA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!mA(a,o))return!1}return!0},mA=function(e,n){if(Ce(e)&&Ce(n))return!0;if(!Ce(e)&&!Ce(n)){var r=e.props||{},i=r.children,a=fA(r,sH),o=n.props||{},s=o.children,l=fA(o,lH);return i&&s?js(a,l)&&X0(i,s):!i&&!s?js(a,l):!1}return!1},gA=function(e,n){var r=[],i={};return v1(e).forEach(function(a,o){if(fH(a))r.push(a);else if(a){var s=vi(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},pH=function(e){var n=e&&e.type;return n&&dA[n]?dA[n]:null},mH=function(e,n){return v1(n).indexOf(e)},gH=["children","width","height","viewBox","className","style","title","desc"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}function yH(t,e){if(t==null)return{};var n=vH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=yH(t,gH),c=i||{width:n,height:r,x:0,y:0},f=Le("recharts-surface",a);return U.createElement("svg",Q0({},Re(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),U.createElement("title",null,s),U.createElement("desc",null,l),e)}var wH=["children","className"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function bH(t,e){if(t==null)return{};var n=_H(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _H(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var St=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=bH(t,wH),a=Le("recharts-layer",r);return U.createElement("g",Z0({className:a},Re(i,!0),{ref:e}),n)}),wi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function xH(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var EH=xH,SH=EH;function TH(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:SH(t,e,n)}var AH=TH,PH="\\ud800-\\udfff",IH="\\u0300-\\u036f",OH="\\ufe20-\\ufe2f",CH="\\u20d0-\\u20ff",kH=IH+OH+CH,NH="\\ufe0e\\ufe0f",jH="\\u200d",DH=RegExp("["+jH+PH+kH+NH+"]");function RH(t){return DH.test(t)}var lD=RH;function MH(t){return t.split("")}var $H=MH,uD="\\ud800-\\udfff",LH="\\u0300-\\u036f",VH="\\ufe20-\\ufe2f",FH="\\u20d0-\\u20ff",UH=LH+VH+FH,BH="\\ufe0e\\ufe0f",zH="["+uD+"]",ew="["+UH+"]",tw="\\ud83c[\\udffb-\\udfff]",WH="(?:"+ew+"|"+tw+")",cD="[^"+uD+"]",fD="(?:\\ud83c[\\udde6-\\uddff]){2}",dD="[\\ud800-\\udbff][\\udc00-\\udfff]",qH="\\u200d",hD=WH+"?",pD="["+BH+"]?",HH="(?:"+qH+"(?:"+[cD,fD,dD].join("|")+")"+pD+hD+")*",GH=pD+hD+HH,KH="(?:"+[cD+ew+"?",ew,fD,dD,zH].join("|")+")",YH=RegExp(tw+"(?="+tw+")|"+KH+GH,"g");function XH(t){return t.match(YH)||[]}var QH=XH,JH=$H,ZH=lD,eG=QH;function tG(t){return ZH(t)?eG(t):JH(t)}var nG=tG,rG=AH,iG=lD,aG=nG,oG=nD;function sG(t){return function(e){e=oG(e);var n=iG(e)?aG(e):void 0,r=n?n[0]:e.charAt(0),i=n?rG(n,1).join(""):e.slice(1);return r[t]()+i}}var lG=sG,uG=lG,cG=uG("toUpperCase"),fG=cG;const wg=tt(fG);function nt(t){return function(){return t}}const mD=Math.cos,vp=Math.sin,Mr=Math.sqrt,wp=Math.PI,bg=2*wp,nw=Math.PI,rw=2*nw,Ja=1e-6,dG=rw-Ja;function gD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class pG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gD:hG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Ja)if(!(Math.abs(f*l-u*c)>Ja)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,w=l*l+u*u,x=m*m+g*g,b=Math.sqrt(w),y=Math.sqrt(p),E=a*Math.tan((nw-Math.acos((w+p-x)/(2*b*y)))/2),N=E/y,A=E/b;Math.abs(N-1)>Ja&&this._append`L${e+N*c},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>c*g)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ja||Math.abs(this._y1-c)>Ja)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%rw+rw),p>dG?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:p>Ja&&this._append`A${r},${r},0,${+(p>=nw)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function w1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new pG(e)}function b1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yD(t){this._context=t}yD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _g(t){return new yD(t)}function vD(t){return t[0]}function wD(t){return t[1]}function bD(t,e){var n=nt(!0),r=null,i=_g,a=null,o=w1(s);t=typeof t=="function"?t:t===void 0?vD:nt(t),e=typeof e=="function"?e:e===void 0?wD:nt(e);function s(l){var u,c=(l=b1(l)).length,f,p=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,u,l),+e(f,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:nt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:nt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:nt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function $d(t,e,n){var r=null,i=nt(!0),a=null,o=_g,s=null,l=w1(u);t=typeof t=="function"?t:t===void 0?vD:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wD:nt(+n);function u(f){var p,m,g,w=(f=b1(f)).length,x,b=!1,y,E=new Array(w),N=new Array(w);for(a==null&&(s=o(y=l())),p=0;p<=w;++p){if(!(p<w&&i(x=f[p],p,f))===b)if(b=!b)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=m;--g)s.point(E[g],N[g]);s.lineEnd(),s.areaEnd()}b&&(E[p]=+t(x,p,f),N[p]=+e(x,p,f),s.point(r?+r(x,p,f):E[p],n?+n(x,p,f):N[p]))}if(y)return s=null,y+""||null}function c(){return bD().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:nt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:nt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:nt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:nt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:nt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:nt(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:nt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class _D{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function mG(t){return new _D(t,!0)}function gG(t){return new _D(t,!1)}const _1={draw(t,e){const n=Mr(e/wp);t.moveTo(n,0),t.arc(0,0,n,0,bg)}},yG={draw(t,e){const n=Mr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xD=Mr(1/3),vG=xD*2,wG={draw(t,e){const n=Mr(e/vG),r=n*xD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bG={draw(t,e){const n=Mr(e),r=-n/2;t.rect(r,r,n,n)}},_G=.8908130915292852,ED=vp(wp/10)/vp(7*wp/10),xG=vp(bg/10)*ED,EG=-mD(bg/10)*ED,SG={draw(t,e){const n=Mr(e*_G),r=xG*n,i=EG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=bg*a/5,s=mD(o),l=vp(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Jy=Mr(3),TG={draw(t,e){const n=-Mr(e/(Jy*3));t.moveTo(0,n*2),t.lineTo(-Jy*n,-n),t.lineTo(Jy*n,-n),t.closePath()}},Xn=-.5,Qn=Mr(3)/2,iw=1/Mr(12),AG=(iw/2+1)*3,PG={draw(t,e){const n=Mr(e/AG),r=n/2,i=n*iw,a=r,o=n*iw+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Xn*r-Qn*i,Qn*r+Xn*i),t.lineTo(Xn*a-Qn*o,Qn*a+Xn*o),t.lineTo(Xn*s-Qn*l,Qn*s+Xn*l),t.lineTo(Xn*r+Qn*i,Xn*i-Qn*r),t.lineTo(Xn*a+Qn*o,Xn*o-Qn*a),t.lineTo(Xn*s+Qn*l,Xn*l-Qn*s),t.closePath()}};function IG(t,e){let n=null,r=w1(i);t=typeof t=="function"?t:nt(t||_1),e=typeof e=="function"?e:nt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:nt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function bp(){}function _p(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function SD(t){this._context=t}SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_p(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OG(t){return new SD(t)}function TD(t){this._context=t}TD.prototype={areaStart:bp,areaEnd:bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CG(t){return new TD(t)}function AD(t){this._context=t}AD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kG(t){return new AD(t)}function PD(t){this._context=t}PD.prototype={areaStart:bp,areaEnd:bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function NG(t){return new PD(t)}function yA(t){return t<0?-1:1}function vA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(yA(a)+yA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function wA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zy(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function xp(t){this._context=t}xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zy(this,this._t0,wA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zy(this,wA(this,n=vA(this,t,e)),n);break;default:Zy(this,this._t0,n=vA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ID(t){this._context=new OD(t)}(ID.prototype=Object.create(xp.prototype)).point=function(t,e){xp.prototype.point.call(this,e,t)};function OD(t){this._context=t}OD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function jG(t){return new xp(t)}function DG(t){return new ID(t)}function CD(t){this._context=t}CD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=bA(t),i=bA(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bA(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function RG(t){return new CD(t)}function xg(t,e){this._context=t,this._t=e}xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function MG(t){return new xg(t,.5)}function $G(t){return new xg(t,0)}function LG(t){return new xg(t,1)}function tl(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function aw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function VG(t,e){return t[e]}function FG(t){const e=[];return e.key=t,e}function UG(){var t=nt([]),e=aw,n=tl,r=VG;function i(a){var o=Array.from(t.apply(this,arguments),FG),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=b1(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:nt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?aw:typeof a=="function"?a:nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??tl,i):n},i}function BG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}tl(t,e)}}function zG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}tl(t,e)}}function WG(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,p=c[r-1][1]||0,m=(f-p)/2,g=0;g<s;++g){var w=t[e[g]],x=w[r][1]||0,b=w[r-1][1]||0;m+=x-b}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,tl(t,e)}}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}var qG=["type","size","sizeType"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function _A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(n),!0).forEach(function(r){HG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HG(t,e,n){return e=GG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GG(t){var e=KG(t,"string");return Rc(e)=="symbol"?e:e+""}function KG(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YG(t,e){if(t==null)return{};var n=XG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kD={symbolCircle:_1,symbolCross:yG,symbolDiamond:wG,symbolSquare:bG,symbolStar:SG,symbolTriangle:TG,symbolWye:PG},QG=Math.PI/180,JG=function(e){var n="symbol".concat(wg(e));return kD[n]||_1},ZG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*QG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},eK=function(e,n){kD["symbol".concat(wg(e))]=n},x1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=YG(e,qG),u=xA(xA({},l),{},{type:r,size:a,sizeType:s}),c=function(){var x=JG(r),b=IG().type(x).size(ZG(a,s,r));return b()},f=u.className,p=u.cx,m=u.cy,g=Re(u,!0);return p===+p&&m===+m&&a===+a?U.createElement("path",ow({},g,{className:Le("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:c()})):null};x1.registerSymbol=eK;function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){Mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jD(r.key),r)}}function iK(t,e,n){return e&&rK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aK(t,e,n){return e=Ep(e),oK(t,ND()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function oK(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sK(t)}function sK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ND(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function lK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lw(t,e)}function Mc(t,e,n){return e=jD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jD(t){var e=uK(t,"string");return nl(e)=="symbol"?e:e+""}function uK(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jn=32,E1=function(t){function e(){return nK(this,e),aK(this,e,arguments)}return lK(e,t),iK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Jn/2,o=Jn/6,s=Jn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Jn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Jn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Jn/8,"h").concat(Jn,"v").concat(Jn*3/4,"h").concat(-Jn,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=tK({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(x1,{fill:l,cx:a,cy:a,size:Jn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Jn,height:Jn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var w=m.formatter||l,x=Le(Mc(Mc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Oe(m.value)?null:m.value;wi(!Oe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return U.createElement("li",sw({className:x,style:f,key:"legend-item-".concat(g)},yp(r.props,m,g)),U.createElement(J0,{width:o,height:o,viewBox:c,style:p},r.renderIcon(m)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},w?w(b,m,g):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(L.PureComponent);Mc(E1,"displayName","Legend");Mc(E1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cK=og;function fK(){this.__data__=new cK,this.size=0}var dK=fK;function hK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var pK=hK;function mK(t){return this.__data__.get(t)}var gK=mK;function yK(t){return this.__data__.has(t)}var vK=yK,wK=og,bK=c1,_K=f1,xK=200;function EK(t,e){var n=this.__data__;if(n instanceof wK){var r=n.__data__;if(!bK||r.length<xK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _K(r)}return n.set(t,e),this.size=n.size,this}var SK=EK,TK=og,AK=dK,PK=pK,IK=gK,OK=vK,CK=SK;function Ul(t){var e=this.__data__=new TK(t);this.size=e.size}Ul.prototype.clear=AK;Ul.prototype.delete=PK;Ul.prototype.get=IK;Ul.prototype.has=OK;Ul.prototype.set=CK;var DD=Ul,kK="__lodash_hash_undefined__";function NK(t){return this.__data__.set(t,kK),this}var jK=NK;function DK(t){return this.__data__.has(t)}var RK=DK,MK=f1,$K=jK,LK=RK;function Sp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new MK;++e<n;)this.add(t[e])}Sp.prototype.add=Sp.prototype.push=$K;Sp.prototype.has=LK;var RD=Sp;function VK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var MD=VK;function FK(t,e){return t.has(e)}var $D=FK,UK=RD,BK=MD,zK=$D,WK=1,qK=2;function HK(t,e,n,r,i,a){var o=n&WK,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,p=!0,m=n&qK?new UK:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],w=e[f];if(r)var x=o?r(w,g,f,e,t,a):r(g,w,f,t,e,a);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!BK(e,function(b,y){if(!zK(m,y)&&(g===b||i(g,b,n,r,a)))return m.push(y)})){p=!1;break}}else if(!(g===w||i(g,w,n,r,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var LD=HK,GK=ei,KK=GK.Uint8Array,YK=KK;function XK(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var QK=XK;function JK(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var S1=JK,SA=Vf,TA=YK,ZK=u1,eY=LD,tY=QK,nY=S1,rY=1,iY=2,aY="[object Boolean]",oY="[object Date]",sY="[object Error]",lY="[object Map]",uY="[object Number]",cY="[object RegExp]",fY="[object Set]",dY="[object String]",hY="[object Symbol]",pY="[object ArrayBuffer]",mY="[object DataView]",AA=SA?SA.prototype:void 0,ev=AA?AA.valueOf:void 0;function gY(t,e,n,r,i,a,o){switch(n){case mY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case pY:return!(t.byteLength!=e.byteLength||!a(new TA(t),new TA(e)));case aY:case oY:case uY:return ZK(+t,+e);case sY:return t.name==e.name&&t.message==e.message;case cY:case dY:return t==e+"";case lY:var s=tY;case fY:var l=r&rY;if(s||(s=nY),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=iY,o.set(t,e);var c=eY(s(t),s(e),r,i,a,o);return o.delete(t),c;case hY:if(ev)return ev.call(t)==ev.call(e)}return!1}var yY=gY;function vY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var VD=vY,wY=VD,bY=jn;function _Y(t,e,n){var r=e(t);return bY(t)?r:wY(r,n(t))}var xY=_Y;function EY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var SY=EY;function TY(){return[]}var AY=TY,PY=SY,IY=AY,OY=Object.prototype,CY=OY.propertyIsEnumerable,PA=Object.getOwnPropertySymbols,kY=PA?function(t){return t==null?[]:(t=Object(t),PY(PA(t),function(e){return CY.call(t,e)}))}:IY,NY=kY;function jY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var DY=jY,RY=Li,MY=Vi,$Y="[object Arguments]";function LY(t){return MY(t)&&RY(t)==$Y}var VY=LY,IA=VY,FY=Vi,FD=Object.prototype,UY=FD.hasOwnProperty,BY=FD.propertyIsEnumerable,zY=IA(function(){return arguments}())?IA:function(t){return FY(t)&&UY.call(t,"callee")&&!BY.call(t,"callee")},T1=zY,Tp={exports:{}};function WY(){return!1}var qY=WY;Tp.exports;(function(t,e){var n=ei,r=qY,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Tp,Tp.exports);var UD=Tp.exports,HY=9007199254740991,GY=/^(?:0|[1-9]\d*)$/;function KY(t,e){var n=typeof t;return e=e??HY,!!e&&(n=="number"||n!="symbol"&&GY.test(t))&&t>-1&&t%1==0&&t<e}var A1=KY,YY=9007199254740991;function XY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=YY}var P1=XY,QY=Li,JY=P1,ZY=Vi,eX="[object Arguments]",tX="[object Array]",nX="[object Boolean]",rX="[object Date]",iX="[object Error]",aX="[object Function]",oX="[object Map]",sX="[object Number]",lX="[object Object]",uX="[object RegExp]",cX="[object Set]",fX="[object String]",dX="[object WeakMap]",hX="[object ArrayBuffer]",pX="[object DataView]",mX="[object Float32Array]",gX="[object Float64Array]",yX="[object Int8Array]",vX="[object Int16Array]",wX="[object Int32Array]",bX="[object Uint8Array]",_X="[object Uint8ClampedArray]",xX="[object Uint16Array]",EX="[object Uint32Array]",lt={};lt[mX]=lt[gX]=lt[yX]=lt[vX]=lt[wX]=lt[bX]=lt[_X]=lt[xX]=lt[EX]=!0;lt[eX]=lt[tX]=lt[hX]=lt[nX]=lt[pX]=lt[rX]=lt[iX]=lt[aX]=lt[oX]=lt[sX]=lt[lX]=lt[uX]=lt[cX]=lt[fX]=lt[dX]=!1;function SX(t){return ZY(t)&&JY(t.length)&&!!lt[QY(t)]}var TX=SX;function AX(t){return function(e){return t(e)}}var BD=AX,Ap={exports:{}};Ap.exports;(function(t,e){var n=Xj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Ap,Ap.exports);var PX=Ap.exports,IX=TX,OX=BD,OA=PX,CA=OA&&OA.isTypedArray,CX=CA?OX(CA):IX,zD=CX,kX=DY,NX=T1,jX=jn,DX=UD,RX=A1,MX=zD,$X=Object.prototype,LX=$X.hasOwnProperty;function VX(t,e){var n=jX(t),r=!n&&NX(t),i=!n&&!r&&DX(t),a=!n&&!r&&!i&&MX(t),o=n||r||i||a,s=o?kX(t.length,String):[],l=s.length;for(var u in t)(e||LX.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||RX(u,l)))&&s.push(u);return s}var FX=VX,UX=Object.prototype;function BX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||UX;return t===n}var zX=BX;function WX(t,e){return function(n){return t(e(n))}}var WD=WX,qX=WD,HX=qX(Object.keys,Object),GX=HX,KX=zX,YX=GX,XX=Object.prototype,QX=XX.hasOwnProperty;function JX(t){if(!KX(t))return YX(t);var e=[];for(var n in Object(t))QX.call(t,n)&&n!="constructor"&&e.push(n);return e}var ZX=JX,eQ=l1,tQ=P1;function nQ(t){return t!=null&&tQ(t.length)&&!eQ(t)}var Bf=nQ,rQ=FX,iQ=ZX,aQ=Bf;function oQ(t){return aQ(t)?rQ(t):iQ(t)}var Eg=oQ,sQ=xY,lQ=NY,uQ=Eg;function cQ(t){return sQ(t,uQ,lQ)}var fQ=cQ,kA=fQ,dQ=1,hQ=Object.prototype,pQ=hQ.hasOwnProperty;function mQ(t,e,n,r,i,a){var o=n&dQ,s=kA(t),l=s.length,u=kA(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var p=s[f];if(!(o?p in e:pQ.call(e,p)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var w=!0;a.set(t,e),a.set(e,t);for(var x=o;++f<l;){p=s[f];var b=t[p],y=e[p];if(r)var E=o?r(y,b,p,e,t,a):r(b,y,p,t,e,a);if(!(E===void 0?b===y||i(b,y,n,r,a):E)){w=!1;break}x||(x=p=="constructor")}if(w&&!x){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(w=!1)}return a.delete(t),a.delete(e),w}var gQ=mQ,yQ=Vo,vQ=ei,wQ=yQ(vQ,"DataView"),bQ=wQ,_Q=Vo,xQ=ei,EQ=_Q(xQ,"Promise"),SQ=EQ,TQ=Vo,AQ=ei,PQ=TQ(AQ,"Set"),qD=PQ,IQ=Vo,OQ=ei,CQ=IQ(OQ,"WeakMap"),kQ=CQ,uw=bQ,cw=c1,fw=SQ,dw=qD,hw=kQ,HD=Li,Bl=Jj,NA="[object Map]",NQ="[object Object]",jA="[object Promise]",DA="[object Set]",RA="[object WeakMap]",MA="[object DataView]",jQ=Bl(uw),DQ=Bl(cw),RQ=Bl(fw),MQ=Bl(dw),$Q=Bl(hw),Za=HD;(uw&&Za(new uw(new ArrayBuffer(1)))!=MA||cw&&Za(new cw)!=NA||fw&&Za(fw.resolve())!=jA||dw&&Za(new dw)!=DA||hw&&Za(new hw)!=RA)&&(Za=function(t){var e=HD(t),n=e==NQ?t.constructor:void 0,r=n?Bl(n):"";if(r)switch(r){case jQ:return MA;case DQ:return NA;case RQ:return jA;case MQ:return DA;case $Q:return RA}return e});var LQ=Za,tv=DD,VQ=LD,FQ=yY,UQ=gQ,$A=LQ,LA=jn,VA=UD,BQ=zD,zQ=1,FA="[object Arguments]",UA="[object Array]",Ld="[object Object]",WQ=Object.prototype,BA=WQ.hasOwnProperty;function qQ(t,e,n,r,i,a){var o=LA(t),s=LA(e),l=o?UA:$A(t),u=s?UA:$A(e);l=l==FA?Ld:l,u=u==FA?Ld:u;var c=l==Ld,f=u==Ld,p=l==u;if(p&&VA(t)){if(!VA(e))return!1;o=!0,c=!1}if(p&&!c)return a||(a=new tv),o||BQ(t)?VQ(t,e,n,r,i,a):FQ(t,e,l,n,r,i,a);if(!(n&zQ)){var m=c&&BA.call(t,"__wrapped__"),g=f&&BA.call(e,"__wrapped__");if(m||g){var w=m?t.value():t,x=g?e.value():e;return a||(a=new tv),i(w,x,n,r,a)}}return p?(a||(a=new tv),UQ(t,e,n,r,i,a)):!1}var HQ=qQ,GQ=HQ,zA=Vi;function GD(t,e,n,r,i){return t===e?!0:t==null||e==null||!zA(t)&&!zA(e)?t!==t&&e!==e:GQ(t,e,n,r,GD,i)}var I1=GD,KQ=DD,YQ=I1,XQ=1,QQ=2;function JQ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new KQ;if(r)var p=r(u,c,l,t,e,f);if(!(p===void 0?YQ(c,u,XQ|QQ,r,f):p))return!1}}return!0}var ZQ=JQ,eJ=$a;function tJ(t){return t===t&&!eJ(t)}var KD=tJ,nJ=KD,rJ=Eg;function iJ(t){for(var e=rJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,nJ(i)]}return e}var aJ=iJ;function oJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var YD=oJ,sJ=ZQ,lJ=aJ,uJ=YD;function cJ(t){var e=lJ(t);return e.length==1&&e[0][2]?uJ(e[0][0],e[0][1]):function(n){return n===t||sJ(n,t,e)}}var fJ=cJ;function dJ(t,e){return t!=null&&e in Object(t)}var hJ=dJ,pJ=rD,mJ=T1,gJ=jn,yJ=A1,vJ=P1,wJ=lg;function bJ(t,e,n){e=pJ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=wJ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&vJ(i)&&yJ(o,i)&&(gJ(t)||mJ(t)))}var _J=bJ,xJ=hJ,EJ=_J;function SJ(t,e){return t!=null&&EJ(t,e,xJ)}var TJ=SJ,AJ=I1,PJ=iD,IJ=TJ,OJ=s1,CJ=KD,kJ=YD,NJ=lg,jJ=1,DJ=2;function RJ(t,e){return OJ(t)&&CJ(e)?kJ(NJ(t),e):function(n){var r=PJ(n,t);return r===void 0&&r===e?IJ(n,t):AJ(e,r,jJ|DJ)}}var MJ=RJ;function $J(t){return t}var zl=$J;function LJ(t){return function(e){return e==null?void 0:e[t]}}var VJ=LJ,FJ=p1;function UJ(t){return function(e){return FJ(e,t)}}var BJ=UJ,zJ=VJ,WJ=BJ,qJ=s1,HJ=lg;function GJ(t){return qJ(t)?zJ(HJ(t)):WJ(t)}var KJ=GJ,YJ=fJ,XJ=MJ,QJ=zl,JJ=jn,ZJ=KJ;function eZ(t){return typeof t=="function"?t:t==null?QJ:typeof t=="object"?JJ(t)?XJ(t[0],t[1]):YJ(t):ZJ(t)}var La=eZ;function tZ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var XD=tZ;function nZ(t){return t!==t}var rZ=nZ;function iZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var aZ=iZ,oZ=XD,sZ=rZ,lZ=aZ;function uZ(t,e,n){return e===e?lZ(t,e,n):oZ(t,sZ,n)}var cZ=uZ,fZ=cZ;function dZ(t,e){var n=t==null?0:t.length;return!!n&&fZ(t,e,0)>-1}var hZ=dZ;function pZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var mZ=pZ;function gZ(){}var yZ=gZ,nv=qD,vZ=yZ,wZ=S1,bZ=1/0,_Z=nv&&1/wZ(new nv([,-0]))[1]==bZ?function(t){return new nv(t)}:vZ,xZ=_Z,EZ=RD,SZ=hZ,TZ=mZ,AZ=$D,PZ=xZ,IZ=S1,OZ=200;function CZ(t,e,n){var r=-1,i=SZ,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=TZ;else if(a>=OZ){var u=e?null:PZ(t);if(u)return IZ(u);o=!1,i=AZ,l=new EZ}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var kZ=CZ,NZ=La,jZ=kZ;function DZ(t,e){return t&&t.length?jZ(t,NZ(e)):[]}var RZ=DZ;const WA=tt(RZ);function QD(t,e,n){return e===!0?WA(t,n):Oe(e)?WA(t,e):t}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}var MZ=["ref"];function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){Sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZD(r.key),r)}}function LZ(t,e,n){return e&&HA(t.prototype,e),n&&HA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VZ(t,e,n){return e=Pp(e),FZ(t,JD()?Reflect.construct(e,n||[],Pp(t).constructor):e.apply(t,n))}function FZ(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UZ(t)}function UZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JD=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(t)}function BZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pw(t,e)}function Sg(t,e,n){return e=ZD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZD(t){var e=zZ(t,"string");return rl(e)=="symbol"?e:e+""}function zZ(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WZ(t,e){if(t==null)return{};var n=qZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HZ(t){return t.value}function GZ(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=WZ(e,MZ);return U.createElement(E1,n)}var GA=1,fo=function(t){function e(){var n;$Z(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=VZ(this,e,[].concat(i)),Sg(n,"lastBoundingBox",{width:-1,height:-1}),n}return BZ(e,t),LZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>GA||Math.abs(i.height-this.lastBoundingBox.height)>GA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ri({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();p={top:((c||0)-g.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ri(ri({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ri(ri({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},GZ(a,ri(ri({},this.props),{},{payload:QD(c,u,HZ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ri(ri({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&oe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(L.PureComponent);Sg(fo,"displayName","Legend");Sg(fo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var KA=Vf,KZ=T1,YZ=jn,YA=KA?KA.isConcatSpreadable:void 0;function XZ(t){return YZ(t)||KZ(t)||!!(YA&&t&&t[YA])}var QZ=XZ,JZ=VD,ZZ=QZ;function eR(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=ZZ),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?eR(s,e-1,n,r,i):JZ(i,s):r||(i[i.length]=s)}return i}var tR=eR;function eee(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var tee=eee,nee=tee,ree=nee(),iee=ree,aee=iee,oee=Eg;function see(t,e){return t&&aee(t,e,oee)}var nR=see,lee=Bf;function uee(t,e){return function(n,r){if(n==null)return n;if(!lee(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var cee=uee,fee=nR,dee=cee,hee=dee(fee),O1=hee,pee=O1,mee=Bf;function gee(t,e){var n=-1,r=mee(t)?Array(t.length):[];return pee(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var rR=gee;function yee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var vee=yee,XA=Ml;function wee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=XA(t),o=e!==void 0,s=e===null,l=e===e,u=XA(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var bee=wee,_ee=bee;function xee(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=_ee(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Eee=xee,rv=h1,See=p1,Tee=La,Aee=rR,Pee=vee,Iee=BD,Oee=Eee,Cee=zl,kee=jn;function Nee(t,e,n){e.length?e=rv(e,function(a){return kee(a)?function(o){return See(o,a.length===1?a[0]:a)}:a}):e=[Cee];var r=-1;e=rv(e,Iee(Tee));var i=Aee(t,function(a,o,s){var l=rv(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Pee(i,function(a,o){return Oee(a,o,n)})}var jee=Nee;function Dee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ree=Dee,Mee=Ree,QA=Math.max;function $ee(t,e,n){return e=QA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=QA(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Mee(t,this,s)}}var Lee=$ee;function Vee(t){return function(){return t}}var Fee=Vee,Uee=Vo,Bee=function(){try{var t=Uee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),iR=Bee,zee=Fee,JA=iR,Wee=zl,qee=JA?function(t,e){return JA(t,"toString",{configurable:!0,enumerable:!1,value:zee(e),writable:!0})}:Wee,Hee=qee,Gee=800,Kee=16,Yee=Date.now;function Xee(t){var e=0,n=0;return function(){var r=Yee(),i=Kee-(r-n);if(n=r,i>0){if(++e>=Gee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Qee=Xee,Jee=Hee,Zee=Qee,ete=Zee(Jee),tte=ete,nte=zl,rte=Lee,ite=tte;function ate(t,e){return ite(rte(t,e,nte),t+"")}var ote=ate,ste=u1,lte=Bf,ute=A1,cte=$a;function fte(t,e,n){if(!cte(n))return!1;var r=typeof e;return(r=="number"?lte(n)&&ute(e,n.length):r=="string"&&e in n)?ste(n[e],t):!1}var Tg=fte,dte=tR,hte=jee,pte=ote,ZA=Tg,mte=pte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ZA(t,e[0],e[1])?e=[]:n>2&&ZA(e[0],e[1],e[2])&&(e=[e[0]]),hte(t,dte(e,1),[])}),gte=mte;const C1=tt(gte);function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}function yte(t,e){return _te(t)||bte(t,e)||wte(t,e)||vte()}function vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wte(t,e){if(t){if(typeof t=="string")return eP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eP(t,e)}}function eP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _te(t){if(Array.isArray(t))return t}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Ste(t,"string");return $c(e)=="symbol"?e:e+""}function Ste(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tte(t){return Array.isArray(t)&&$t(t[0])&&$t(t[1])?t.join(" ~ "):t}var Ate=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,p=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,w=e.label,x=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,E=function(){if(c&&c.length){var j={padding:0,margin:0},k=(p?C1(c,p):c).map(function($,F){if($.type==="none")return null;var W=iv({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),R=$.formatter||f||Tte,B=$.value,M=$.name,X=B,q=M;if(R&&X!=null&&q!=null){var V=R(B,M,$,F,c);if(Array.isArray(V)){var H=yte(V,2);X=H[0],q=H[1]}else X=V}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:W},$t(q)?U.createElement("span",{className:"recharts-tooltip-item-name"},q):null,$t(q)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},X),U.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},N=iv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=iv({margin:0},u),I=!Ce(w),S=I?w:"",v=Le("recharts-default-tooltip",m),T=Le("recharts-tooltip-label",g);I&&x&&c!==void 0&&c!==null&&(S=x(w,c));var P=y?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",mw({className:v,style:N},P),U.createElement("p",{className:T,style:A},U.isValidElement(S)?S:"".concat(S)),E())};function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function Vd(t,e,n){return e=Pte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=Ite(t,"string");return Lc(e)=="symbol"?e:e+""}function Ite(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wu="recharts-tooltip-wrapper",Ote={visibility:"hidden"};function Cte(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Le(wu,Vd(Vd(Vd(Vd({},"".concat(wu,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(wu,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(wu,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(wu,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function nP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&oe(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var p=c,m=l[r];return p<m?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,w=l[r]+u;return g>w?Math.max(c,l[r]):Math.max(f,l[r])}function kte(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Nte(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=nP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=nP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=kte({translateX:c,translateY:f,useTranslate3d:s})):u=Ote,{cssProperties:u,cssClasses:Cte({translateX:c,translateY:f,coordinate:n})}}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oR(r.key),r)}}function Rte(t,e,n){return e&&Dte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mte(t,e,n){return e=Ip(e),$te(t,aR()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function $te(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lte(t)}function Lte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function Vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function yw(t,e,n){return e=oR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oR(t){var e=Fte(t,"string");return il(e)=="symbol"?e:e+""}function Fte(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aP=1,Ute=function(t){function e(){var n;jte(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Mte(this,e,[].concat(i)),yw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Vte(e,t),Rte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>aP||Math.abs(r.height-this.state.lastBoundingBox.height)>aP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,m=i.offset,g=i.position,w=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,E=Nte({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),N=E.cssClasses,A=E.cssProperties,I=iP(iP({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return U.createElement("div",{tabIndex:-1,className:N,style:I,ref:function(v){r.wrapperNode=v}},u)}}])}(L.PureComponent),Bte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wl={isSsr:Bte()};function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){k1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lR(r.key),r)}}function qte(t,e,n){return e&&Wte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hte(t,e,n){return e=Op(e),Gte(t,sR()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function Gte(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kte(t)}function Kte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sR=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function Yte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function k1(t,e,n){return e=lR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lR(t){var e=Xte(t,"string");return al(e)=="symbol"?e:e+""}function Xte(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qte(t){return t.dataKey}function Jte(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(Ate,e)}var wr=function(t){function e(){return zte(this,e),Hte(this,e,arguments)}return Yte(e,t),qte(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,p=i.isAnimationActive,m=i.offset,g=i.payload,w=i.payloadUniqBy,x=i.position,b=i.reverseDirection,y=i.useTranslate3d,E=i.viewBox,N=i.wrapperStyle,A=g??[];f&&A.length&&(A=QD(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,Qte));var I=A.length>0;return U.createElement(Ute,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:c,hasPayload:I,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:E,wrapperStyle:N},Jte(u,sP(sP({},this.props),{},{payload:A})))}}])}(L.PureComponent);k1(wr,"displayName","Tooltip");k1(wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zte=ei,ene=function(){return Zte.Date.now()},tne=ene,nne=/\s/;function rne(t){for(var e=t.length;e--&&nne.test(t.charAt(e)););return e}var ine=rne,ane=ine,one=/^\s+/;function sne(t){return t&&t.slice(0,ane(t)+1).replace(one,"")}var lne=sne,une=lne,lP=$a,cne=Ml,uP=NaN,fne=/^[-+]0x[0-9a-f]+$/i,dne=/^0b[01]+$/i,hne=/^0o[0-7]+$/i,pne=parseInt;function mne(t){if(typeof t=="number")return t;if(cne(t))return uP;if(lP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=lP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=une(t);var n=dne.test(t);return n||hne.test(t)?pne(t.slice(2),n?2:8):fne.test(t)?uP:+t}var uR=mne,gne=$a,av=tne,cP=uR,yne="Expected a function",vne=Math.max,wne=Math.min;function bne(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(yne);e=cP(e)||0,gne(n)&&(c=!!n.leading,f="maxWait"in n,a=f?vne(cP(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function m(I){var S=r,v=i;return r=i=void 0,u=I,o=t.apply(v,S),o}function g(I){return u=I,s=setTimeout(b,e),c?m(I):o}function w(I){var S=I-l,v=I-u,T=e-S;return f?wne(T,a-v):T}function x(I){var S=I-l,v=I-u;return l===void 0||S>=e||S<0||f&&v>=a}function b(){var I=av();if(x(I))return y(I);s=setTimeout(b,w(I))}function y(I){return s=void 0,p&&r?m(I):(r=i=void 0,o)}function E(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function N(){return s===void 0?o:y(av())}function A(){var I=av(),S=x(I);if(r=arguments,i=this,l=I,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(b,e),m(l)}return s===void 0&&(s=setTimeout(b,e)),o}return A.cancel=E,A.flush=N,A}var _ne=bne,xne=_ne,Ene=$a,Sne="Expected a function";function Tne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Sne);return Ene(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xne(t,e,{leading:r,maxWait:e,trailing:i})}var Ane=Tne;const cR=tt(Ane);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return e=Ine(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=One(t,"string");return Vc(e)=="symbol"?e:e+""}function One(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cne(t,e){return Dne(t)||jne(t,e)||Nne(t,e)||kne()}function kne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(t,e){if(t){if(typeof t=="string")return dP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dP(t,e)}}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Dne(t){if(Array.isArray(t))return t}var hP=L.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,m=t.children,g=t.debounce,w=g===void 0?0:g,x=t.id,b=t.className,y=t.onResize,E=t.style,N=E===void 0?{}:E,A=L.useRef(null),I=L.useRef();I.current=y,L.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var S=L.useState({containerWidth:i.width,containerHeight:i.height}),v=Cne(S,2),T=v[0],P=v[1],O=L.useCallback(function(k,$){P(function(F){var W=Math.round(k),R=Math.round($);return F.containerWidth===W&&F.containerHeight===R?F:{containerWidth:W,containerHeight:R}})},[]);L.useEffect(function(){var k=function(M){var X,q=M[0].contentRect,V=q.width,H=q.height;O(V,H),(X=I.current)===null||X===void 0||X.call(I,V,H)};w>0&&(k=cR(k,w,{trailing:!0,leading:!1}));var $=new ResizeObserver(k),F=A.current.getBoundingClientRect(),W=F.width,R=F.height;return O(W,R),$.observe(A.current),function(){$.disconnect()}},[O,w]);var j=L.useMemo(function(){var k=T.containerWidth,$=T.containerHeight;if(k<0||$<0)return null;wi(ao(o)||ao(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),wi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=ao(o)?k:o,W=ao(l)?$:l;n&&n>0&&(F?W=F/n:W&&(F=W*n),p&&W>p&&(W=p)),wi(F>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,W,o,l,c,f,n);var R=!Array.isArray(m)&&vi(m.type).endsWith("Chart");return U.Children.map(m,function(B){return U.isValidElement(B)?L.cloneElement(B,Fd({width:F,height:W},R?{style:Fd({height:"100%",width:"100%",maxHeight:W,maxWidth:F},B.props.style)}:{})):B})},[n,m,l,p,f,c,T,o]);return U.createElement("div",{id:x?"".concat(x):void 0,className:Le("recharts-responsive-container",b),style:Fd(Fd({},N),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:p}),ref:A},j)}),N1=function(e){return null};N1.displayName="Cell";function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return e=Mne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t){var e=$ne(t,"string");return Fc(e)=="symbol"?e:e+""}function $ne(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xo={widthCache:{},cacheCount:0},Lne=2e3,Vne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mP="recharts_measurement_span";function Fne(t){var e=ww({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ic=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wl.isSsr)return{width:0,height:0};var r=Fne(n),i=JSON.stringify({text:e,copyStyle:r});if(Xo.widthCache[i])return Xo.widthCache[i];try{var a=document.getElementById(mP);a||(a=document.createElement("span"),a.setAttribute("id",mP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=ww(ww({},Vne),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Xo.widthCache[i]=l,++Xo.cacheCount>Lne&&(Xo.cacheCount=0,Xo.widthCache={}),l}catch{return{width:0,height:0}}},Une=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Cp(t,e){return qne(t)||Wne(t,e)||zne(t,e)||Bne()}function Bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(t,e){if(t){if(typeof t=="string")return gP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gP(t,e)}}function gP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qne(t){if(Array.isArray(t))return t}function Hne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kne(r.key),r)}}function Gne(t,e,n){return e&&yP(t.prototype,e),n&&yP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kne(t){var e=Yne(t,"string");return Uc(e)=="symbol"?e:e+""}function Yne(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jne=Object.keys(fR),bs="NaN";function Zne(t,e){return t*fR[e]}var Ud=function(){function t(e,n){Hne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Xne.test(n)&&(this.num=NaN,this.unit=""),Jne.includes(n)&&(this.num=Zne(e,n),this.unit="px")}return Gne(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Qne.exec(n))!==null&&r!==void 0?r:[],a=Cp(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function dR(t){if(t.includes(bs))return bs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=vP.exec(e))!==null&&n!==void 0?n:[],i=Cp(r,4),a=i[1],o=i[2],s=i[3],l=Ud.parse(a??""),u=Ud.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return bs;e=e.replace(vP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=wP.exec(e))!==null&&f!==void 0?f:[],m=Cp(p,4),g=m[1],w=m[2],x=m[3],b=Ud.parse(g??""),y=Ud.parse(x??""),E=w==="+"?b.add(y):b.subtract(y);if(E.isNaN())return bs;e=e.replace(wP,E.toString())}return e}var bP=/\(([^()]*)\)/;function ere(t){for(var e=t;e.includes("(");){var n=bP.exec(e),r=Cp(n,2),i=r[1];e=e.replace(bP,dR(i))}return e}function tre(t){var e=t.replace(/\s+/g,"");return e=ere(e),e=dR(e),e}function nre(t){try{return tre(t)}catch{return bs}}function ov(t){var e=nre(t.slice(5,-1));return e===bs?"":e}var rre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ire=["dx","dy","angle","className","breakAll"];function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}function _P(t,e){if(t==null)return{};var n=are(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xP(t,e){return ure(t)||lre(t,e)||sre(t,e)||ore()}function ore(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sre(t,e){if(t){if(typeof t=="string")return EP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EP(t,e)}}function EP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ure(t){if(Array.isArray(t))return t}var hR=/[ \f\n\r\t\v\u2028\u2029]+/,pR=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ce(n)||(r?a=n.toString().split(""):a=n.toString().split(hR));var o=a.map(function(l){return{word:l,width:ic(l,i).width}}),s=r?0:ic(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},cre=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=oe(o),f=s,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(W,R){var B=R.word,M=R.width,X=W[W.length-1];if(X&&(i==null||a||X.width+M+r<Number(i)))X.words.push(B),X.width+=M+r;else{var q={words:[B],width:M};W.push(q)}return W},[])},m=p(n),g=function(F){return F.reduce(function(W,R){return W.width>R.width?W:R})};if(!c)return m;for(var w="…",x=function(F){var W=f.slice(0,F),R=pR({breakAll:u,style:l,children:W+w}).wordsWithComputedWidth,B=p(R),M=B.length>o||g(B).width>Number(i);return[M,B]},b=0,y=f.length-1,E=0,N;b<=y&&E<=f.length-1;){var A=Math.floor((b+y)/2),I=A-1,S=x(I),v=xP(S,2),T=v[0],P=v[1],O=x(A),j=xP(O,1),k=j[0];if(!T&&!k&&(b=A+1),T&&k&&(y=A-1),!T&&k){N=P;break}E++}return N||m},SP=function(e){var n=Ce(e)?[]:e.toString().split(hR);return[{words:n}]},fre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Wl.isSsr){var l,u,c=pR({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,p=c.spaceWidth;l=f,u=p}else return SP(i);return cre({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return SP(i)},TP="#808080",kp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,p=e.textAnchor,m=p===void 0?"start":p,g=e.verticalAnchor,w=g===void 0?"end":g,x=e.fill,b=x===void 0?TP:x,y=_P(e,rre),E=L.useMemo(function(){return fre({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,A=y.dy,I=y.angle,S=y.className,v=y.breakAll,T=_P(y,ire);if(!$t(r)||!$t(a))return null;var P=r+(oe(N)?N:0),O=a+(oe(A)?A:0),j;switch(w){case"start":j=ov("calc(".concat(u,")"));break;case"middle":j=ov("calc(".concat((E.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=ov("calc(".concat(E.length-1," * -").concat(s,")"));break}var k=[];if(f){var $=E[0].width,F=y.width;k.push("scale(".concat((oe(F)?F/$:1)/$,")"))}return I&&k.push("rotate(".concat(I,", ").concat(P,", ").concat(O,")")),k.length&&(T.transform=k.join(" ")),U.createElement("text",bw({},Re(T,!0),{x:P,y:O,className:Le("recharts-text",S),textAnchor:m,fill:b.includes("url")?TP:b}),E.map(function(W,R){var B=W.words.join(v?"":" ");return U.createElement("tspan",{x:P,dy:R===0?j:s,key:"".concat(B,"-").concat(R)},B)}))};function _a(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j1(t){let e,n,r;t.length!==2?(e=_a,n=(s,l)=>_a(t(s),l),r=(s,l)=>t(s)-l):(e=t===_a||t===dre?t:hre,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function hre(){return 0}function mR(t){return t===null?NaN:+t}function*pre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mre=j1(_a),zf=mre.right;j1(mR).center;class AP extends Map{constructor(e,n=vre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(PP(this,e))}has(e){return super.has(PP(this,e))}set(e,n){return super.set(gre(this,e),n)}delete(e){return super.delete(yre(this,e))}}function PP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wre(t=_a){if(t===_a)return gR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bre=Math.sqrt(50),_re=Math.sqrt(10),xre=Math.sqrt(2);function Np(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=bre?10:a>=_re?5:a>=xre?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Np(t,e,n*2):[s,l,u]}function _w(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Np(e,t,n):Np(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function xw(t,e,n){return e=+e,t=+t,n=+n,Np(t,e,n)[2]}function Ew(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xw(e,t,n):xw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function IP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function OP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yR(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gR:wre(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+p)),g=Math.min(r,Math.floor(e+(l-u)*f/l+p));yR(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(bu(t,n,e),i(t[r],a)>0&&bu(t,n,r);o<s;){for(bu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?bu(t,n,s):(++s,bu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function bu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ere(t,e,n){if(t=Float64Array.from(pre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return OP(t);if(e>=1)return IP(t);var r,i=(r-1)*e,a=Math.floor(i),o=IP(yR(t,a).subarray(0,a+1)),s=OP(t.subarray(a+1));return o+(s-o)*(i-a)}}function Sre(t,e,n=mR){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Tre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function dr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Sw=Symbol("implicit");function D1(){var t=new AP,e=[],n=[],r=Sw;function i(a){let o=t.get(a);if(o===void 0){if(r!==Sw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new AP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return D1(e,n).unknown(r)},dr.apply(i,arguments),i}function Bc(){var t=D1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var p=e().length,m=i<r,g=m?i:r,w=m?r:i;a=(w-g)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),g+=(w-g-a*(p-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var x=Tre(p).map(function(b){return g+a*b});return n(m?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},t.copy=function(){return Bc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},dr.apply(f(),arguments)}function vR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vR(e())},t}function ac(){return vR(Bc.apply(null,arguments).paddingInner(1))}function R1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wf(){}var zc=.7,jp=1/zc,Ds="\\s*([+-]?\\d+)\\s*",Wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Are=/^#([0-9a-f]{3,8})$/,Pre=new RegExp(`^rgb\\(${Ds},${Ds},${Ds}\\)$`),Ire=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),Ore=new RegExp(`^rgba\\(${Ds},${Ds},${Ds},${Wc}\\)$`),Cre=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Wc}\\)$`),kre=new RegExp(`^hsl\\(${Wc},${Yr},${Yr}\\)$`),Nre=new RegExp(`^hsla\\(${Wc},${Yr},${Yr},${Wc}\\)$`),CP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R1(Wf,qc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kP,formatHex:kP,formatHex8:jre,formatHsl:Dre,formatRgb:NP,toString:NP});function kP(){return this.rgb().formatHex()}function jre(){return this.rgb().formatHex8()}function Dre(){return bR(this).formatHsl()}function NP(){return this.rgb().formatRgb()}function qc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Are.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jP(e):n===3?new On(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Pre.exec(t))?new On(e[1],e[2],e[3],1):(e=Ire.exec(t))?new On(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ore.exec(t))?Bd(e[1],e[2],e[3],e[4]):(e=Cre.exec(t))?Bd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kre.exec(t))?MP(e[1],e[2]/100,e[3]/100,1):(e=Nre.exec(t))?MP(e[1],e[2]/100,e[3]/100,e[4]):CP.hasOwnProperty(t)?jP(CP[t]):t==="transparent"?new On(NaN,NaN,NaN,0):null}function jP(t){return new On(t>>16&255,t>>8&255,t&255,1)}function Bd(t,e,n,r){return r<=0&&(t=e=n=NaN),new On(t,e,n,r)}function Rre(t){return t instanceof Wf||(t=qc(t)),t?(t=t.rgb(),new On(t.r,t.g,t.b,t.opacity)):new On}function Tw(t,e,n,r){return arguments.length===1?Rre(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}R1(On,Tw,wR(Wf,{brighter(t){return t=t==null?jp:Math.pow(jp,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zc:Math.pow(zc,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(ho(this.r),ho(this.g),ho(this.b),Dp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DP,formatHex:DP,formatHex8:Mre,formatRgb:RP,toString:RP}));function DP(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function Mre(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function RP(){const t=Dp(this.opacity);return`${t===1?"rgb(":"rgba("}${ho(this.r)}, ${ho(this.g)}, ${ho(this.b)}${t===1?")":`, ${t})`}`}function Dp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ho(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oo(t){return t=ho(t),(t<16?"0":"")+t.toString(16)}function MP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sr(t,e,n,r)}function bR(t){if(t instanceof Sr)return new Sr(t.h,t.s,t.l,t.opacity);if(t instanceof Wf||(t=qc(t)),!t)return new Sr;if(t instanceof Sr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Sr(o,s,l,t.opacity)}function $re(t,e,n,r){return arguments.length===1?bR(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}R1(Sr,$re,wR(Wf,{brighter(t){return t=t==null?jp:Math.pow(jp,t),new Sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zc:Math.pow(zc,t),new Sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new On(sv(t>=240?t-240:t+120,i,r),sv(t,i,r),sv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sr($P(this.h),zd(this.s),zd(this.l),Dp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dp(this.opacity);return`${t===1?"hsl(":"hsla("}${$P(this.h)}, ${zd(this.s)*100}%, ${zd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $P(t){return t=(t||0)%360,t<0?t+360:t}function zd(t){return Math.max(0,Math.min(1,t||0))}function sv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const M1=t=>()=>t;function Lre(t,e){return function(n){return t+n*e}}function Vre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Fre(t){return(t=+t)==1?_R:function(e,n){return n-e?Vre(e,n,t):M1(isNaN(e)?n:e)}}function _R(t,e){var n=e-t;return n?Lre(t,n):M1(isNaN(t)?e:t)}const LP=function t(e){var n=Fre(e);function r(i,a){var o=n((i=Tw(i)).r,(a=Tw(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=_R(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ure(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Bre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ql(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Wre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ql(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Aw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lv=new RegExp(Aw.source,"g");function Hre(t){return function(){return t}}function Gre(t){return function(e){return t(e)+""}}function Kre(t,e){var n=Aw.lastIndex=lv.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Aw.exec(t))&&(i=lv.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Rp(r,i)})),n=lv.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Gre(l[0].x):Hre(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function ql(t,e){var n=typeof e,r;return e==null||n==="boolean"?M1(e):(n==="number"?Rp:n==="string"?(r=qc(e))?(e=r,LP):Kre:e instanceof qc?LP:e instanceof Date?Wre:Bre(e)?Ure:Array.isArray(e)?zre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qre:Rp)(t,e)}function $1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Yre(t,e){e===void 0&&(e=t,t=ql);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Xre(t){return function(){return t}}function Mp(t){return+t}var VP=[0,1];function bn(t){return t}function Pw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Xre(isNaN(e)?NaN:.5)}function Qre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Jre(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Pw(i,r),a=n(o,a)):(r=Pw(r,i),a=n(a,o)),function(s){return a(r(s))}}function Zre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Pw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=zf(t,s,1,r)-1;return a[l](i[l](s))}}function qf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ag(){var t=VP,e=VP,n=ql,r,i,a,o=bn,s,l,u;function c(){var p=Math.min(t.length,e.length);return o!==bn&&(o=Qre(t[0],t[p-1])),s=p>2?Zre:Jre,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(r),e,n)))(r(o(p)))}return f.invert=function(p){return o(i((u||(u=s(e,t.map(r),Rp)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,Mp),c()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=$1,c()},f.clamp=function(p){return arguments.length?(o=p?!0:bn,c()):o!==bn},f.interpolate=function(p){return arguments.length?(n=p,c()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,m){return r=p,i=m,c()}}function L1(){return Ag()(bn,bn)}function eie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $p(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ol(t){return t=$p(Math.abs(t)),t?t[1]:NaN}function tie(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function nie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var rie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hc(t){if(!(e=rie.exec(t)))throw new Error("invalid format: "+t);var e;return new V1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hc.prototype=V1.prototype;function V1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}V1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xR;function aie(t,e){var n=$p(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(xR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$p(t,Math.max(0,e+a-1))[0]}function FP(t,e){var n=$p(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const UP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:eie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FP(t*100,e),r:FP,s:aie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BP(t){return t}var zP=Array.prototype.map,WP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oie(t){var e=t.grouping===void 0||t.thousands===void 0?BP:tie(zP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?BP:nie(zP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Hc(f);var p=f.fill,m=f.align,g=f.sign,w=f.symbol,x=f.zero,b=f.width,y=f.comma,E=f.precision,N=f.trim,A=f.type;A==="n"?(y=!0,A="g"):UP[A]||(E===void 0&&(E=12),N=!0,A="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var I=w==="$"?n:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",S=w==="$"?r:/[%p]/.test(A)?o:"",v=UP[A],T=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function P(O){var j=I,k=S,$,F,W;if(A==="c")k=v(O)+k,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?l:v(Math.abs(O),E),N&&(O=iie(O)),R&&+O==0&&g!=="+"&&(R=!1),j=(R?g==="("?g:s:g==="-"||g==="("?"":g)+j,k=(A==="s"?WP[8+xR/3]:"")+k+(R&&g==="("?")":""),T){for($=-1,F=O.length;++$<F;)if(W=O.charCodeAt($),48>W||W>57){k=(W===46?i+O.slice($+1):O.slice($))+k,O=O.slice(0,$);break}}}y&&!x&&(O=e(O,1/0));var B=j.length+O.length+k.length,M=B<b?new Array(b-B+1).join(p):"";switch(y&&x&&(O=e(M+O,M.length?b-k.length:1/0),M=""),m){case"<":O=j+O+k+M;break;case"=":O=j+M+O+k;break;case"^":O=M.slice(0,B=M.length>>1)+j+O+k+M.slice(B);break;default:O=M+j+O+k;break}return a(O)}return P.toString=function(){return f+""},P}function c(f,p){var m=u((f=Hc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(ol(p)/3)))*3,w=Math.pow(10,-g),x=WP[8+g/3];return function(b){return m(w*b)+x}}return{format:u,formatPrefix:c}}var Wd,F1,ER;sie({thousands:",",grouping:[3],currency:["$",""]});function sie(t){return Wd=oie(t),F1=Wd.format,ER=Wd.formatPrefix,Wd}function lie(t){return Math.max(0,-ol(Math.abs(t)))}function uie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ol(e)/3)))*3-ol(Math.abs(t)))}function cie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ol(e)-ol(t))+1}function SR(t,e,n,r){var i=Ew(t,e,n),a;switch(r=Hc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=uie(i,o))&&(r.precision=a),ER(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=cie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=lie(i))&&(r.precision=a-(r.type==="%")*2);break}}return F1(r)}function Va(t){var e=t.domain;return t.ticks=function(n){var r=e();return _w(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return SR(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=xw(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Lp(){var t=L1();return t.copy=function(){return qf(t,Lp())},dr.apply(t,arguments),Va(t)}function TR(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Mp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return TR(t).unknown(e)},t=arguments.length?Array.from(t,Mp):[0,1],Va(n)}function AR(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function qP(t){return Math.log(t)}function HP(t){return Math.exp(t)}function fie(t){return-Math.log(-t)}function die(t){return-Math.exp(-t)}function hie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pie(t){return t===10?hie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function mie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function GP(t){return(e,n)=>-t(-e,n)}function U1(t){const e=t(qP,HP),n=e.domain;let r=10,i,a;function o(){return i=mie(r),a=pie(r),n()[0]<0?(i=GP(i),a=GP(a),t(fie,die)):t(qP,HP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),m=i(c),g,w;const x=s==null?10:+s;let b=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<r;++g)if(w=p<0?g/a(-p):g*a(p),!(w<u)){if(w>c)break;b.push(w)}}else for(;p<=m;++p)for(g=r-1;g>=1;--g)if(w=p>0?g/a(-p):g*a(p),!(w<u)){if(w>c)break;b.push(w)}b.length*2<x&&(b=_w(u,c,x))}else b=_w(p,m,Math.min(m-p,x)).map(a);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Hc(l)).precision==null&&(l.trim=!0),l=F1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(AR(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function PR(){const t=U1(Ag()).domain([1,10]);return t.copy=()=>qf(t,PR()).base(t.base()),dr.apply(t,arguments),t}function KP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function B1(t){var e=1,n=t(KP(e),YP(e));return n.constant=function(r){return arguments.length?t(KP(e=+r),YP(e)):e},Va(n)}function IR(){var t=B1(Ag());return t.copy=function(){return qf(t,IR()).constant(t.constant())},dr.apply(t,arguments)}function XP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yie(t){return t<0?-t*t:t*t}function z1(t){var e=t(bn,bn),n=1;function r(){return n===1?t(bn,bn):n===.5?t(gie,yie):t(XP(n),XP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Va(e)}function W1(){var t=z1(Ag());return t.copy=function(){return qf(t,W1()).exponent(t.exponent())},dr.apply(t,arguments),t}function vie(){return W1.apply(null,arguments).exponent(.5)}function QP(t){return Math.sign(t)*t*t}function wie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OR(){var t=L1(),e=[0,1],n=!1,r;function i(a){var o=wie(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(QP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Mp)).map(QP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return OR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},dr.apply(i,arguments),Va(i)}function CR(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Sre(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[zf(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(_a),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return CR().domain(t).range(e).unknown(r)},dr.apply(a,arguments)}function kR(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[zf(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return kR().domain([t,e]).range(i).unknown(a)},dr.apply(Va(o),arguments)}function NR(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[zf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return NR().domain(t).range(e).unknown(n)},dr.apply(i,arguments)}const uv=new Date,cv=new Date;function Vt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Vt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(uv.setTime(+a),cv.setTime(+o),t(uv),t(cv),Math.floor(n(uv,cv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Vp=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Vp);Vp.range;const fi=1e3,ir=fi*60,di=ir*60,Ci=di*24,q1=Ci*7,JP=Ci*30,fv=Ci*365,so=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCSeconds());so.range;const H1=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi)},(t,e)=>{t.setTime(+t+e*ir)},(t,e)=>(e-t)/ir,t=>t.getMinutes());H1.range;const G1=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ir)},(t,e)=>(e-t)/ir,t=>t.getUTCMinutes());G1.range;const K1=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi-t.getMinutes()*ir)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getHours());K1.range;const Y1=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCHours());Y1.range;const Hf=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ir)/Ci,t=>t.getDate()-1);Hf.range;const Pg=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ci,t=>t.getUTCDate()-1);Pg.range;const jR=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ci,t=>Math.floor(t/Ci));jR.range;function Fo(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ir)/q1)}const Ig=Fo(0),Fp=Fo(1),bie=Fo(2),_ie=Fo(3),sl=Fo(4),xie=Fo(5),Eie=Fo(6);Ig.range;Fp.range;bie.range;_ie.range;sl.range;xie.range;Eie.range;function Uo(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/q1)}const Og=Uo(0),Up=Uo(1),Sie=Uo(2),Tie=Uo(3),ll=Uo(4),Aie=Uo(5),Pie=Uo(6);Og.range;Up.range;Sie.range;Tie.range;ll.range;Aie.range;Pie.range;const X1=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());X1.range;const Q1=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Q1.range;const ki=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ki.range;const Ni=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ni.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ni.range;function DR(t,e,n,r,i,a){const o=[[so,1,fi],[so,5,5*fi],[so,15,15*fi],[so,30,30*fi],[a,1,ir],[a,5,5*ir],[a,15,15*ir],[a,30,30*ir],[i,1,di],[i,3,3*di],[i,6,6*di],[i,12,12*di],[r,1,Ci],[r,2,2*Ci],[n,1,q1],[e,1,JP],[e,3,3*JP],[t,1,fv]];function s(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,f){const p=Math.abs(c-u)/f,m=j1(([,,x])=>x).right(o,p);if(m===o.length)return t.every(Ew(u/fv,c/fv,f));if(m===0)return Vp.every(Math.max(Ew(u,c,f),1));const[g,w]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return g.every(w)}return[s,l]}const[Iie,Oie]=DR(Ni,Q1,Og,jR,Y1,G1),[Cie,kie]=DR(ki,X1,Ig,Hf,K1,H1);function dv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _u(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Nie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=xu(i),c=Eu(i),f=xu(a),p=Eu(a),m=xu(o),g=Eu(o),w=xu(s),x=Eu(s),b=xu(l),y=Eu(l),E={a:R,A:B,b:M,B:X,c:null,d:iI,e:iI,f:tae,g:fae,G:hae,H:Jie,I:Zie,j:eae,L:RR,m:nae,M:rae,p:q,q:V,Q:sI,s:lI,S:iae,u:aae,U:oae,V:sae,w:lae,W:uae,x:null,X:null,y:cae,Y:dae,Z:pae,"%":oI},N={a:H,A:pe,b:ve,B:Ve,c:null,d:aI,e:aI,f:vae,g:Iae,G:Cae,H:mae,I:gae,j:yae,L:$R,m:wae,M:bae,p:Be,q:ie,Q:sI,s:lI,S:_ae,u:xae,U:Eae,V:Sae,w:Tae,W:Aae,x:null,X:null,y:Pae,Y:Oae,Z:kae,"%":oI},A={a:P,A:O,b:j,B:k,c:$,d:nI,e:nI,f:Kie,g:tI,G:eI,H:rI,I:rI,j:Wie,L:Gie,m:zie,M:qie,p:T,q:Bie,Q:Xie,s:Qie,S:Hie,u:$ie,U:Lie,V:Vie,w:Mie,W:Fie,x:F,X:W,y:tI,Y:eI,Z:Uie,"%":Yie};E.x=I(n,E),E.X=I(r,E),E.c=I(e,E),N.x=I(n,N),N.X=I(r,N),N.c=I(e,N);function I(J,se){return function(ge){var te=[],Pe=-1,xe=0,ze=J.length,Je,Tt,Dn;for(ge instanceof Date||(ge=new Date(+ge));++Pe<ze;)J.charCodeAt(Pe)===37&&(te.push(J.slice(xe,Pe)),(Tt=ZP[Je=J.charAt(++Pe)])!=null?Je=J.charAt(++Pe):Tt=Je==="e"?" ":"0",(Dn=se[Je])&&(Je=Dn(ge,Tt)),te.push(Je),xe=Pe+1);return te.push(J.slice(xe,Pe)),te.join("")}}function S(J,se){return function(ge){var te=_u(1900,void 0,1),Pe=v(te,J,ge+="",0),xe,ze;if(Pe!=ge.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(se&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(xe=hv(_u(te.y,0,1)),ze=xe.getUTCDay(),xe=ze>4||ze===0?Up.ceil(xe):Up(xe),xe=Pg.offset(xe,(te.V-1)*7),te.y=xe.getUTCFullYear(),te.m=xe.getUTCMonth(),te.d=xe.getUTCDate()+(te.w+6)%7):(xe=dv(_u(te.y,0,1)),ze=xe.getDay(),xe=ze>4||ze===0?Fp.ceil(xe):Fp(xe),xe=Hf.offset(xe,(te.V-1)*7),te.y=xe.getFullYear(),te.m=xe.getMonth(),te.d=xe.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),ze="Z"in te?hv(_u(te.y,0,1)).getUTCDay():dv(_u(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(ze+5)%7:te.w+te.U*7-(ze+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,hv(te)):dv(te)}}function v(J,se,ge,te){for(var Pe=0,xe=se.length,ze=ge.length,Je,Tt;Pe<xe;){if(te>=ze)return-1;if(Je=se.charCodeAt(Pe++),Je===37){if(Je=se.charAt(Pe++),Tt=A[Je in ZP?se.charAt(Pe++):Je],!Tt||(te=Tt(J,ge,te))<0)return-1}else if(Je!=ge.charCodeAt(te++))return-1}return te}function T(J,se,ge){var te=u.exec(se.slice(ge));return te?(J.p=c.get(te[0].toLowerCase()),ge+te[0].length):-1}function P(J,se,ge){var te=m.exec(se.slice(ge));return te?(J.w=g.get(te[0].toLowerCase()),ge+te[0].length):-1}function O(J,se,ge){var te=f.exec(se.slice(ge));return te?(J.w=p.get(te[0].toLowerCase()),ge+te[0].length):-1}function j(J,se,ge){var te=b.exec(se.slice(ge));return te?(J.m=y.get(te[0].toLowerCase()),ge+te[0].length):-1}function k(J,se,ge){var te=w.exec(se.slice(ge));return te?(J.m=x.get(te[0].toLowerCase()),ge+te[0].length):-1}function $(J,se,ge){return v(J,e,se,ge)}function F(J,se,ge){return v(J,n,se,ge)}function W(J,se,ge){return v(J,r,se,ge)}function R(J){return o[J.getDay()]}function B(J){return a[J.getDay()]}function M(J){return l[J.getMonth()]}function X(J){return s[J.getMonth()]}function q(J){return i[+(J.getHours()>=12)]}function V(J){return 1+~~(J.getMonth()/3)}function H(J){return o[J.getUTCDay()]}function pe(J){return a[J.getUTCDay()]}function ve(J){return l[J.getUTCMonth()]}function Ve(J){return s[J.getUTCMonth()]}function Be(J){return i[+(J.getUTCHours()>=12)]}function ie(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var se=I(J+="",E);return se.toString=function(){return J},se},parse:function(J){var se=S(J+="",!1);return se.toString=function(){return J},se},utcFormat:function(J){var se=I(J+="",N);return se.toString=function(){return J},se},utcParse:function(J){var se=S(J+="",!0);return se.toString=function(){return J},se}}}var ZP={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,jie=/^%/,Die=/[\\^$*+?|[\]().{}]/g;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Rie(t){return t.replace(Die,"\\$&")}function xu(t){return new RegExp("^(?:"+t.map(Rie).join("|")+")","i")}function Eu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Mie(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $ie(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Lie(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Vie(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Fie(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eI(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tI(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Uie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bie(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function zie(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nI(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Wie(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rI(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qie(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Hie(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Gie(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Kie(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yie(t,e,n){var r=jie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Xie(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Qie(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iI(t,e){return Ue(t.getDate(),e,2)}function Jie(t,e){return Ue(t.getHours(),e,2)}function Zie(t,e){return Ue(t.getHours()%12||12,e,2)}function eae(t,e){return Ue(1+Hf.count(ki(t),t),e,3)}function RR(t,e){return Ue(t.getMilliseconds(),e,3)}function tae(t,e){return RR(t,e)+"000"}function nae(t,e){return Ue(t.getMonth()+1,e,2)}function rae(t,e){return Ue(t.getMinutes(),e,2)}function iae(t,e){return Ue(t.getSeconds(),e,2)}function aae(t){var e=t.getDay();return e===0?7:e}function oae(t,e){return Ue(Ig.count(ki(t)-1,t),e,2)}function MR(t){var e=t.getDay();return e>=4||e===0?sl(t):sl.ceil(t)}function sae(t,e){return t=MR(t),Ue(sl.count(ki(t),t)+(ki(t).getDay()===4),e,2)}function lae(t){return t.getDay()}function uae(t,e){return Ue(Fp.count(ki(t)-1,t),e,2)}function cae(t,e){return Ue(t.getFullYear()%100,e,2)}function fae(t,e){return t=MR(t),Ue(t.getFullYear()%100,e,2)}function dae(t,e){return Ue(t.getFullYear()%1e4,e,4)}function hae(t,e){var n=t.getDay();return t=n>=4||n===0?sl(t):sl.ceil(t),Ue(t.getFullYear()%1e4,e,4)}function pae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ue(e/60|0,"0",2)+Ue(e%60,"0",2)}function aI(t,e){return Ue(t.getUTCDate(),e,2)}function mae(t,e){return Ue(t.getUTCHours(),e,2)}function gae(t,e){return Ue(t.getUTCHours()%12||12,e,2)}function yae(t,e){return Ue(1+Pg.count(Ni(t),t),e,3)}function $R(t,e){return Ue(t.getUTCMilliseconds(),e,3)}function vae(t,e){return $R(t,e)+"000"}function wae(t,e){return Ue(t.getUTCMonth()+1,e,2)}function bae(t,e){return Ue(t.getUTCMinutes(),e,2)}function _ae(t,e){return Ue(t.getUTCSeconds(),e,2)}function xae(t){var e=t.getUTCDay();return e===0?7:e}function Eae(t,e){return Ue(Og.count(Ni(t)-1,t),e,2)}function LR(t){var e=t.getUTCDay();return e>=4||e===0?ll(t):ll.ceil(t)}function Sae(t,e){return t=LR(t),Ue(ll.count(Ni(t),t)+(Ni(t).getUTCDay()===4),e,2)}function Tae(t){return t.getUTCDay()}function Aae(t,e){return Ue(Up.count(Ni(t)-1,t),e,2)}function Pae(t,e){return Ue(t.getUTCFullYear()%100,e,2)}function Iae(t,e){return t=LR(t),Ue(t.getUTCFullYear()%100,e,2)}function Oae(t,e){return Ue(t.getUTCFullYear()%1e4,e,4)}function Cae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ll(t):ll.ceil(t),Ue(t.getUTCFullYear()%1e4,e,4)}function kae(){return"+0000"}function oI(){return"%"}function sI(t){return+t}function lI(t){return Math.floor(+t/1e3)}var Qo,VR,FR;Nae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nae(t){return Qo=Nie(t),VR=Qo.format,Qo.parse,FR=Qo.utcFormat,Qo.utcParse,Qo}function jae(t){return new Date(t)}function Dae(t){return t instanceof Date?+t:+new Date(+t)}function J1(t,e,n,r,i,a,o,s,l,u){var c=L1(),f=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),w=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),E=u("%B"),N=u("%Y");function A(I){return(l(I)<I?m:s(I)<I?g:o(I)<I?w:a(I)<I?x:r(I)<I?i(I)<I?b:y:n(I)<I?E:N)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?p(Array.from(I,Dae)):p().map(jae)},c.ticks=function(I){var S=p();return t(S[0],S[S.length-1],I??10)},c.tickFormat=function(I,S){return S==null?A:u(S)},c.nice=function(I){var S=p();return(!I||typeof I.range!="function")&&(I=e(S[0],S[S.length-1],I??10)),I?p(AR(S,I)):c},c.copy=function(){return qf(c,J1(t,e,n,r,i,a,o,s,l,u))},c}function Rae(){return dr.apply(J1(Cie,kie,ki,X1,Ig,Hf,K1,H1,so,VR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mae(){return dr.apply(J1(Iie,Oie,Ni,Q1,Og,Pg,Y1,G1,so,FR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cg(){var t=0,e=1,n,r,i,a,o=bn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(p){var m,g;return arguments.length?([m,g]=p,o=f(m,g),u):[o(0),o(1)]}}return u.range=c(ql),u.rangeRound=c($1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Fa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UR(){var t=Va(Cg()(bn));return t.copy=function(){return Fa(t,UR())},Fi.apply(t,arguments)}function BR(){var t=U1(Cg()).domain([1,10]);return t.copy=function(){return Fa(t,BR()).base(t.base())},Fi.apply(t,arguments)}function zR(){var t=B1(Cg());return t.copy=function(){return Fa(t,zR()).constant(t.constant())},Fi.apply(t,arguments)}function Z1(){var t=z1(Cg());return t.copy=function(){return Fa(t,Z1()).exponent(t.exponent())},Fi.apply(t,arguments)}function $ae(){return Z1.apply(null,arguments).exponent(.5)}function WR(){var t=[],e=bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((zf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_a),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Ere(t,a/r))},n.copy=function(){return WR(e).domain(t)},Fi.apply(n,arguments)}function kg(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=bn,c,f=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+c(w))-a)*(r*w<r*a?s:l),u(f?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(f=!!w,m):f},m.interpolator=function(w){return arguments.length?(u=w,m):u};function g(w){return function(x){var b,y,E;return arguments.length?([b,y,E]=x,u=Yre(w,[b,y,E]),m):[u(0),u(.5),u(1)]}}return m.range=g(ql),m.rangeRound=g($1),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return c=w,i=w(t),a=w(e),o=w(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function qR(){var t=Va(kg()(bn));return t.copy=function(){return Fa(t,qR())},Fi.apply(t,arguments)}function HR(){var t=U1(kg()).domain([.1,1,10]);return t.copy=function(){return Fa(t,HR()).base(t.base())},Fi.apply(t,arguments)}function GR(){var t=B1(kg());return t.copy=function(){return Fa(t,GR()).constant(t.constant())},Fi.apply(t,arguments)}function ex(){var t=z1(kg());return t.copy=function(){return Fa(t,ex()).exponent(t.exponent())},Fi.apply(t,arguments)}function Lae(){return ex.apply(null,arguments).exponent(.5)}const uI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bc,scaleDiverging:qR,scaleDivergingLog:HR,scaleDivergingPow:ex,scaleDivergingSqrt:Lae,scaleDivergingSymlog:GR,scaleIdentity:TR,scaleImplicit:Sw,scaleLinear:Lp,scaleLog:PR,scaleOrdinal:D1,scalePoint:ac,scalePow:W1,scaleQuantile:CR,scaleQuantize:kR,scaleRadial:OR,scaleSequential:UR,scaleSequentialLog:BR,scaleSequentialPow:Z1,scaleSequentialQuantile:WR,scaleSequentialSqrt:$ae,scaleSequentialSymlog:zR,scaleSqrt:vie,scaleSymlog:IR,scaleThreshold:NR,scaleTime:Rae,scaleUtc:Mae,tickFormat:SR},Symbol.toStringTag,{value:"Module"}));var Vae=Ml;function Fae(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Vae(o):n(o,s)))var s=o,l=a}return l}var KR=Fae;function Uae(t,e){return t>e}var Bae=Uae,zae=KR,Wae=Bae,qae=zl;function Hae(t){return t&&t.length?zae(t,qae,Wae):void 0}var Gae=Hae;const Ng=tt(Gae);function Kae(t,e){return t<e}var Yae=Kae,Xae=KR,Qae=Yae,Jae=zl;function Zae(t){return t&&t.length?Xae(t,Jae,Qae):void 0}var eoe=Zae;const jg=tt(eoe);var toe=h1,noe=La,roe=rR,ioe=jn;function aoe(t,e){var n=ioe(t)?toe:roe;return n(t,noe(e))}var ooe=aoe,soe=tR,loe=ooe;function uoe(t,e){return soe(loe(t,e),1)}var coe=uoe;const foe=tt(coe);var doe=I1;function hoe(t,e){return doe(t,e)}var poe=hoe;const Dg=tt(poe);var Hl=1e9,moe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nx,dt=!0,cr="[DecimalError] ",po=cr+"Invalid argument: ",tx=cr+"Exponent out of range: ",Gl=Math.floor,eo=Math.pow,goe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Un,Ut=1e7,ut=7,YR=9007199254740991,Bp=Gl(YR/ut),he={};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};he.comparedTo=he.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};he.decimalPlaces=he.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(t){return bi(this,new this.constructor(t))};he.dividedToIntegerBy=he.idiv=function(t){var e=this,n=e.constructor;return et(bi(e,new n(t),0,1),n.precision)};he.equals=he.eq=function(t){return!this.cmp(t)};he.exponent=function(){return kt(this)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){return this.cmp(t)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Un))throw Error(cr+"NaN");if(n.s<1)throw Error(cr+(n.s?"NaN":"-Infinity"));return n.eq(Un)?new r(0):(dt=!1,e=bi(Gc(n,a),Gc(t,a),a),dt=!0,et(e,i))};he.minus=he.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JR(e,t):XR(e,(t.s=-t.s,t))};he.modulo=he.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(cr+"NaN");return n.s?(dt=!1,e=bi(n,t,0,1).times(t),dt=!0,n.minus(e)):et(new r(n),i)};he.naturalExponential=he.exp=function(){return QR(this)};he.naturalLogarithm=he.ln=function(){return Gc(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};he.plus=he.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XR(e,t):JR(e,(t.s=-t.s,t))};he.precision=he.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(po+t);if(e=kt(i)+1,r=i.d.length-1,n=r*ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};he.squareRoot=he.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(cr+"NaN")}for(t=kt(s),dt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Br(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Gl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(bi(s,a,o+2)).times(.5),Br(a.d).slice(0,o)===(e=Br(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(et(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return dt=!0,et(r,n)};he.times=he.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,p=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*p[i-r-1]+e,a[i--]=s%Ut|0,e=s/Ut|0;a[i]=(a[i]+e)%Ut|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,dt?et(t,f.precision):t};he.toDecimalPlaces=he.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Jr(t,0,Hl),e===void 0?e=r.rounding:Jr(e,0,8),et(n,t+kt(n)+1,e))};he.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=No(r,!0):(Jr(t,0,Hl),e===void 0?e=i.rounding:Jr(e,0,8),r=et(new i(r),t+1,e),n=No(r,!0,t+1)),n};he.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?No(i):(Jr(t,0,Hl),e===void 0?e=a.rounding:Jr(e,0,8),r=et(new a(i),t+kt(i)+1,e),n=No(r.abs(),!1,t+kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var t=this,e=t.constructor;return et(new e(t),kt(t)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Un);if(s=new l(s),!s.s){if(t.s<1)throw Error(cr+"Infinity");return s}if(s.eq(Un))return s;if(r=l.precision,t.eq(Un))return et(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=YR){for(i=new l(Un),e=Math.ceil(r/ut+4),dt=!1;n%2&&(i=i.times(s),fI(i.d,e)),n=Gl(n/2),n!==0;)s=s.times(s),fI(s.d,e);return dt=!0,t.s<0?new l(Un).div(i):et(i,r)}}else if(a<0)throw Error(cr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,dt=!1,i=t.times(Gc(s,r+u)),dt=!0,i=QR(i),i.s=a,i};he.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=kt(i),r=No(i,n<=a.toExpNeg||n>=a.toExpPos)):(Jr(t,1,Hl),e===void 0?e=a.rounding:Jr(e,0,8),i=et(new a(i),t,e),n=kt(i),r=No(i,t<=n||n<=a.toExpNeg,t)),r};he.toSignificantDigits=he.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Jr(t,1,Hl),e===void 0?e=r.rounding:Jr(e,0,8)),et(new r(n),t,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kt(t),n=t.constructor;return No(t,e<=n.toExpNeg||e>=n.toExpPos)};function XR(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),dt?et(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/ut),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Ut|0,l[a]%=Ut;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,dt?et(e,f):e}function Jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(po+t)}function Br(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=ut-r.length,n&&(a+=Yi(n)),a+=r;o=t[e],r=o+"",n=ut-r.length,n&&(a+=Yi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var bi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Ut|0,o=a/Ut|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ut+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,p,m,g,w,x,b,y,E,N,A,I,S,v,T=r.constructor,P=r.s==i.s?1:-1,O=r.d,j=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(cr+"Division by zero");for(l=r.e-i.e,S=j.length,A=O.length,m=new T(P),g=m.d=[],u=0;j[u]==(O[u]||0);)++u;if(j[u]>(O[u]||0)&&--l,a==null?y=a=T.precision:o?y=a+(kt(r)-kt(i))+1:y=a,y<0)return new T(0);if(y=y/ut+2|0,u=0,S==1)for(c=0,j=j[0],y++;(u<A||c)&&y--;u++)E=c*Ut+(O[u]||0),g[u]=E/j|0,c=E%j|0;else{for(c=Ut/(j[0]+1)|0,c>1&&(j=t(j,c),O=t(O,c),S=j.length,A=O.length),N=S,w=O.slice(0,S),x=w.length;x<S;)w[x++]=0;v=j.slice(),v.unshift(0),I=j[0],j[1]>=Ut/2&&++I;do c=0,s=e(j,w,S,x),s<0?(b=w[0],S!=x&&(b=b*Ut+(w[1]||0)),c=b/I|0,c>1?(c>=Ut&&(c=Ut-1),f=t(j,c),p=f.length,x=w.length,s=e(f,w,p,x),s==1&&(c--,n(f,S<p?v:j,p))):(c==0&&(s=c=1),f=j.slice()),p=f.length,p<x&&f.unshift(0),n(w,f,x),s==-1&&(x=w.length,s=e(j,w,S,x),s<1&&(c++,n(w,S<x?v:j,x))),x=w.length):s===0&&(c++,w=[0]),g[u++]=c,s&&w[0]?w[x++]=O[N]||0:(w=[O[N]],x=1);while((N++<A||w[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=l,et(m,o?a+kt(m)+1:a)}}();function QR(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(kt(t)>16)throw Error(tx+kt(t));if(!t.s)return new c(Un);for(dt=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(eo(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Un),c.precision=s;;){if(i=et(i.times(t),s),n=n.times(++l),o=a.plus(bi(i,n,s)),Br(o.d).slice(0,s)===Br(a.d).slice(0,s)){for(;u--;)a=et(a.times(a),s);return c.precision=f,e==null?(dt=!0,et(a,f)):a}a=o}}function kt(t){for(var e=t.e*ut,n=t.d[0];n>=10;n/=10)e++;return e}function pv(t,e,n){if(e>t.LN10.sd())throw dt=!0,n&&(t.precision=n),Error(cr+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function Yi(t){for(var e="";t--;)e+="0";return e}function Gc(t,e){var n,r,i,a,o,s,l,u,c,f=1,p=10,m=t,g=m.d,w=m.constructor,x=w.precision;if(m.s<1)throw Error(cr+(m.s?"NaN":"-Infinity"));if(m.eq(Un))return new w(0);if(e==null?(dt=!1,u=x):u=e,m.eq(10))return e==null&&(dt=!0),pv(w,u);if(u+=p,w.precision=u,n=Br(g),r=n.charAt(0),a=kt(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Br(m.d),r=n.charAt(0),f++;a=kt(m),r>1?(m=new w("0."+n),a++):m=new w(r+"."+n.slice(1))}else return l=pv(w,u+2,x).times(a+""),m=Gc(new w(r+"."+n.slice(1)),u-p).plus(l),w.precision=x,e==null?(dt=!0,et(m,x)):m;for(s=o=m=bi(m.minus(Un),m.plus(Un),u),c=et(m.times(m),u),i=3;;){if(o=et(o.times(c),u),l=s.plus(bi(o,new w(i),u)),Br(l.d).slice(0,u)===Br(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(pv(w,u+2,x).times(a+""))),s=bi(s,new w(f),u),w.precision=x,e==null?(dt=!0,et(s,x)):s;s=l,i+=2}}function cI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Gl(n/ut),t.d=[],r=(n+1)%ut,n<0&&(r+=ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ut;r<i;)t.d.push(+e.slice(r,r+=ut));e=e.slice(r),r=ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dt&&(t.e>Bp||t.e<-Bp))throw Error(tx+n)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=ut,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/ut),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=ut,i=r-ut+o}if(n!==void 0&&(a=eo(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/eo(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=kt(t),f.length=1,e=e-a-1,f[0]=eo(10,(ut-e%ut)%ut),t.e=Gl(-e/ut)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=eo(10,ut-r),f[c]=i>0?(u/eo(10,o-i)%eo(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Ut&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Ut)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(dt&&(t.e>Bp||t.e<-Bp))throw Error(tx+kt(t));return t}function JR(t,e){var n,r,i,a,o,s,l,u,c,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),dt?et(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/ut),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ut-1;--l[a],l[i]+=Ut}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,dt?et(e,m):e):new p(0)}function No(t,e,n){var r,i=kt(t),a=Br(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Yi(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Yi(-i-1)+a,n&&(r=n-o)>0&&(a+=Yi(r))):i>=o?(a+=Yi(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Yi(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Yi(r))),t.s<0?"-"+a:a}function fI(t,e){if(t.length>e)return t.length=e,!0}function ZR(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(po+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return cI(o,a.toString())}else if(typeof a!="string")throw Error(po+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,goe.test(a))cI(o,a);else throw Error(po+a)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZR,i.config=i.set=yoe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function yoe(t){if(!t||typeof t!="object")throw Error(cr+"Object expected");var e,n,r,i=["precision",1,Hl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Gl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(po+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(po+n+": "+r);return this}var nx=ZR(moe);Un=new nx(1);const Xe=nx;function voe(t){return xoe(t)||_oe(t)||boe(t)||woe()}function woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function _oe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xoe(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Eoe=function(e){return e},eM={},tM=function(e){return e===eM},dI=function(e){return function n(){return arguments.length===0||arguments.length===1&&tM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Soe=function t(e,n){return e===1?n:dI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==eM}).length;return o>=e?n.apply(void 0,i):t(e-o,dI(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return tM(f)?l.shift():f});return n.apply(void 0,voe(c).concat(l))}))})},Rg=function(e){return Soe(e.length,e)},Ow=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Toe=Rg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Aoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Eoe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Cw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Poe(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function Ioe(t,e,n){for(var r=new Xe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Ooe=Rg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Coe=Rg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),koe=Rg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Mg={rangeStep:Ioe,getDigitCount:Poe,interpolateNumber:Ooe,uninterpolateNumber:Coe,uninterpolateTruncation:koe};function kw(t){return Doe(t)||joe(t)||rM(t)||Noe()}function Noe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Doe(t){if(Array.isArray(t))return Nw(t)}function Kc(t,e){return $oe(t)||Moe(t,e)||rM(t,e)||Roe()}function Roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rM(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Moe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function $oe(t){if(Array.isArray(t))return t}function iM(t){var e=Kc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function aM(t,e,n){if(t.lte(0))return new Xe(0);var r=Mg.getDigitCount(t.toNumber()),i=new Xe(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Xe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Xe(Math.ceil(l))}function Loe(t,e,n){var r=1,i=new Xe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Xe(10).pow(Mg.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):n||(i=new Xe(Math.floor(t)));var o=Math.floor((e-1)/2),s=Aoe(Toe(function(l){return i.add(new Xe(l-o).mul(r)).toNumber()}),Ow);return s(0,e)}function oM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=aM(new Xe(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Xe(0):(o=new Xe(t).add(e).div(2),o=o.sub(new Xe(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Xe(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?oM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Xe(s).mul(a)),tickMax:o.add(new Xe(l).mul(a))})}function Voe(t){var e=Kc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=iM([n,r]),l=Kc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(kw(Ow(0,i-1).map(function(){return 1/0}))):[].concat(kw(Ow(0,i-1).map(function(){return-1/0})),[c]);return n>r?Cw(f):f}if(u===c)return Loe(u,i,a);var p=oM(u,c,o,a),m=p.step,g=p.tickMin,w=p.tickMax,x=Mg.rangeStep(g,w.add(new Xe(.1).mul(m)),m);return n>r?Cw(x):x}function Foe(t,e){var n=Kc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=iM([r,i]),s=Kc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=aM(new Xe(u).sub(l).div(c-1),a,0),p=[].concat(kw(Mg.rangeStep(new Xe(l),new Xe(u).sub(new Xe(.99).mul(f)),f)),[u]);return r>i?Cw(p):p}var Uoe=nM(Voe),Boe=nM(Foe),zoe="Invariant failed";function jo(t,e){throw new Error(zoe)}var Woe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function qoe(t,e){return Yoe(t)||Koe(t,e)||Goe(t,e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Goe(t,e){if(t){if(typeof t=="string")return hI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hI(t,e)}}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Koe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yoe(t){if(Array.isArray(t))return t}function Xoe(t,e){if(t==null)return{};var n=Qoe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function ese(t,e,n){return e&&Zoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tse(t,e,n){return e=Wp(e),nse(t,sM()?Reflect.construct(e,n||[],Wp(t).constructor):e.apply(t,n))}function nse(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rse(t)}function rse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sM=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wp(t)}function ise(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function lM(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=ase(t,"string");return ul(e)=="symbol"?e:e+""}function ase(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gf=function(t){function e(){return Joe(this,e),tse(this,e,arguments)}return ise(e,t),ese(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,p=Xoe(r,Woe),m=Re(p,!1);this.props.direction==="x"&&c.type!=="number"&&jo();var g=l.map(function(w){var x=u(w,s),b=x.x,y=x.y,E=x.value,N=x.errorVal;if(!N)return null;var A=[],I,S;if(Array.isArray(N)){var v=qoe(N,2);I=v[0],S=v[1]}else I=S=N;if(a==="vertical"){var T=c.scale,P=y+i,O=P+o,j=P-o,k=T(E-I),$=T(E+S);A.push({x1:$,y1:O,x2:$,y2:j}),A.push({x1:k,y1:P,x2:$,y2:P}),A.push({x1:k,y1:O,x2:k,y2:j})}else if(a==="horizontal"){var F=f.scale,W=b+i,R=W-o,B=W+o,M=F(E-I),X=F(E+S);A.push({x1:R,y1:X,x2:B,y2:X}),A.push({x1:W,y1:M,x2:W,y2:X}),A.push({x1:R,y1:M,x2:B,y2:M})}return U.createElement(St,zp({className:"recharts-errorBar",key:"bar-".concat(A.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},m),A.map(function(q){return U.createElement("line",zp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return U.createElement(St,{className:"recharts-errorBars"},g)}}])}(U.Component);lM(Gf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lM(Gf,"displayName","ErrorBar");function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ose(t,e,n){return e=sse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sse(t){var e=lse(t,"string");return Yc(e)=="symbol"?e:e+""}function lse(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Vn(n,fo);if(!o)return null;var s=fo.defaultProps,l=s!==void 0?Ha(Ha({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var p=f.item,m=f.props,g=m.sectors||m.data||[];return c.concat(g.map(function(w){return{type:o.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var f=c.item,p=f.type.defaultProps,m=p!==void 0?Ha(Ha({},p),f.props):{},g=m.dataKey,w=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:l.iconType||x||"square",color:rx(f),value:w||g,payload:m}}),Ha(Ha(Ha({},l),fo.getWithHeight(o,i)),{},{payload:u,item:o})};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function mI(t){return dse(t)||fse(t)||cse(t)||use()}function use(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cse(t,e){if(t){if(typeof t=="string")return Dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dw(t,e)}}function fse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dse(t){if(Array.isArray(t))return Dw(t)}function Dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Rs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rs(t,e,n){return e=hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=pse(t,"string");return Xc(e)=="symbol"?e:e+""}function pse(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gn(t,e,n){return Ce(t)||Ce(e)?n:$t(e)?or(t,e,n):Oe(e)?e(t):n}function oc(t,e,n,r){var i=foe(t,function(s){return Gn(s,e)});if(n==="number"){var a=i.filter(function(s){return oe(s)||parseFloat(s)});return a.length?[jg(a),Ng(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Ce(s)}):i;return o.map(function(s){return $t(s)||s instanceof Date?s:""})}var mse=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Ar(f-c)!==Ar(p-f)){var g=[];if(Ar(p-f)===Ar(l[1]-l[0])){m=p;var w=f+l[1]-l[0];g[0]=Math.min(w,(w+c)/2),g[1]=Math.max(w,(w+c)/2)}else{m=c;var x=p+l[1]-l[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var y=Math.min(c,p),E=Math.max(c,p);if(e>(y+f)/2&&e<=(E+f)/2){o=i[u].index;break}}}else for(var N=0;N<s;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<s-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===s-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},rx=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},gse=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),p=0,m=f.length;p<m;p++){var g=c[f[p]],w=g.items,x=g.cateAxisId,b=w.filter(function(S){return vi(S.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,E=y!==void 0?wt(wt({},y),b[0].props):b[0].props,N=E.barSize,A=E[x];o[A]||(o[A]=[]);var I=Ce(N)?n:N;o[A].push({item:b[0],stackList:b.slice(1),barSize:Ce(I)?void 0:ko(I,r,0)})}}return o},yse=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ko(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=i/l,g=o.reduce(function(N,A){return N+A.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(p=!0,m*=.9,g=l*m);var w=(i-g)/2>>0,x={offset:w-u,size:0};c=o.reduce(function(N,A){var I={item:A.item,position:{offset:x.offset+x.size+u,size:p?m:A.barSize}},S=[].concat(mI(N),[I]);return x=S[S.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(v){S.push({item:v,position:x})}),S},f)}else{var b=ko(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var y=(i-2*b-(l-1)*u)/l;y>1&&(y>>=0);var E=s===+s?Math.min(y,s):y;c=o.reduce(function(N,A,I){var S=[].concat(mI(N),[{item:A.item,position:{offset:b+(y+u)*I+(y-E)/2,size:E}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(v){S.push({item:v,position:S[S.length-1].position})}),S},f)}return c},vse=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=cM({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,p=c.height,m=u.align,g=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&g==="middle")&&m!=="center"&&oe(e[m]))return wt(wt({},e),{},Rs({},m,e[m]+(f||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&g!=="middle"&&oe(e[g]))return wt(wt({},e),{},Rs({},g,e[g]+(p||0)))}return e},wse=function(e,n,r){return Ce(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},fM=function(e,n,r,i,a){var o=n.props.children,s=sr(o,Gf).filter(function(u){return wse(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Gn(c,r);if(Ce(f))return u;var p=Array.isArray(f)?[jg(f),Ng(f)]:[f,f],m=l.reduce(function(g,w){var x=Gn(c,w,0),b=p[0]-Math.abs(Array.isArray(x)?x[0]:x),y=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},bse=function(e,n,r,i,a){var o=n.map(function(s){return fM(e,s,r,a,i)}).filter(function(s){return!Ce(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},dM=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&fM(e,l,u,i)||oc(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},hM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},pM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},hi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ar(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return c.filter(function(f){return!Ff(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:a?a[f]:f,index:p,offset:u}})},mv=new WeakMap,qd=function(e,n){if(typeof n!="function")return e;mv.has(e)||mv.set(e,new WeakMap);var r=mv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},_se=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Bc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Lp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ac(),realScaleType:"point"}:a==="category"?{scale:Bc(),realScaleType:"band"}:{scale:Lp(),realScaleType:"linear"};if(Co(i)){var l="scale".concat(wg(i));return{scale:(uI[l]||ac)(),realScaleType:uI[l]?l:"point"}}return Oe(i)?{scale:i}:{scale:ac(),realScaleType:"point"}},yI=1e-4,xse=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-yI,o=Math.max(i[0],i[1])+yI,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},Ese=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Sse=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(a[0]=r),(!oe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Tse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Ff(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},Ase=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Ff(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Pse={sign:Tse,expand:BG,none:tl,silhouette:zG,wiggle:WG,positive:Ase},Ise=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Pse[r],o=UG().keys(i).value(function(s,l){return+Gn(s,l,0)}).order(aw).offset(a);return o(e)},Ose=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,p){var m,g=(m=p.type)!==null&&m!==void 0&&m.defaultProps?wt(wt({},p.type.defaultProps),p.props):p.props,w=g.stackId,x=g.hide;if(x)return f;var b=g[r],y=f[b]||{hasStack:!1,stackGroups:{}};if($t(w)){var E=y.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(p),y.hasStack=!0,y.stackGroups[w]=E}else y.stackGroups[Uf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return wt(wt({},f),{},Rs({},b,y))},l),c={};return Object.keys(u).reduce(function(f,p){var m=u[p];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,x){var b=m.stackGroups[x];return wt(wt({},w),{},Rs({},x,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Ise(e,b.items,a)}))},g)}return wt(wt({},f),{},Rs({},p,m))},c)},Cse=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Uoe(u,a,s);return e.domain([jg(c),Ng(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),p=Boe(f,a,s);return{niceTicks:p}}return null};function vI(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ce(i[e.dataKey])){var s=mp(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Gn(i,Ce(o)?e.dataKey:o);return Ce(l)?null:e.scale(l)}var wI=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Gn(o,n.dataKey,n.domain[s]);return Ce(l)?null:n.scale(l)-a/2+i},kse=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Nse=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if($t(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},jse=function(e){return e.reduce(function(n,r){return[jg(r.concat([n[0]]).filter(oe)),Ng(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},mM=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=jse(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_I=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rw=function(e,n,r){if(Oe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(bI.test(e[0])){var a=+bI.exec(e[0])[1];i[0]=n[0]-a}else Oe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(_I.test(e[1])){var o=+_I.exec(e[1])[1];i[1]=n[1]+o}else Oe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},qp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=C1(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},xI=function(e,n,r){return!e||!e.length||Dg(e,or(r,"type.defaultProps.domain"))?n:e},gM=function(e,n){var r=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return wt(wt({},Re(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:rx(e),value:Gn(n,i),type:l,payload:n,chartType:u,hide:c})};function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dse(t,e,n){return e=Rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=Mse(t,"string");return Qc(e)=="symbol"?e:e+""}function Mse(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hp=Math.PI/180,$se=function(e){return e*180/Math.PI},Qt=function(e,n,r,i){return{x:e+Math.cos(-Hp*i)*r,y:n+Math.sin(-Hp*i)*r}},Lse=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Vse=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Lse({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:$se(u),angleInRadian:u}},Fse=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Use=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},TI=function(e,n){var r=e.x,i=e.y,a=Vse({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Fse(n),f=c.startAngle,p=c.endAngle,m=s,g;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;g=m>=p&&m<=f}return g?SI(SI({},n),{},{radius:o,angle:Use(m,n)}):null};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var Bse=["offset"];function zse(t){return Gse(t)||Hse(t)||qse(t)||Wse()}function Wse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function Hse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gse(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kse(t,e){if(t==null)return{};var n=Yse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=Jse(t,"string");return Jc(e)=="symbol"?e:e+""}function Jse(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}var Zse=function(e){var n=e.value,r=e.formatter,i=Ce(e.children)?n:e.children;return Oe(r)?r(i):i},ele=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},tle=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,p=l.outerRadius,m=l.startAngle,g=l.endAngle,w=l.clockWise,x=(f+p)/2,b=ele(m,g),y=b>=0?1:-1,E,N;i==="insideStart"?(E=m+y*o,N=w):i==="insideEnd"?(E=g-y*o,N=!w):i==="end"&&(E=g+y*o,N=w),N=b<=0?N:!N;var A=Qt(u,c,x,E),I=Qt(u,c,x,E+(N?1:-1)*359),S="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(I.x,",").concat(I.y),v=Ce(e.id)?Uf("recharts-radial-line-"):e.id;return U.createElement("text",Zc({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",s)}),U.createElement("defs",null,U.createElement("path",{id:v,d:S})),U.createElement("textPath",{xlinkHref:"#".concat(v)},n))},nle=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,p=(c+f)/2;if(i==="outside"){var m=Qt(o,s,u+r,p),g=m.x,w=m.y;return{x:g,y:w,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,b=Qt(o,s,x,p),y=b.x,E=b.y;return{x:y,y:E,textAnchor:"middle",verticalAnchor:"middle"}},rle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,p=f*i,m=f>0?"end":"start",g=f>0?"start":"end",w=u>=0?1:-1,x=w*i,b=w>0?"end":"start",y=w>0?"start":"end";if(a==="top"){var E={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Dt(Dt({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var N={x:s+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:g};return Dt(Dt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var A={x:s-x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Dt(Dt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(a==="right"){var I={x:s+u+x,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Dt(Dt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return a==="insideLeft"?Dt({x:s+x,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideRight"?Dt({x:s+u-x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):a==="insideTop"?Dt({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?Dt({x:s+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?Dt({x:s+x,y:l+p,textAnchor:y,verticalAnchor:g},S):a==="insideTopRight"?Dt({x:s+u-x,y:l+p,textAnchor:b,verticalAnchor:g},S):a==="insideBottomLeft"?Dt({x:s+x,y:l+c-p,textAnchor:y,verticalAnchor:m},S):a==="insideBottomRight"?Dt({x:s+u-x,y:l+c-p,textAnchor:b,verticalAnchor:m},S):$l(a)&&(oe(a.x)||ao(a.x))&&(oe(a.y)||ao(a.y))?Dt({x:s+ko(a.x,u),y:l+ko(a.y,c),textAnchor:"end",verticalAnchor:"end"},S):Dt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},ile=function(e){return"cx"in e&&oe(e.cx)};function fn(t){var e=t.offset,n=e===void 0?5:e,r=Kse(t,Bse),i=Dt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,p=i.textBreakAll;if(!a||Ce(s)&&Ce(l)&&!L.isValidElement(u)&&!Oe(u))return null;if(L.isValidElement(u))return L.cloneElement(u,i);var m;if(Oe(u)){if(m=L.createElement(u,i),L.isValidElement(m))return m}else m=Zse(i);var g=ile(a),w=Re(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return tle(i,m,w);var x=g?nle(i):rle(i);return U.createElement(kp,Zc({className:Le("recharts-label",f)},w,x,{breakAll:p}),m)}fn.displayName="Label";var yM=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,p=e.y,m=e.top,g=e.left,w=e.width,x=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(oe(w)&&oe(x)){if(oe(f)&&oe(p))return{x:f,y:p,width:w,height:x};if(oe(m)&&oe(g))return{x:m,y:g,width:w,height:x}}return oe(f)&&oe(p)?{x:f,y:p,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},ale=function(e,n){return e?e===!0?U.createElement(fn,{key:"label-implicit",viewBox:n}):$t(e)?U.createElement(fn,{key:"label-implicit",viewBox:n,value:e}):L.isValidElement(e)?e.type===fn?L.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(fn,{key:"label-implicit",content:e,viewBox:n}):Oe(e)?U.createElement(fn,{key:"label-implicit",content:e,viewBox:n}):$l(e)?U.createElement(fn,Zc({viewBox:n},e,{key:"label-implicit"})):null:null},ole=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=yM(e),o=sr(i,fn).map(function(l,u){return L.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=ale(e.label,n||a);return[s].concat(zse(o))};fn.parseViewBox=yM;fn.renderCallByParent=ole;function sle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var lle=sle;const ule=tt(lle);function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}var cle=["valueAccessor"],fle=["data","dataKey","clockWise","id","textBreakAll"];function dle(t){return gle(t)||mle(t)||ple(t)||hle()}function hle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(t,e){if(t){if(typeof t=="string")return $w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $w(t,e)}}function mle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gle(t){if(Array.isArray(t))return $w(t)}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gp.apply(this,arguments)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return e=vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=wle(t,"string");return ef(e)=="symbol"?e:e+""}function wle(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OI(t,e){if(t==null)return{};var n=ble(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ble(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _le=function(e){return Array.isArray(e.value)?ule(e.value):e.value};function xa(t){var e=t.valueAccessor,n=e===void 0?_le:e,r=OI(t,cle),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=OI(r,fle);return!i||!i.length?null:U.createElement(St,{className:"recharts-label-list"},i.map(function(c,f){var p=Ce(a)?n(c,f):Gn(c&&c.payload,a),m=Ce(s)?{}:{id:"".concat(s,"-").concat(f)};return U.createElement(fn,Gp({},Re(c,!0),u,m,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:fn.parseViewBox(Ce(o)?c:II(II({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}xa.displayName="LabelList";function xle(t,e){return t?t===!0?U.createElement(xa,{key:"labelList-implicit",data:e}):U.isValidElement(t)||Oe(t)?U.createElement(xa,{key:"labelList-implicit",data:e,content:t}):$l(t)?U.createElement(xa,Gp({data:e},t,{key:"labelList-implicit"})):null:null}function Ele(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=sr(r,xa).map(function(o,s){return L.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=xle(t.label,e);return[a].concat(dle(i))}xa.renderCallByParent=Ele;function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(this,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return e=Tle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tle(t){var e=Ale(t,"string");return tf(e)=="symbol"?e:e+""}function Ale(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ple=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Hd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Hp,p=u?a:a+o*f,m=Qt(n,r,c,p),g=Qt(n,r,i,p),w=u?a-o*f:a,x=Qt(n,r,c*Math.cos(f*Hp),w);return{center:m,circleTangency:g,lineTangency:x,theta:f}},vM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Ple(o,s),u=o+l,c=Qt(n,r,a,o),f=Qt(n,r,a,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Qt(n,r,i,o),g=Qt(n,r,i,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Ile=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Ar(c-u),p=Hd({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=p.circleTangency,g=p.lineTangency,w=p.theta,x=Hd({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),b=x.circleTangency,y=x.lineTangency,E=x.theta,N=l?Math.abs(u-c):Math.abs(u-c)-w-E;if(N<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):vM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var A="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var I=Hd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=I.circleTangency,v=I.lineTangency,T=I.theta,P=Hd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=P.circleTangency,j=P.lineTangency,k=P.theta,$=l?Math.abs(u-c):Math.abs(u-c)-T-k;if($<0&&o===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},Ole={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wM=function(e){var n=kI(kI({},Ole),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,p=n.className;if(o<a||c===f)return null;var m=Le("recharts-sector",p),g=o-a,w=ko(s,g,0,!0),x;return w>0&&Math.abs(c-f)<360?x=Ile({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=vM({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),U.createElement("path",Lw({},Re(n,!0),{className:m,d:x,role:"img"}))};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){Cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cle(t,e,n){return e=kle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t){var e=Nle(t,"string");return nf(e)=="symbol"?e:e+""}function Nle(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DI={curveBasisClosed:CG,curveBasisOpen:kG,curveBasis:OG,curveBumpX:mG,curveBumpY:gG,curveLinearClosed:NG,curveLinear:_g,curveMonotoneX:jG,curveMonotoneY:DG,curveNatural:RG,curveStep:MG,curveStepAfter:LG,curveStepBefore:$G},Gd=function(e){return e.x===+e.x&&e.y===+e.y},Su=function(e){return e.x},Tu=function(e){return e.y},jle=function(e,n){if(Oe(e))return e;var r="curve".concat(wg(e));return(r==="curveMonotone"||r==="curveBump")&&n?DI["".concat(r).concat(n==="vertical"?"Y":"X")]:DI[r]||_g},Dle=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=jle(r,s),f=u?a.filter(function(w){return Gd(w)}):a,p;if(Array.isArray(o)){var m=u?o.filter(function(w){return Gd(w)}):o,g=f.map(function(w,x){return jI(jI({},w),{},{base:m[x]})});return s==="vertical"?p=$d().y(Tu).x1(Su).x0(function(w){return w.base.x}):p=$d().x(Su).y1(Tu).y0(function(w){return w.base.y}),p.defined(Gd).curve(c),p(g)}return s==="vertical"&&oe(o)?p=$d().y(Tu).x1(Su).x0(o):oe(o)?p=$d().x(Su).y1(Tu).y0(o):p=bD().x(Su).y(Tu),p.defined(Gd).curve(c),p(f)},Fw=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Dle(e):i;return L.createElement("path",Vw({},Re(e,!1),gp(e),{className:Le("recharts-curve",n),d:o,ref:a}))},bM={exports:{}},Rle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mle=Rle,$le=Mle;function _M(){}function xM(){}xM.resetWarningCache=_M;var Lle=function(){function t(r,i,a,o,s,l){if(l!==$le){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xM,resetWarningCache:_M};return n.PropTypes=n,n};bM.exports=Lle();var Vle=bM.exports;const We=tt(Vle);var Fle=Object.getOwnPropertyNames,Ule=Object.getOwnPropertySymbols,Ble=Object.prototype.hasOwnProperty;function RI(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Kd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function MI(t){return Fle(t).concat(Ule(t))}var zle=Object.hasOwn||function(t,e){return Ble.call(t,e)};function Bo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Wle="__v",qle="__o",Hle="_owner",$I=Object.getOwnPropertyDescriptor,LI=Object.keys;function Gle(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Kle(t,e){return Bo(t.getTime(),e.getTime())}function Yle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Xle(t,e){return t===e}function VI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var p=o.value,m=s.value;if(n.equals(p[0],m[0],l,f,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Qle=Bo;function Jle(t,e,n){var r=LI(t),i=r.length;if(LI(e).length!==i)return!1;for(;i-- >0;)if(!EM(t,e,n,r[i]))return!1;return!0}function Au(t,e,n){var r=MI(t),i=r.length;if(MI(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!EM(t,e,n,a)||(o=$I(t,a),s=$I(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Zle(t,e){return Bo(t.valueOf(),e.valueOf())}function eue(t,e){return t.source===e.source&&t.flags===e.flags}function FI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function tue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function nue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function EM(t,e,n,r){return(r===Hle||r===qle||r===Wle)&&(t.$$typeof||e.$$typeof)?!0:zle(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var rue="[object Arguments]",iue="[object Boolean]",aue="[object Date]",oue="[object Error]",sue="[object Map]",lue="[object Number]",uue="[object Object]",cue="[object RegExp]",fue="[object Set]",due="[object String]",hue="[object URL]",pue=Array.isArray,UI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BI=Object.assign,mue=Object.prototype.toString.call.bind(Object.prototype.toString);function gue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,w,x){if(g===w)return!0;if(g==null||w==null)return!1;var b=typeof g;if(b!==typeof w)return!1;if(b!=="object")return b==="number"?o(g,w,x):b==="function"?i(g,w,x):!1;var y=g.constructor;if(y!==w.constructor)return!1;if(y===Object)return s(g,w,x);if(pue(g))return e(g,w,x);if(UI!=null&&UI(g))return f(g,w,x);if(y===Date)return n(g,w,x);if(y===RegExp)return u(g,w,x);if(y===Map)return a(g,w,x);if(y===Set)return c(g,w,x);var E=mue(g);return E===aue?n(g,w,x):E===cue?u(g,w,x):E===sue?a(g,w,x):E===fue?c(g,w,x):E===uue?typeof g.then!="function"&&typeof w.then!="function"&&s(g,w,x):E===hue?p(g,w,x):E===oue?r(g,w,x):E===rue?s(g,w,x):E===iue||E===lue||E===due?l(g,w,x):!1}}function yue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Au:Gle,areDatesEqual:Kle,areErrorsEqual:Yle,areFunctionsEqual:Xle,areMapsEqual:r?RI(VI,Au):VI,areNumbersEqual:Qle,areObjectsEqual:r?Au:Jle,arePrimitiveWrappersEqual:Zle,areRegExpsEqual:eue,areSetsEqual:r?RI(FI,Au):FI,areTypedArraysEqual:r?Au:tue,areUrlsEqual:nue};if(n&&(i=BI({},i,n(i))),e){var a=Kd(i.areArraysEqual),o=Kd(i.areMapsEqual),s=Kd(i.areObjectsEqual),l=Kd(i.areSetsEqual);i=BI({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function vue(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function wue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,p=f===void 0?e?new WeakMap:void 0:f,m=c.meta;return n(l,u,{cache:p,equals:i,meta:m,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var bue=Ua();Ua({strict:!0});Ua({circular:!0});Ua({circular:!0,strict:!0});Ua({createInternalComparator:function(){return Bo}});Ua({strict:!0,createInternalComparator:function(){return Bo}});Ua({circular:!0,createInternalComparator:function(){return Bo}});Ua({circular:!0,createInternalComparator:function(){return Bo},strict:!0});function Ua(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=yue(t),l=gue(s),u=r?r(l):vue(l);return wue({circular:n,comparator:l,createState:i,equals:u,strict:o})}function _ue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):_ue(i)};requestAnimationFrame(r)}function Uw(t){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(t)}function xue(t){return Aue(t)||Tue(t)||Sue(t)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aue(t){if(Array.isArray(t))return t}function Pue(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=xue(o),l=s[0],u=s.slice(1);if(typeof l=="number"){zI(i.bind(null,u),l);return}i(l),zI(i.bind(null,u));return}Uw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){SM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SM(t,e,n){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Oue(t,"string");return rf(e)==="symbol"?e:String(e)}function Oue(t,e){if(rf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},kue=function(e){return e},Nue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},sc=function(e,n){return Object.keys(n).reduce(function(r,i){return HI(HI({},r),{},SM({},i,e(i,n[i])))},{})},GI=function(e,n,r){return e.map(function(i){return"".concat(Nue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function jue(t,e){return Mue(t)||Rue(t,e)||TM(t,e)||Due()}function Due(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mue(t){if(Array.isArray(t))return t}function $ue(t){return Fue(t)||Vue(t)||TM(t)||Lue()}function Lue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TM(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function Vue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fue(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kp=1e-4,AM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},PM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},KI=function(e,n){return function(r){var i=AM(e,n);return PM(i,r)}},Uue=function(e,n){return function(r){var i=AM(e,n),a=[].concat($ue(i.map(function(o,s){return o*s}).slice(1)),[0]);return PM(a,r)}},YI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=jue(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=KI(i,o),p=KI(a,s),m=Uue(i,o),g=function(b){return b>1?1:b<0?0:b},w=function(b){for(var y=b>1?1:b,E=y,N=0;N<8;++N){var A=f(E)-y,I=m(E);if(Math.abs(A-y)<Kp||I<Kp)return p(E);E=g(E-A/I)}return p(E)};return w.isStepper=!1,w},Bue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,p){var m=-(c-f)*r,g=p*a,w=p+(m-g)*s/1e3,x=p*s/1e3+c;return Math.abs(x-f)<Kp&&Math.abs(w)<Kp?[f,0]:[x,w]};return l.isStepper=!0,l.dt=s,l},zue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YI(i);case"spring":return Bue();default:if(i.split("(")[0]==="cubic-bezier")return YI(i)}return typeof i=="function"?i:null};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function XI(t){return Hue(t)||que(t)||IM(t)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function que(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hue(t){if(Array.isArray(t))return Ww(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zw(t,e,n){return e=Gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gue(t){var e=Kue(t,"string");return af(e)==="symbol"?e:String(e)}function Kue(t,e){if(af(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yue(t,e){return Jue(t)||Que(t,e)||IM(t,e)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IM(t,e){if(t){if(typeof t=="string")return Ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ww(t,e)}}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Que(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jue(t){if(Array.isArray(t))return t}var Yp=function(e,n,r){return e+(n-e)*r},qw=function(e){var n=e.from,r=e.to;return n!==r},Zue=function t(e,n,r){var i=sc(function(a,o){if(qw(o)){var s=e(o.from,o.to,o.velocity),l=Yue(s,2),u=l[0],c=l[1];return Kt(Kt({},o),{},{from:u,velocity:c})}return o},n);return r<1?sc(function(a,o){return qw(o)?Kt(Kt({},o),{},{velocity:Yp(o.velocity,i[a].velocity,r),from:Yp(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const ece=function(t,e,n,r,i){var a=Cue(t,e),o=a.reduce(function(x,b){return Kt(Kt({},x),{},zw({},b,[t[b],e[b]]))},{}),s=a.reduce(function(x,b){return Kt(Kt({},x),{},zw({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,f=function(){return null},p=function(){return sc(function(b,y){return y.from},s)},m=function(){return!Object.values(s).filter(qw).length},g=function(b){u||(u=b);var y=b-u,E=y/n.dt;s=Zue(n,s,E),i(Kt(Kt(Kt({},t),e),p())),u=b,m()||(l=requestAnimationFrame(f))},w=function(b){c||(c=b);var y=(b-c)/r,E=sc(function(A,I){return Yp.apply(void 0,XI(I).concat([n(y)]))},o);if(i(Kt(Kt(Kt({},t),e),E)),y<1)l=requestAnimationFrame(f);else{var N=sc(function(A,I){return Yp.apply(void 0,XI(I).concat([n(1)]))},o);i(Kt(Kt(Kt({},t),e),N))}};return f=n.isStepper?g:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}var tce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nce(t,e){if(t==null)return{};var n=rce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gv(t){return sce(t)||oce(t)||ace(t)||ice()}function ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ace(t,e){if(t){if(typeof t=="string")return Hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hw(t,e)}}function oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sce(t){if(Array.isArray(t))return Hw(t)}function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){$u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $u(t,e,n){return e=OM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OM(r.key),r)}}function cce(t,e,n){return e&&uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OM(t){var e=fce(t,"string");return cl(e)==="symbol"?e:String(e)}function fce(t,e){if(cl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function hce(t){var e=pce();return function(){var r=Xp(t),i;if(e){var a=Xp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Kw(this,i)}}function Kw(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yw(t)}function Yw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}var ji=function(t){dce(n,t);var e=hce(n);function n(r,i){var a;lce(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,p=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Yw(a)),a.changeStyle=a.changeStyle.bind(Yw(a)),!s||m<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:c}),Kw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof p=="function")return a.state={style:u},Kw(a);a.state={style:l?$u({},l,u):u}}else a.state={style:{}};return a}return cce(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,p=this.state.style;if(s){if(!o){var m={style:l?$u({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(m);return}if(!(bue(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=g||u?f:i.to;if(this.state&&p){var x={style:l?$u({},l,w):w};(l&&p[l]!==w||!l&&p!==w)&&this.setState(x)}this.runAnimation(gr(gr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,m=ece(o,s,zue(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([p,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,p=f===void 0?0:f,m=function(w,x,b){if(b===0)return w;var y=x.duration,E=x.easing,N=E===void 0?"ease":E,A=x.style,I=x.properties,S=x.onAnimationEnd,v=b>0?o[b-1]:x,T=I||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(gv(w),[a.runJSAnimation.bind(a,{from:v.style,to:A,duration:y,easing:N}),y]);var P=GI(T,y,N),O=gr(gr(gr({},v.style),A),{},{transition:P});return[].concat(gv(w),[O,y,S]).filter(kue)};return this.manager.start([l].concat(gv(o.reduce(m,[c,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Pue());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var w=s?$u({},s,l):l,x=GI(Object.keys(w),o,u);g.start([c,a,gr(gr({},w),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=nce(i,tce),u=L.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(m){var g=m.props,w=g.style,x=w===void 0?{}:w,b=g.className,y=L.cloneElement(m,gr(gr({},l),{},{style:gr(gr({},x),c),className:b}));return y};return u===1?f(L.Children.only(a)):U.createElement("div",null,L.Children.map(a,function(p){return f(p)}))}}]),n}(L.PureComponent);ji.displayName="Animate";ji.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ji.propTypes={from:We.oneOfType([We.object,We.string]),to:We.oneOfType([We.object,We.string]),attributeName:We.string,duration:We.number,begin:We.number,easing:We.oneOfType([We.string,We.func]),steps:We.arrayOf(We.shape({duration:We.number.isRequired,style:We.object.isRequired,easing:We.oneOfType([We.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),We.func]),properties:We.arrayOf("string"),onAnimationEnd:We.func})),children:We.oneOfType([We.node,We.func]),isActive:We.bool,canBegin:We.bool,onAnimationEnd:We.func,shouldReAnimate:We.bool,onAnimationStart:We.func,onAnimationReStart:We.func};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function mce(t,e){return wce(t)||vce(t,e)||yce(t,e)||gce()}function gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yce(t,e){if(t){if(typeof t=="string")return ZI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZI(t,e)}}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function wce(t){if(Array.isArray(t))return t}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e,n){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=xce(t,"string");return of(e)=="symbol"?e:e+""}function xce(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nO=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=a[p]>o?o:a[p];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Ece=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=p}return!1},Sce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ix=function(e){var n=tO(tO({},Sce),e),r=L.useRef(),i=L.useState(-1),a=mce(i,2),o=a[0],s=a[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&s(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,p=n.radius,m=n.className,g=n.animationEasing,w=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var E=Le("recharts-rectangle",m);return y?U.createElement(ji,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:w,animationEasing:g,isActive:y},function(N){var A=N.width,I=N.height,S=N.x,v=N.y;return U.createElement(ji,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:b,easing:g},U.createElement("path",Qp({},Re(n,!0),{className:E,d:nO(S,v,A,I,p),ref:r})))}):U.createElement("path",Qp({},Re(n,!0),{className:E,d:nO(l,u,c,f,p)}))};function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(this,arguments)}var ax=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Le("recharts-dot",a);return n===+n&&r===+r&&i===+i?L.createElement("circle",Xw({},Re(e,!1),gp(e),{className:o,cx:n,cy:r,r:i})):null};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}var Tce=["x","y","top","left","width","height","className"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ace(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){Pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pce(t,e,n){return e=Ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Oce(t,"string");return sf(e)=="symbol"?e:e+""}function Oce(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cce(t,e){if(t==null)return{};var n=kce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nce=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},jce=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,p=e.height,m=p===void 0?0:p,g=e.className,w=Cce(e,Tce),x=Ace({x:r,y:a,top:s,left:u,width:f,height:m},w);return!oe(r)||!oe(a)||!oe(f)||!oe(m)||!oe(s)||!oe(u)?null:U.createElement("path",Qw({},Re(x,!0),{className:Le("recharts-cross",g),d:Nce(r,a,f,m,s,u)}))},Dce=WD,Rce=Dce(Object.getPrototypeOf,Object),Mce=Rce,$ce=Li,Lce=Mce,Vce=Vi,Fce="[object Object]",Uce=Function.prototype,Bce=Object.prototype,CM=Uce.toString,zce=Bce.hasOwnProperty,Wce=CM.call(Object);function qce(t){if(!Vce(t)||$ce(t)!=Fce)return!1;var e=Lce(t);if(e===null)return!0;var n=zce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CM.call(n)==Wce}var Hce=qce;const Gce=tt(Hce);var Kce=Li,Yce=Vi,Xce="[object Boolean]";function Qce(t){return t===!0||t===!1||Yce(t)&&Kce(t)==Xce}var Jce=Qce;const Zce=tt(Jce);function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jp.apply(this,arguments)}function efe(t,e){return ife(t)||rfe(t,e)||nfe(t,e)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(t,e){if(t){if(typeof t=="string")return iO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(t,e)}}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ife(t){if(Array.isArray(t))return t}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function afe(t,e,n){return e=ofe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ofe(t){var e=sfe(t,"string");return lf(e)=="symbol"?e:e+""}function sfe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sO=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},lfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ufe=function(e){var n=oO(oO({},lfe),e),r=L.useRef(),i=L.useState(-1),a=efe(i,2),o=a[0],s=a[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,p=n.height,m=n.className,g=n.animationEasing,w=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||p!==+p||c===0&&f===0||p===0)return null;var y=Le("recharts-trapezoid",m);return b?U.createElement(ji,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:p,x:l,y:u},duration:w,animationEasing:g,isActive:b},function(E){var N=E.upperWidth,A=E.lowerWidth,I=E.height,S=E.x,v=E.y;return U.createElement(ji,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:g},U.createElement("path",Jp({},Re(n,!0),{className:y,d:sO(S,v,N,A,I),ref:r})))}):U.createElement("g",null,U.createElement("path",Jp({},Re(n,!0),{className:y,d:sO(l,u,c,f,p)})))},cfe=["option","shapeType","propTransformer","activeClassName","isActive"];function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function ffe(t,e){if(t==null)return{};var n=dfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hfe(t,e,n){return e=pfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pfe(t){var e=mfe(t,"string");return uf(e)=="symbol"?e:e+""}function mfe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gfe(t,e){return Zp(Zp({},e),t)}function yfe(t,e){return t==="symbols"}function uO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(ix,n);case"trapezoid":return U.createElement(ufe,n);case"sector":return U.createElement(wM,n);case"symbols":if(yfe(e))return U.createElement(x1,n);break;default:return null}}function vfe(t){return L.isValidElement(t)?t.props:t}function wfe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?gfe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=ffe(t,cfe),u;if(L.isValidElement(e))u=L.cloneElement(e,Zp(Zp({},l),vfe(e)));else if(Oe(e))u=e(l);else if(Gce(e)&&!Zce(e)){var c=i(e,l);u=U.createElement(uO,{shapeType:n,elementProps:c})}else{var f=l;u=U.createElement(uO,{shapeType:n,elementProps:f})}return s?U.createElement(St,{className:o},u):u}function $g(t,e){return e!=null&&"trapezoids"in t.props}function Lg(t,e){return e!=null&&"sectors"in t.props}function cf(t,e){return e!=null&&"points"in t.props}function bfe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function _fe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function xfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Efe(t,e){var n;return $g(t,e)?n=bfe:Lg(t,e)?n=_fe:cf(t,e)&&(n=xfe),n}function Sfe(t,e){var n;return $g(t,e)?n="trapezoids":Lg(t,e)?n="sectors":cf(t,e)&&(n="points"),n}function Tfe(t,e){if($g(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Lg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return cf(t,e)?e.payload:{}}function Afe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Sfe(n,e),a=Tfe(n,e),o=r.filter(function(l,u){var c=Dg(a,l),f=n.props[i].filter(function(g){var w=Efe(n,e);return w(g,e)}),p=n.props[i].indexOf(f[f.length-1]),m=u===p;return c&&m}),s=r.indexOf(o[o.length-1]);return s}var Pfe=Math.ceil,Ife=Math.max;function Ofe(t,e,n,r){for(var i=-1,a=Ife(Pfe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Cfe=Ofe,kfe=uR,cO=1/0,Nfe=17976931348623157e292;function jfe(t){if(!t)return t===0?t:0;if(t=kfe(t),t===cO||t===-cO){var e=t<0?-1:1;return e*Nfe}return t===t?t:0}var kM=jfe,Dfe=Cfe,Rfe=Tg,yv=kM;function Mfe(t){return function(e,n,r){return r&&typeof r!="number"&&Rfe(e,n,r)&&(n=r=void 0),e=yv(e),n===void 0?(n=e,e=0):n=yv(n),r=r===void 0?e<n?1:-1:yv(r),Dfe(e,n,r,t)}}var $fe=Mfe,Lfe=$fe,Vfe=Lfe(),Ffe=Vfe;const em=tt(Ffe);function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){NM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NM(t,e,n){return e=Ufe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ufe(t){var e=Bfe(t,"string");return ff(e)=="symbol"?e:e+""}function Bfe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zfe=["Webkit","Moz","O","ms"],Wfe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=zfe.reduce(function(a,o){return dO(dO({},a),{},NM({},o+r,n))},{});return i[e]=n,i};function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){$n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DM(r.key),r)}}function Hfe(t,e,n){return e&&pO(t.prototype,e),n&&pO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gfe(t,e,n){return e=nm(e),Kfe(t,jM()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function Kfe(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yfe(t)}function Yfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jM=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Xfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function $n(t,e,n){return e=DM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DM(t){var e=Qfe(t,"string");return fl(e)=="symbol"?e:e+""}function Qfe(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ac().domain(em(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},mO=function(e){return e.changedTouches&&!!e.changedTouches.length},dl=function(t){function e(n){var r;return qfe(this,e),r=Gfe(this,e,[n]),$n(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),$n(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),$n(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),$n(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),$n(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),$n(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),$n(r,"handleSlideDragStart",function(i){var a=mO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Xfe(e,t),Hfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),p=Math.max(i,a),m=e.getIndexInRange(o,f),g=e.getIndexInRange(o,p);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Gn(a[r],s,r);return Oe(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,p=l.startIndex,m=l.endIndex,g=l.onChange,w=r.pageX-a;w>0?w=Math.min(w,u+c-f-s,u+c-f-o):w<0&&(w=Math.max(w,u-o,u-s));var x=this.getIndex({startX:o+w,endX:s+w});(x.startIndex!==p||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+w,endX:s+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=mO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,p=c.width,m=c.travellerWidth,g=c.onChange,w=c.gap,x=c.data,b={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,f+p-m-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var E=this.getIndex(b),N=E.startIndex,A=E.endIndex,I=function(){var v=x.length-1;return o==="startX"&&(s>l?N%w===0:A%w===0)||s<l&&A===v||o==="endX"&&(s>l?A%w===0:N%w===0)||s>l&&A===v};this.setState($n($n({},o,u+y),"brushMoveStartX",r.pageX),function(){g&&I()&&g(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var p=f+r;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState($n({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=L.Children.only(u);return f?U.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,p=l.traveller,m=l.ariaLabel,g=l.data,w=l.startIndex,x=l.endIndex,b=Math.max(r,this.props.x),y=vv(vv({},Re(this.props,!1)),{},{x:b,y:u,width:c,height:f}),E=m||"Min value: ".concat((a=g[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return U.createElement(St,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,p=c.endX,m=5,g={pointerEvents:"none",fill:u};return U.createElement(St,{className:"recharts-brush-texts"},U.createElement(kp,tm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-m,y:o+s/2},g),this.getTextOfTick(i)),U.createElement(kp,tm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,p=this.state,m=p.startX,g=p.endX,w=p.isTextActive,x=p.isSlideMoving,b=p.isTravellerMoving,y=p.isTravellerFocused;if(!i||!i.length||!oe(s)||!oe(l)||!oe(u)||!oe(c)||u<=0||c<=0)return null;var E=Le("recharts-brush",a),N=U.Children.count(o)===1,A=Wfe("userSelect","none");return U.createElement(St,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(w||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return U.isValidElement(r)?a=U.cloneElement(r,i):Oe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return vv({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Jfe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(L.PureComponent);$n(dl,"displayName","Brush");$n(dl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zfe=O1;function ede(t,e){var n;return Zfe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var tde=ede,nde=MD,rde=La,ide=tde,ade=jn,ode=Tg;function sde(t,e,n){var r=ade(t)?nde:ide;return n&&ode(t,e,n)&&(e=void 0),r(t,rde(e))}var lde=sde;const ude=tt(lde);var Xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},gO=iR;function cde(t,e,n){e=="__proto__"&&gO?gO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fde=cde,dde=fde,hde=nR,pde=La;function mde(t,e){var n={};return e=pde(e),hde(t,function(r,i,a){dde(n,i,e(r,i,a))}),n}var gde=mde;const yde=tt(gde);function vde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var wde=vde,bde=O1;function _de(t,e){var n=!0;return bde(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var xde=_de,Ede=wde,Sde=xde,Tde=La,Ade=jn,Pde=Tg;function Ide(t,e,n){var r=Ade(t)?Ede:Sde;return n&&Pde(t,e,n)&&(e=void 0),r(t,Tde(e))}var Ode=Ide;const RM=tt(Ode);var Cde=["x","y"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e,n){return e=Nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nde(t){var e=jde(t,"string");return df(e)=="symbol"?e:e+""}function jde(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dde(t,e){if(t==null)return{};var n=Rde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mde(t,e){var n=t.x,r=t.y,i=Dde(t,Cde),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),p=parseInt(f,10);return Pu(Pu(Pu(Pu(Pu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:e.name,radius:e.radius})}function vO(t){return U.createElement(wfe,Zw({shapeType:"rectangle",propTransformer:Mde,activeClassName:"recharts-active-bar"},t))}var $de=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=oe(r)||eH(r);return a?e(r,i):(a||jo(),n)}},Lde=["value","background"],MM;function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function Vde(t,e){if(t==null)return{};var n=Fde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(this,arguments)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){oa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LM(r.key),r)}}function Bde(t,e,n){return e&&bO(t.prototype,e),n&&bO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zde(t,e,n){return e=im(e),Wde(t,$M()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function Wde(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(t)}function qde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($M=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function Hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function oa(t,e,n){return e=LM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LM(t){var e=Gde(t,"string");return hl(e)=="symbol"?e:e+""}function Gde(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zo=function(t){function e(){var n;Ude(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zde(this,e,[].concat(i)),oa(n,"state",{isAnimationFinished:!1}),oa(n,"id",Uf("recharts-bar-")),oa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),oa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Hde(e,t),Bde(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Re(this.props,!1);return r&&r.map(function(f,p){var m=p===l,g=m?u:o,w=Pt(Pt(Pt({},c),f),{},{isActive:m,option:g,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(St,rm({className:"recharts-bar-rectangle"},yp(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),U.createElement(vO,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,p=this.state.prevData;return U.createElement(ji,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,w=a.map(function(x,b){var y=p&&p[b];if(y){var E=Er(y.x,x.x),N=Er(y.y,x.y),A=Er(y.width,x.width),I=Er(y.height,x.height);return Pt(Pt({},x),{},{x:E(g),y:N(g),width:A(g),height:I(g)})}if(o==="horizontal"){var S=Er(0,x.height),v=S(g);return Pt(Pt({},x),{},{y:x.y+x.height-v,height:v})}var T=Er(0,x.width),P=T(g);return Pt(Pt({},x),{},{width:P})});return U.createElement(St,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Dg(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Re(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,p=Vde(u,Lde);if(!f)return null;var m=Pt(Pt(Pt(Pt(Pt({},p),{},{fill:"#eee"},f),l),yp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return U.createElement(vO,rm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=sr(c,Gf);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Gn(x,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(St,g,f.map(function(w){return U.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,p=r.height,m=r.isAnimationActive,g=r.background,w=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=Le("recharts-bar",o),y=s&&s.allowDataOverflow,E=l&&l.allowDataOverflow,N=y||E,A=Ce(w)?this.id:w;return U.createElement(St,{className:b},y||E?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(A)},U.createElement("rect",{x:y?u:u-f/2,y:E?c:c-p/2,width:y?f:f*2,height:E?p:p*2}))):null,U.createElement(St,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!m||x)&&xa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(L.PureComponent);MM=zo;oa(zo,"displayName","Bar");oa(zo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oa(zo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,p=t.offset,m=Ese(r,n);if(!m)return null;var g=e.layout,w=n.type.defaultProps,x=w!==void 0?Pt(Pt({},w),n.props):n.props,b=x.dataKey,y=x.children,E=x.minPointSize,N=g==="horizontal"?o:a,A=u?N.scale.domain():null,I=kse({numericAxis:N}),S=sr(y,N1),v=f.map(function(T,P){var O,j,k,$,F,W;u?O=Sse(u[c+P],A):(O=Gn(T,b),Array.isArray(O)||(O=[I,O]));var R=$de(E,MM.defaultProps.minPointSize)(O[1],P);if(g==="horizontal"){var B,M=[o.scale(O[0]),o.scale(O[1])],X=M[0],q=M[1];j=wI({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:T,index:P}),k=(B=q??X)!==null&&B!==void 0?B:void 0,$=m.size;var V=X-q;if(F=Number.isNaN(V)?0:V,W={x:j,y:o.y,width:$,height:o.height},Math.abs(R)>0&&Math.abs(F)<Math.abs(R)){var H=Ar(F||R)*(Math.abs(R)-Math.abs(F));k-=H,F+=H}}else{var pe=[a.scale(O[0]),a.scale(O[1])],ve=pe[0],Ve=pe[1];if(j=ve,k=wI({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:T,index:P}),$=Ve-ve,F=m.size,W={x:a.x,y:k,width:a.width,height:F},Math.abs(R)>0&&Math.abs($)<Math.abs(R)){var Be=Ar($||R)*(Math.abs(R)-Math.abs($));$+=Be}}return Pt(Pt(Pt({},T),{},{x:j,y:k,width:$,height:F,value:u?O:O[1],payload:T,background:W},S&&S[P]&&S[P].props),{},{tooltipPayload:[gM(n,T)],tooltipPosition:{x:j+$/2,y:k+F/2}})});return Pt({data:v,layout:g},p)});function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function Kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VM(r.key),r)}}function Yde(t,e,n){return e&&_O(t.prototype,e),n&&_O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vg(t,e,n){return e=VM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VM(t){var e=Xde(t,"string");return hf(e)=="symbol"?e:e+""}function Xde(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FM=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!Vn(u,zo);return c.reduce(function(m,g){var w=n[g],x=w.orientation,b=w.domain,y=w.padding,E=y===void 0?{}:y,N=w.mirror,A=w.reversed,I="".concat(x).concat(N?"Mirror":""),S,v,T,P,O;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var j=b[1]-b[0],k=1/0,$=w.categoricalDomain.sort(rH);if($.forEach(function(pe,ve){ve>0&&(k=Math.min((pe||0)-($[ve-1]||0),k))}),Number.isFinite(k)){var F=k/j,W=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=F*W/2),w.padding==="no-gap"){var R=ko(e.barCategoryGap,F*W),B=F*W/2;S=B-R-(B-R)/W*R}}}i==="xAxis"?v=[r.left+(E.left||0)+(S||0),r.left+r.width-(E.right||0)-(S||0)]:i==="yAxis"?v=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(S||0),r.top+r.height-(E.bottom||0)-(S||0)]:v=w.range,A&&(v=[v[1],v[0]]);var M=_se(w,a,p),X=M.scale,q=M.realScaleType;X.domain(b).range(v),xse(X);var V=Cse(X,br(br({},w),{},{realScaleType:q}));i==="xAxis"?(O=x==="top"&&!N||x==="bottom"&&N,T=r.left,P=f[I]-O*w.height):i==="yAxis"&&(O=x==="left"&&!N||x==="right"&&N,T=f[I]-O*w.width,P=r.top);var H=br(br(br({},w),V),{},{realScaleType:q,x:T,y:P,scale:X,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return H.bandSize=qp(H,V),!w.hide&&i==="xAxis"?f[I]+=(O?-1:1)*H.height:w.hide||(f[I]+=(O?-1:1)*H.width),br(br({},m),{},Vg({},g,H))},{})},UM=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Qde=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return UM({x:n,y:r},{x:i,y:a})},BM=function(){function t(e){Kde(this,t),this.scale=e}return Yde(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Vg(BM,"EPS",1e-4);var ox=function(e){var n=Object.keys(e).reduce(function(r,i){return br(br({},r),{},Vg({},i,BM.create(e[i])))},{});return br(br({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return yde(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return RM(i,function(a,o){return n[o].isInRange(a)})}})};function Jde(t){return(t%180+180)%180}var Zde=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jde(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},ehe=La,the=Bf,nhe=Eg;function rhe(t){return function(e,n,r){var i=Object(e);if(!the(e)){var a=ehe(n);e=nhe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var ihe=rhe,ahe=kM;function ohe(t){var e=ahe(t),n=e%1;return e===e?n?e-n:e:0}var she=ohe,lhe=XD,uhe=La,che=she,fhe=Math.max;function dhe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:che(n);return i<0&&(i=fhe(r+i,0)),lhe(t,uhe(e),i)}var hhe=dhe,phe=ihe,mhe=hhe,ghe=phe(mhe),yhe=ghe;const vhe=tt(yhe);var whe=oq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),sx=L.createContext(void 0),lx=L.createContext(void 0),zM=L.createContext(void 0),WM=L.createContext({}),qM=L.createContext(void 0),HM=L.createContext(0),GM=L.createContext(0),EO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=whe(a);return U.createElement(sx.Provider,{value:r},U.createElement(lx.Provider,{value:i},U.createElement(WM.Provider,{value:a},U.createElement(zM.Provider,{value:c},U.createElement(qM.Provider,{value:o},U.createElement(HM.Provider,{value:u},U.createElement(GM.Provider,{value:l},s)))))))},bhe=function(){return L.useContext(qM)},KM=function(e){var n=L.useContext(sx);n==null&&jo();var r=n[e];return r==null&&jo(),r},_he=function(){var e=L.useContext(sx);return na(e)},xhe=function(){var e=L.useContext(lx),n=vhe(e,function(r){return RM(r.domain,Number.isFinite)});return n||na(e)},YM=function(e){var n=L.useContext(lx);n==null&&jo();var r=n[e];return r==null&&jo(),r},Ehe=function(){var e=L.useContext(zM);return e},She=function(){return L.useContext(WM)},ux=function(){return L.useContext(GM)},cx=function(){return L.useContext(HM)};function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function The(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ahe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QM(r.key),r)}}function Phe(t,e,n){return e&&Ahe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ihe(t,e,n){return e=am(e),Ohe(t,XM()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function Ohe(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Che(t)}function Che(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fx(t,e,n){return e=QM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QM(t){var e=Nhe(t,"string");return pl(e)=="symbol"?e:e+""}function Nhe(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jhe(t,e){return $he(t)||Mhe(t,e)||Rhe(t,e)||Dhe()}function Dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(t,e){if(t){if(typeof t=="string")return AO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AO(t,e)}}function AO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $he(t){if(Array.isArray(t))return t}function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(this,arguments)}var Lhe=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):Oe(e)?r=e(n):r=U.createElement("line",nb({},n,{className:"recharts-reference-line-line"})),r},Vhe=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,p=a.width,m=a.height;if(r){var g=u.y,w=e.y.apply(g,{position:o});if(Xr(u,"discard")&&!e.y.isInRange(w))return null;var x=[{x:c+p,y:w},{x:c,y:w}];return l==="left"?x.reverse():x}if(n){var b=u.x,y=e.x.apply(b,{position:o});if(Xr(u,"discard")&&!e.x.isInRange(y))return null;var E=[{x:y,y:f+m},{x:y,y:f}];return s==="top"?E.reverse():E}if(i){var N=u.segment,A=N.map(function(I){return e.apply(I,{position:o})});return Xr(u,"discard")&&ude(A,function(I){return!e.isInRange(I)})?null:A}return null};function Fhe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=bhe(),c=KM(i),f=YM(a),p=Ehe();if(!u||!p)return null;wi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ox({x:c.scale,y:f.scale}),g=$t(e),w=$t(n),x=r&&r.length===2,b=Vhe(m,g,w,x,p,t.position,c.orientation,f.orientation,t);if(!b)return null;var y=jhe(b,2),E=y[0],N=E.x,A=E.y,I=y[1],S=I.x,v=I.y,T=Xr(t,"hidden")?"url(#".concat(u,")"):void 0,P=TO(TO({clipPath:T},Re(t,!0)),{},{x1:N,y1:A,x2:S,y2:v});return U.createElement(St,{className:Le("recharts-reference-line",s)},Lhe(o,P),fn.renderCallByParent(t,Qde({x1:N,y1:A,x2:S,y2:v})))}var dx=function(t){function e(){return The(this,e),Ihe(this,e,arguments)}return khe(e,t),Phe(e,[{key:"render",value:function(){return U.createElement(Fhe,this.props)}}])}(U.Component);fx(dx,"displayName","ReferenceLine");fx(dx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(this,arguments)}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){Fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZM(r.key),r)}}function zhe(t,e,n){return e&&Bhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Whe(t,e,n){return e=om(e),qhe(t,JM()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function qhe(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hhe(t)}function Hhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function Ghe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function Fg(t,e,n){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZM(t){var e=Khe(t,"string");return ml(e)=="symbol"?e:e+""}function Khe(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yhe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=ox({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Xr(e,"discard")&&!o.isInRange(s)?null:s},Ug=function(t){function e(){return Uhe(this,e),Whe(this,e,arguments)}return Ghe(e,t),zhe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=$t(i),c=$t(a);if(wi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Yhe(this.props);if(!f)return null;var p=f.x,m=f.y,g=this.props,w=g.shape,x=g.className,b=Xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=IO(IO({clipPath:b},Re(this.props,!0)),{},{cx:p,cy:m});return U.createElement(St,{className:Le("recharts-reference-dot",x)},e.renderDot(w,y),fn.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])}(U.Component);Fg(Ug,"displayName","ReferenceDot");Fg(Ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fg(Ug,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):Oe(t)?n=t(e):n=U.createElement(ax,rb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function Jhe(t,e,n){return e&&Qhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zhe(t,e,n){return e=sm(e),epe(t,e$()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function epe(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tpe(t)}function tpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function npe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function Bg(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=rpe(t,"string");return gl(e)=="symbol"?e:e+""}function rpe(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ipe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var p=ox({x:c.scale,y:f.scale}),m={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},g={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Xr(a,"discard")&&(!p.isInRange(m)||!p.isInRange(g))?null:UM(m,g)},zg=function(t){function e(){return Xhe(this,e),Zhe(this,e,arguments)}return npe(e,t),Jhe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=$t(i),p=$t(a),m=$t(o),g=$t(s),w=this.props.shape;if(!f&&!p&&!m&&!g&&!w)return null;var x=ipe(f,p,m,g,this.props);if(!x&&!w)return null;var b=Xr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return U.createElement(St,{className:Le("recharts-reference-area",l)},e.renderRect(w,CO(CO({clipPath:b},Re(this.props,!0)),x)),fn.renderCallByParent(this.props,x))}}])}(U.Component);Bg(zg,"displayName","ReferenceArea");Bg(zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bg(zg,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):Oe(t)?n=t(e):n=U.createElement(ix,ab({},e,{className:"recharts-reference-area-rect"})),n});function n$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ape(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Zde(r,n)}function ope(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function lm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function spe(t,e){return n$(t,e+1)}function lpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:n$(r,u)};var w=l,x,b=function(){return x===void 0&&(x=n(g,w)),x},y=g.coordinate,E=l===0||lm(t,y,b,c,s);E||(l=0,c=o,u+=1),E&&(c=y+t*(b()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function upe(t,e,n){return e=cpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=fpe(t,"string");return pf(e)=="symbol"?e:e+""}function fpe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var m=a[p],g,w=function(){return g===void 0&&(g=n(m,p)),g};if(p===o-1){var x=t*(m.coordinate+t*w()/2-l);a[p]=m=sn(sn({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else a[p]=m=sn(sn({},m),{},{tickCoord:m.coordinate});var b=lm(t,m.tickCoord,w,s,l);b&&(l=m.tickCoord-t*(w()/2+i),a[p]=sn(sn({},m),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function hpe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),p=t*(c.coordinate+t*f/2-u);o[s-1]=c=sn(sn({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate});var m=lm(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),o[s-1]=sn(sn({},c),{},{isShow:!0}))}for(var g=a?s-1:s,w=function(y){var E=o[y],N,A=function(){return N===void 0&&(N=n(E,y)),N};if(y===0){var I=t*(E.coordinate-t*A()/2-l);o[y]=E=sn(sn({},E),{},{tickCoord:I<0?E.coordinate-I*t:E.coordinate})}else o[y]=E=sn(sn({},E),{},{tickCoord:E.coordinate});var S=lm(t,E.tickCoord,A,l,u);S&&(l=E.tickCoord+t*(A()/2+i),o[y]=sn(sn({},E),{},{isShow:!0}))},x=0;x<g;x++)w(x);return o}function hx(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(oe(l)||Wl.isSsr)return spe(i,typeof l=="number"&&oe(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?ic(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(E,N){var A=Oe(u)?u(E.value,N):E.value;return m==="width"?ape(ic(A,{fontSize:e,letterSpacing:n}),g,f):ic(A,{fontSize:e,letterSpacing:n})[m]},x=i.length>=2?Ar(i[1].coordinate-i[0].coordinate):1,b=ope(a,x,m);return l==="equidistantPreserveStart"?lpe(x,b,w,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=hpe(x,b,w,i,o,l==="preserveStartEnd"):p=dpe(x,b,w,i,o),p.filter(function(y){return y.isShow}))}var ppe=["viewBox"],mpe=["viewBox"],gpe=["ticks"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_s.apply(this,arguments)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wv(t,e){if(t==null)return{};var n=ype(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ype(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i$(r.key),r)}}function wpe(t,e,n){return e&&jO(t.prototype,e),n&&jO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bpe(t,e,n){return e=um(e),_pe(t,r$()?Reflect.construct(e,n||[],um(t).constructor):e.apply(t,n))}function _pe(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xpe(t)}function xpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},um(t)}function Epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sb(t,e)}function px(t,e,n){return e=i$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$(t){var e=Spe(t,"string");return yl(e)=="symbol"?e:e+""}function Spe(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kl=function(t){function e(n){var r;return vpe(this,e),r=bpe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Epe(e,t),wpe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=wv(r,ppe),s=this.props,l=s.viewBox,u=wv(s,mpe);return!js(a,l)||!js(o,u)||!js(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,p=i.tickMargin,m,g,w,x,b,y,E=f?-1:1,N=r.tickSize||c,A=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,x=o+ +!f*l,w=x-E*N,y=w-E*p,b=A;break;case"left":w=x=r.coordinate,g=a+ +!f*s,m=g-E*N,b=m-E*p,y=A;break;case"right":w=x=r.coordinate,g=a+ +f*s,m=g+E*N,b=m+E*p,y=A;break;default:m=g=r.coordinate,x=o+ +f*l,w=x+E*N,y=w+E*p,b=A;break}return{line:{x1:m,y1:w,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=jt(jt(jt({},Re(this.props,!1)),Re(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=jt(jt({},f),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=jt(jt({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return U.createElement("line",_s({},f,{className:Le("recharts-cartesian-axis-line",or(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,p=s.unit,m=hx(jt(jt({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Re(this.props,!1),b=Re(c,!1),y=jt(jt({},x),{},{fill:"none"},Re(l,!1)),E=m.map(function(N,A){var I=o.getTickLineCoord(N),S=I.line,v=I.tick,T=jt(jt(jt(jt({textAnchor:g,verticalAnchor:w},x),{},{stroke:"none",fill:u},b),v),{},{index:A,payload:N,visibleTicksCount:m.length,tickFormatter:f});return U.createElement(St,_s({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},yp(o.props,N,A)),l&&U.createElement("line",_s({},y,S,{className:Le("recharts-cartesian-axis-tick-line",or(l,"className"))})),c&&e.renderTickItem(c,T,"".concat(Oe(f)?f(N.value,A):N.value).concat(p||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,p=f.ticks,m=wv(f,gpe),g=p;return Oe(l)&&(g=p&&p.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:U.createElement(St,{className:Le("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Le(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?o=U.cloneElement(r,jt(jt({},i),{},{className:s})):Oe(r)?o=r(jt(jt({},i),{},{className:s})):o=U.createElement(kp,_s({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(L.Component);px(Kl,"displayName","CartesianAxis");px(Kl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tpe=["x1","y1","x2","y2","key"],Ape=["offset"];function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){Ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e,n){return e=Ipe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ipe(t){var e=Ope(t,"string");return Do(e)=="symbol"?e:e+""}function Ope(t,e){if(Do(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Do(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lo.apply(this,arguments)}function RO(t,e){if(t==null)return{};var n=Cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kpe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return U.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function a$(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=RO(e,Tpe),u=Re(l,!1);u.offset;var c=RO(u,Ape);n=U.createElement("line",lo({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Npe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=dn(dn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return a$(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jpe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=dn(dn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return a$(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Dpe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==c[0]&&c.unshift(0);var f=c.map(function(p,m){var g=!c[m+1],w=g?i+o-p:c[m+1]-p;if(w<=0)return null;var x=m%e.length;return U.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:w,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Rpe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==c[0]&&c.unshift(0);var f=c.map(function(p,m){var g=!c[m+1],w=g?a+s-p:c[m+1]-p;if(w<=0)return null;var x=m%r.length;return U.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:w,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Mpe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return pM(hx(dn(dn(dn({},Kl.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},$pe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return pM(hx(dn(dn(dn({},Kl.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Jo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lb(t){var e,n,r,i,a,o,s=ux(),l=cx(),u=She(),c=dn(dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Jo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Jo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Jo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Jo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Jo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Jo.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),f=c.x,p=c.y,m=c.width,g=c.height,w=c.syncWithTicks,x=c.horizontalValues,b=c.verticalValues,y=_he(),E=xhe();if(!oe(m)||m<=0||!oe(g)||g<=0||!oe(f)||f!==+f||!oe(p)||p!==+p)return null;var N=c.verticalCoordinatesGenerator||Mpe,A=c.horizontalCoordinatesGenerator||$pe,I=c.horizontalPoints,S=c.verticalPoints;if((!I||!I.length)&&Oe(A)){var v=x&&x.length,T=A({yAxis:E?dn(dn({},E),{},{ticks:v?x:E.ticks}):void 0,width:s,height:l,offset:u},v?!0:w);wi(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Do(T),"]")),Array.isArray(T)&&(I=T)}if((!S||!S.length)&&Oe(N)){var P=b&&b.length,O=N({xAxis:y?dn(dn({},y),{},{ticks:P?b:y.ticks}):void 0,width:s,height:l,offset:u},P?!0:w);wi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Do(O),"]")),Array.isArray(O)&&(S=O)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(kpe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),U.createElement(Npe,lo({},c,{offset:u,horizontalPoints:I,xAxis:y,yAxis:E})),U.createElement(jpe,lo({},c,{offset:u,verticalPoints:S,xAxis:y,yAxis:E})),U.createElement(Dpe,lo({},c,{horizontalPoints:I})),U.createElement(Rpe,lo({},c,{verticalPoints:S})))}lb.displayName="CartesianGrid";var Lpe=["type","layout","connectNulls","ref"],Vpe=["key"];function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function MO(t,e){if(t==null)return{};var n=Fpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zo(t){return Wpe(t)||zpe(t)||Bpe(t)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(t,e){if(t){if(typeof t=="string")return ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(t,e)}}function zpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wpe(t){if(Array.isArray(t))return ub(t)}function ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function Hpe(t,e,n){return e&&LO(t.prototype,e),n&&LO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gpe(t,e,n){return e=cm(e),Kpe(t,o$()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function Kpe(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ype(t)}function Ype(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function Xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function _r(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=Qpe(t,"string");return vl(e)=="symbol"?e:e+""}function Qpe(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mo=function(t){function e(){var n;qpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Gpe(this,e,[].concat(i)),_r(n,"state",{isAnimationFinished:!0,totalLength:0}),_r(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),_r(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(b,y){return b+y});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,p=s-o,m=[],g=0,w=0;g<l.length;w+=l[g],++g)if(w+l[g]>f){m=[].concat(Zo(l.slice(0,g)),[f-w]);break}var x=m.length%2===0?[0,p]:[p];return[].concat(Zo(e.repeat(l,c)),Zo(m),x).map(function(b){return"".concat(b,"px")}).join(", ")}),_r(n,"id",Uf("recharts-line-")),_r(n,"pathRef",function(o){n.mainCurve=o}),_r(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_r(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Xpe(e,t),Hpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=sr(c,Gf);if(!f)return null;var p=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:Gn(w.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(St,m,f.map(function(g){return U.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Re(this.props,!1),p=Re(l,!0),m=u.map(function(w,x){var b=Mn(Mn(Mn({key:"dot-".concat(x),r:3},f),p),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:c,payload:w.payload,points:u});return e.renderDotItem(l,b)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(St,lc({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=MO(s,Lpe),p=Mn(Mn(Mn({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return U.createElement(Fw,lc({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,p=o.animationEasing,m=o.animationId,g=o.animateNewValues,w=o.width,x=o.height,b=this.state,y=b.prevPoints,E=b.totalLength;return U.createElement(ji,{begin:c,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t;if(y){var I=y.length/s.length,S=s.map(function(j,k){var $=Math.floor(k*I);if(y[$]){var F=y[$],W=Er(F.x,j.x),R=Er(F.y,j.y);return Mn(Mn({},j),{},{x:W(A),y:R(A)})}if(g){var B=Er(w*2,j.x),M=Er(x/2,j.y);return Mn(Mn({},j),{},{x:B(A),y:M(A)})}return Mn(Mn({},j),{},{x:j.x,y:j.y})});return a.renderCurveStatically(S,r,i)}var v=Er(0,E),T=v(A),P;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});P=a.getStrokeDasharray(T,E,O)}else P=a.generateSimpleStrokeDasharray(E,T);return a.renderCurveStatically(s,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!Dg(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,p=i.left,m=i.width,g=i.height,w=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,y=s.length===1,E=Le("recharts-line",l),N=u&&u.allowDataOverflow,A=c&&c.allowDataOverflow,I=N||A,S=Ce(x)?this.id:x,v=(r=Re(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=v.r,P=T===void 0?3:T,O=v.strokeWidth,j=O===void 0?2:O,k=dH(o)?o:{},$=k.clipDot,F=$===void 0?!0:$,W=P*2+j;return U.createElement(St,{className:E},N||A?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(S)},U.createElement("rect",{x:N?p:p-m/2,y:A?f:f-g/2,width:N?m:m*2,height:A?g:g*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(S)},U.createElement("rect",{x:p-W/2,y:f-W/2,width:m+W,height:g+W}))):null,!y&&this.renderCurve(I,S),this.renderErrorBar(I,S),(y||o)&&this.renderDots(I,F,S),(!w||b)&&xa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Zo(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Zo(o),Zo(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(U.isValidElement(r))a=U.cloneElement(r,i);else if(Oe(r))a=r(i);else{var o=i.key,s=MO(i,Vpe),l=Le("recharts-line-dot",typeof r!="boolean"?r.className:"");a=U.createElement(ax,lc({key:o},s,{className:l}))}return a}}])}(L.PureComponent);_r(mo,"displayName","Line");_r(mo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Wl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_r(mo,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(p,m){var g=Gn(p,o);return c==="horizontal"?{x:vI({axis:n,ticks:i,bandSize:s,entry:p,index:m}),y:Ce(g)?null:r.scale(g),value:g,payload:p}:{x:Ce(g)?null:n.scale(g),y:vI({axis:r,ticks:a,bandSize:s,entry:p,index:m}),value:g,payload:p}});return Mn({points:f,layout:c},u)});function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c$(r.key),r)}}function eme(t,e,n){return e&&Zpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tme(t,e,n){return e=fm(e),nme(t,l$()?Reflect.construct(e,n||[],fm(t).constructor):e.apply(t,n))}function nme(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rme(t)}function rme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function ime(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function u$(t,e,n){return e=c$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t){var e=ame(t,"string");return wl(e)=="symbol"?e:e+""}function ame(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}function ome(t){var e=t.xAxisId,n=ux(),r=cx(),i=KM(e);return i==null?null:L.createElement(Kl,db({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return hi(o,!0)}}))}var bl=function(t){function e(){return Jpe(this,e),tme(this,e,arguments)}return ime(e,t),eme(e,[{key:"render",value:function(){return L.createElement(ome,this.props)}}])}(L.Component);u$(bl,"displayName","XAxis");u$(bl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h$(r.key),r)}}function ume(t,e,n){return e&&lme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cme(t,e,n){return e=dm(e),fme(t,f$()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function fme(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dme(t)}function dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function hme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hb(t,e)}function d$(t,e,n){return e=h$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h$(t){var e=pme(t,"string");return _l(e)=="symbol"?e:e+""}function pme(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}var mme=function(e){var n=e.yAxisId,r=ux(),i=cx(),a=YM(n);return a==null?null:L.createElement(Kl,pb({},a,{className:Le("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return hi(s,!0)}}))},xl=function(t){function e(){return sme(this,e),cme(this,e,arguments)}return hme(e,t),ume(e,[{key:"render",value:function(){return L.createElement(mme,this.props)}}])}(L.Component);d$(xl,"displayName","YAxis");d$(xl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VO(t){return wme(t)||vme(t)||yme(t)||gme()}function gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yme(t,e){if(t){if(typeof t=="string")return mb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mb(t,e)}}function vme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wme(t){if(Array.isArray(t))return mb(t)}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gb=function(e,n,r,i,a){var o=sr(e,dx),s=sr(e,Ug),l=[].concat(VO(o),VO(s)),u=sr(e,zg),c="".concat(i,"Id"),f=i[0],p=n;if(l.length&&(p=l.reduce(function(w,x){if(x.props[c]===r&&Xr(x.props,"extendDomain")&&oe(x.props[f])){var b=x.props[f];return[Math.min(w[0],b),Math.max(w[1],b)]}return w},p)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(w,x){if(x.props[c]===r&&Xr(x.props,"extendDomain")&&oe(x.props[m])&&oe(x.props[g])){var b=x.props[m],y=x.props[g];return[Math.min(w[0],b,y),Math.max(w[1],b,y)]}return w},p)}return a&&a.length&&(p=a.reduce(function(w,x){return oe(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},p)),p},p$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,p),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,p,m,g){var w=n?n+u:u;if(!this._events[w])return!1;var x=this._events[w],b=arguments.length,y,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,p),!0;case 5:return x.fn.call(x.context,c,f,p,m),!0;case 6:return x.fn.call(x.context,c,f,p,m,g),!0}for(E=1,y=new Array(b-1);E<b;E++)y[E-1]=arguments[E];x.fn.apply(x.context,y)}else{var N=x.length,A;for(E=0;E<N;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),b){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,c);break;case 3:x[E].fn.call(x[E].context,c,f);break;case 4:x[E].fn.call(x[E].context,c,f,p);break;default:if(!y)for(A=1,y=new Array(b-1);A<b;A++)y[A-1]=arguments[A];x[E].fn.apply(x[E].context,y)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var w=0,x=[],b=g.length;w<b;w++)(g[w].fn!==c||p&&!g[w].once||f&&g[w].context!==f)&&x.push(g[w]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(p$);var bme=p$.exports;const _me=tt(bme);var bv=new _me,_v="recharts.syncMouseEvents";function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m$(r.key),r)}}function Sme(t,e,n){return e&&Eme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xv(t,e,n){return e=m$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m$(t){var e=Tme(t,"string");return mf(e)=="symbol"?e:e+""}function Tme(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ame=function(){function t(){xme(this,t),xv(this,"activeIndex",0),xv(this,"coordinateList",[]),xv(this,"layout","horizontal")}return Sme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,p=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Pme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function Ime(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function g$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Qt(e,n,r,i),s=Qt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Ome(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,p=Qt(s,l,u,f),m=Qt(s,l,c,f);r=p.x,i=p.y,a=m.x,o=m.y}else return g$(e);return[{x:r,y:i},{x:a,y:o}]}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){Cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cme(t,e,n){return e=kme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kme(t){var e=Nme(t,"string");return gf(e)=="symbol"?e:e+""}function Nme(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jme(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var g,w=Fw;if(p==="ScatterChart")g=o,w=jce;else if(p==="BarChart")g=Ime(f,o,l,c),w=ix;else if(f==="radial"){var x=g$(o),b=x.cx,y=x.cy,E=x.radius,N=x.startAngle,A=x.endAngle;g={cx:b,cy:y,startAngle:N,endAngle:A,innerRadius:E,outerRadius:E},w=wM}else g={points:Ome(f,o,l)},w=Fw;var I=Yd(Yd(Yd(Yd({stroke:"#ccc",pointerEvents:"none"},l),g),Re(m,!1)),{},{payload:s,payloadIndex:u,className:Le("recharts-tooltip-cursor",m.className)});return L.isValidElement(m)?L.cloneElement(m,I):L.createElement(w,I)}var Dme=["item"],Rme=["children","className","width","height","style","compact","title","desc"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(this,arguments)}function UO(t,e){return Lme(t)||$me(t,e)||v$(t,e)||Mme()}function Mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $me(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Lme(t){if(Array.isArray(t))return t}function BO(t,e){if(t==null)return{};var n=Vme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ume(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w$(r.key),r)}}function Bme(t,e,n){return e&&Ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zme(t,e,n){return e=hm(e),Wme(t,y$()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function Wme(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qme(t)}function qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function Hme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function Sl(t){return Yme(t)||Kme(t)||v$(t)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$(t,e){if(t){if(typeof t=="string")return vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vb(t,e)}}function Kme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yme(t){if(Array.isArray(t))return vb(t)}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=Xme(t,"string");return El(e)=="symbol"?e:e+""}function Xme(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qme={xAxis:["bottom","top"],yAxis:["left","right"]},Jme={width:"100%",height:"100%"},b$={x:0,y:0};function Xd(t){return t}var Zme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ege=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Y(Y(Y({},i),Qt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Y(Y(Y({},i),Qt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return b$},Wg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Sl(s),Sl(u)):s},[]);return o.length>0?o:e&&e.length&&oe(i)&&oe(a)?e.slice(i,a+1):[]};function _$(t){return t==="number"?[0,"auto"]:void 0}var wb=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Wg(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;p=mp(m,o.dataKey,i)}else p=f&&f[r]||s[r];return p?[].concat(Sl(l),[gM(u,p)]):l},[])},WO=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Zme(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=mse(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,p=wb(e,n,c,f),m=ege(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:p,activeCoordinate:m}}return null},tge=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=e.stackOffset,m=hM(c,a);return r.reduce(function(g,w){var x,b=w.type.defaultProps!==void 0?Y(Y({},w.type.defaultProps),w.props):w.props,y=b.type,E=b.dataKey,N=b.allowDataOverflow,A=b.allowDuplicatedCategory,I=b.scale,S=b.ticks,v=b.includeHidden,T=b[o];if(g[T])return g;var P=Wg(e.data,{graphicalItems:i.filter(function(V){var H,pe=o in V.props?V.props[o]:(H=V.type.defaultProps)===null||H===void 0?void 0:H[o];return pe===T}),dataStartIndex:l,dataEndIndex:u}),O=P.length,j,k,$;Pme(b.domain,N,y)&&(j=Rw(b.domain,null,N),m&&(y==="number"||I!=="auto")&&($=oc(P,E,"category")));var F=_$(y);if(!j||j.length===0){var W,R=(W=b.domain)!==null&&W!==void 0?W:F;if(E){if(j=oc(P,E,y),y==="category"&&m){var B=nH(j);A&&B?(k=j,j=em(0,O)):A||(j=xI(R,j,w).reduce(function(V,H){return V.indexOf(H)>=0?V:[].concat(Sl(V),[H])},[]))}else if(y==="category")A?j=j.filter(function(V){return V!==""&&!Ce(V)}):j=xI(R,j,w).reduce(function(V,H){return V.indexOf(H)>=0||H===""||Ce(H)?V:[].concat(Sl(V),[H])},[]);else if(y==="number"){var M=bse(P,i.filter(function(V){var H,pe,ve=o in V.props?V.props[o]:(H=V.type.defaultProps)===null||H===void 0?void 0:H[o],Ve="hide"in V.props?V.props.hide:(pe=V.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return ve===T&&(v||!Ve)}),E,a,c);M&&(j=M)}m&&(y==="number"||I!=="auto")&&($=oc(P,E,"category"))}else m?j=em(0,O):s&&s[T]&&s[T].hasStack&&y==="number"?j=p==="expand"?[0,1]:mM(s[T].stackGroups,l,u):j=dM(P,i.filter(function(V){var H=o in V.props?V.props[o]:V.type.defaultProps[o],pe="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return H===T&&(v||!pe)}),y,c,!0);if(y==="number")j=gb(f,j,T,a,S),R&&(j=Rw(R,j,N));else if(y==="category"&&R){var X=R,q=j.every(function(V){return X.indexOf(V)>=0});q&&(j=X)}}return Y(Y({},g),{},we({},T,Y(Y({},b),{},{axisType:a,domain:j,categoricalDomain:$,duplicateDomain:k,originalDomain:(x=b.domain)!==null&&x!==void 0?x:F,isCategorical:m,layout:c})))},{})},nge=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=Wg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=p.length,g=hM(c,a),w=-1;return r.reduce(function(x,b){var y=b.type.defaultProps!==void 0?Y(Y({},b.type.defaultProps),b.props):b.props,E=y[o],N=_$("number");if(!x[E]){w++;var A;return g?A=em(0,m):s&&s[E]&&s[E].hasStack?(A=mM(s[E].stackGroups,l,u),A=gb(f,A,E,a)):(A=Rw(N,dM(p,r.filter(function(I){var S,v,T=o in I.props?I.props[o]:(S=I.type.defaultProps)===null||S===void 0?void 0:S[o],P="hide"in I.props?I.props.hide:(v=I.type.defaultProps)===null||v===void 0?void 0:v.hide;return T===E&&!P}),"number",c),i.defaultProps.allowDataOverflow),A=gb(f,A,E,a)),Y(Y({},x),{},we({},E,Y(Y({axisType:a},i.defaultProps),{},{hide:!0,orientation:or(Qme,"".concat(a,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:g,layout:c})))}return x},{})},rge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),p=sr(c,a),m={};return p&&p.length?m=tge(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=nge(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},ige=function(e){var n=na(e),r=hi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:C1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:qp(n,r)}},qO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vn(n,dl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},age=function(e){return!e||!e.length?!1:e.some(function(n){var r=vi(n&&n.type);return r&&r.indexOf("Bar")>=0})},HO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oge=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,p=r.margin||{},m=Vn(f,dl),g=Vn(f,fo),w=Object.keys(l).reduce(function(A,I){var S=l[I],v=S.orientation;return!S.mirror&&!S.hide?Y(Y({},A),{},we({},v,A[v]+S.width)):A},{left:p.left||0,right:p.right||0}),x=Object.keys(o).reduce(function(A,I){var S=o[I],v=S.orientation;return!S.mirror&&!S.hide?Y(Y({},A),{},we({},v,or(A,"".concat(v))+S.height)):A},{top:p.top||0,bottom:p.bottom||0}),b=Y(Y({},x),w),y=b.bottom;m&&(b.bottom+=m.props.height||dl.defaultProps.height),g&&n&&(b=vse(b,i,r,n));var E=u-b.left-b.right,N=c-b.top-b.bottom;return Y(Y({brushBottom:y},b),{},{width:Math.max(E,0),height:Math.max(N,0)})},sge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},x$=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,p=function(b,y){var E=y.graphicalItems,N=y.stackGroups,A=y.offset,I=y.updateId,S=y.dataStartIndex,v=y.dataEndIndex,T=b.barSize,P=b.layout,O=b.barGap,j=b.barCategoryGap,k=b.maxBarSize,$=HO(P),F=$.numericAxisName,W=$.cateAxisName,R=age(E),B=[];return E.forEach(function(M,X){var q=Wg(b.data,{graphicalItems:[M],dataStartIndex:S,dataEndIndex:v}),V=M.type.defaultProps!==void 0?Y(Y({},M.type.defaultProps),M.props):M.props,H=V.dataKey,pe=V.maxBarSize,ve=V["".concat(F,"Id")],Ve=V["".concat(W,"Id")],Be={},ie=l.reduce(function(ue,G){var ee=y["".concat(G.axisType,"Map")],me=V["".concat(G.axisType,"Id")];ee&&ee[me]||G.axisType==="zAxis"||jo();var Ie=ee[me];return Y(Y({},ue),{},we(we({},G.axisType,Ie),"".concat(G.axisType,"Ticks"),hi(Ie)))},Be),J=ie[W],se=ie["".concat(W,"Ticks")],ge=N&&N[ve]&&N[ve].hasStack&&Nse(M,N[ve].stackGroups),te=vi(M.type).indexOf("Bar")>=0,Pe=qp(J,se),xe=[],ze=R&&gse({barSize:T,stackGroups:N,totalSize:sge(ie,W)});if(te){var Je,Tt,Dn=Ce(pe)?k:pe,gn=(Je=(Tt=qp(J,se,!0))!==null&&Tt!==void 0?Tt:Dn)!==null&&Je!==void 0?Je:0;xe=yse({barGap:O,barCategoryGap:j,bandSize:gn!==Pe?gn:Pe,sizeList:ze[Ve],maxBarSize:Dn}),gn!==Pe&&(xe=xe.map(function(ue){return Y(Y({},ue),{},{position:Y(Y({},ue.position),{},{offset:ue.position.offset-gn/2})})}))}var ne=M&&M.type&&M.type.getComposedData;ne&&B.push({props:Y(Y({},ne(Y(Y({},ie),{},{displayedData:q,props:b,dataKey:H,item:M,bandSize:Pe,barPosition:xe,offset:A,stackedData:ge,layout:P,dataStartIndex:S,dataEndIndex:v}))),{},we(we(we({key:M.key||"item-".concat(X)},F,ie[F]),W,ie[W]),"animationId",I)),childIndex:mH(M,b.children),item:M})}),B},m=function(b,y){var E=b.props,N=b.dataStartIndex,A=b.dataEndIndex,I=b.updateId;if(!pA({props:E}))return null;var S=E.children,v=E.layout,T=E.stackOffset,P=E.data,O=E.reverseStackOrder,j=HO(v),k=j.numericAxisName,$=j.cateAxisName,F=sr(S,r),W=Ose(P,F,"".concat(k,"Id"),"".concat($,"Id"),T,O),R=l.reduce(function(V,H){var pe="".concat(H.axisType,"Map");return Y(Y({},V),{},we({},pe,rge(E,Y(Y({},H),{},{graphicalItems:F,stackGroups:H.axisType===k&&W,dataStartIndex:N,dataEndIndex:A}))))},{}),B=oge(Y(Y({},R),{},{props:E,graphicalItems:F}),y==null?void 0:y.legendBBox);Object.keys(R).forEach(function(V){R[V]=c(E,R[V],B,V.replace("Map",""),n)});var M=R["".concat($,"Map")],X=ige(M),q=p(E,Y(Y({},R),{},{dataStartIndex:N,dataEndIndex:A,updateId:I,graphicalItems:F,stackGroups:W,offset:B}));return Y(Y({formattedGraphicalItems:q,graphicalItems:F,offset:B,stackGroups:W},X),R)},g=function(x){function b(y){var E,N,A;return Fme(this,b),A=zme(this,b,[y]),we(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(A,"accessibilityManager",new Ame),we(A,"handleLegendBBoxUpdate",function(I){if(I){var S=A.state,v=S.dataStartIndex,T=S.dataEndIndex,P=S.updateId;A.setState(Y({legendBBox:I},m({props:A.props,dataStartIndex:v,dataEndIndex:T,updateId:P},Y(Y({},A.state),{},{legendBBox:I}))))}}),we(A,"handleReceiveSyncEvent",function(I,S,v){if(A.props.syncId===I){if(v===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(S)}}),we(A,"handleBrushChange",function(I){var S=I.startIndex,v=I.endIndex;if(S!==A.state.dataStartIndex||v!==A.state.dataEndIndex){var T=A.state.updateId;A.setState(function(){return Y({dataStartIndex:S,dataEndIndex:v},m({props:A.props,dataStartIndex:S,dataEndIndex:v,updateId:T},A.state))}),A.triggerSyncEvent({dataStartIndex:S,dataEndIndex:v})}}),we(A,"handleMouseEnter",function(I){var S=A.getMouseInfo(I);if(S){var v=Y(Y({},S),{},{isTooltipActive:!0});A.setState(v),A.triggerSyncEvent(v);var T=A.props.onMouseEnter;Oe(T)&&T(v,I)}}),we(A,"triggeredAfterMouseMove",function(I){var S=A.getMouseInfo(I),v=S?Y(Y({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(v),A.triggerSyncEvent(v);var T=A.props.onMouseMove;Oe(T)&&T(v,I)}),we(A,"handleItemMouseEnter",function(I){A.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),we(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),we(A,"handleMouseMove",function(I){I.persist(),A.throttleTriggeredAfterMouseMove(I)}),we(A,"handleMouseLeave",function(I){A.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var v=A.props.onMouseLeave;Oe(v)&&v(S,I)}),we(A,"handleOuterEvent",function(I){var S=pH(I),v=or(A.props,"".concat(S));if(S&&Oe(v)){var T,P;/.*touch.*/i.test(S)?P=A.getMouseInfo(I.changedTouches[0]):P=A.getMouseInfo(I),v((T=P)!==null&&T!==void 0?T:{},I)}}),we(A,"handleClick",function(I){var S=A.getMouseInfo(I);if(S){var v=Y(Y({},S),{},{isTooltipActive:!0});A.setState(v),A.triggerSyncEvent(v);var T=A.props.onClick;Oe(T)&&T(v,I)}}),we(A,"handleMouseDown",function(I){var S=A.props.onMouseDown;if(Oe(S)){var v=A.getMouseInfo(I);S(v,I)}}),we(A,"handleMouseUp",function(I){var S=A.props.onMouseUp;if(Oe(S)){var v=A.getMouseInfo(I);S(v,I)}}),we(A,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),we(A,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&A.handleMouseDown(I.changedTouches[0])}),we(A,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&A.handleMouseUp(I.changedTouches[0])}),we(A,"handleDoubleClick",function(I){var S=A.props.onDoubleClick;if(Oe(S)){var v=A.getMouseInfo(I);S(v,I)}}),we(A,"handleContextMenu",function(I){var S=A.props.onContextMenu;if(Oe(S)){var v=A.getMouseInfo(I);S(v,I)}}),we(A,"triggerSyncEvent",function(I){A.props.syncId!==void 0&&bv.emit(_v,A.props.syncId,I,A.eventEmitterSymbol)}),we(A,"applySyncEvent",function(I){var S=A.props,v=S.layout,T=S.syncMethod,P=A.state.updateId,O=I.dataStartIndex,j=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)A.setState(Y({dataStartIndex:O,dataEndIndex:j},m({props:A.props,dataStartIndex:O,dataEndIndex:j,updateId:P},A.state)));else if(I.activeTooltipIndex!==void 0){var k=I.chartX,$=I.chartY,F=I.activeTooltipIndex,W=A.state,R=W.offset,B=W.tooltipTicks;if(!R)return;if(typeof T=="function")F=T(B,I);else if(T==="value"){F=-1;for(var M=0;M<B.length;M++)if(B[M].value===I.activeLabel){F=M;break}}var X=Y(Y({},R),{},{x:R.left,y:R.top}),q=Math.min(k,X.x+X.width),V=Math.min($,X.y+X.height),H=B[F]&&B[F].value,pe=wb(A.state,A.props.data,F),ve=B[F]?{x:v==="horizontal"?B[F].coordinate:q,y:v==="horizontal"?V:B[F].coordinate}:b$;A.setState(Y(Y({},I),{},{activeLabel:H,activeCoordinate:ve,activePayload:pe,activeTooltipIndex:F}))}else A.setState(I)}),we(A,"renderCursor",function(I){var S,v=A.state,T=v.isTooltipActive,P=v.activeCoordinate,O=v.activePayload,j=v.offset,k=v.activeTooltipIndex,$=v.tooltipAxisBandSize,F=A.getTooltipEventType(),W=(S=I.props.active)!==null&&S!==void 0?S:T,R=A.props.layout,B=I.key||"_recharts-cursor";return U.createElement(jme,{key:B,activeCoordinate:P,activePayload:O,activeTooltipIndex:k,chartName:n,element:I,isActive:W,layout:R,offset:j,tooltipAxisBandSize:$,tooltipEventType:F})}),we(A,"renderPolarAxis",function(I,S,v){var T=or(I,"type.axisType"),P=or(A.state,"".concat(T,"Map")),O=I.type.defaultProps,j=O!==void 0?Y(Y({},O),I.props):I.props,k=P&&P[j["".concat(T,"Id")]];return L.cloneElement(I,Y(Y({},k),{},{className:Le(T,k.className),key:I.key||"".concat(S,"-").concat(v),ticks:hi(k,!0)}))}),we(A,"renderPolarGrid",function(I){var S=I.props,v=S.radialLines,T=S.polarAngles,P=S.polarRadius,O=A.state,j=O.radiusAxisMap,k=O.angleAxisMap,$=na(j),F=na(k),W=F.cx,R=F.cy,B=F.innerRadius,M=F.outerRadius;return L.cloneElement(I,{polarAngles:Array.isArray(T)?T:hi(F,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(P)?P:hi($,!0).map(function(X){return X.coordinate}),cx:W,cy:R,innerRadius:B,outerRadius:M,key:I.key||"polar-grid",radialLines:v})}),we(A,"renderLegend",function(){var I=A.state.formattedGraphicalItems,S=A.props,v=S.children,T=S.width,P=S.height,O=A.props.margin||{},j=T-(O.left||0)-(O.right||0),k=cM({children:v,formattedGraphicalItems:I,legendWidth:j,legendContent:u});if(!k)return null;var $=k.item,F=BO(k,Dme);return L.cloneElement($,Y(Y({},F),{},{chartWidth:T,chartHeight:P,margin:O,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),we(A,"renderTooltip",function(){var I,S=A.props,v=S.children,T=S.accessibilityLayer,P=Vn(v,wr);if(!P)return null;var O=A.state,j=O.isTooltipActive,k=O.activeCoordinate,$=O.activePayload,F=O.activeLabel,W=O.offset,R=(I=P.props.active)!==null&&I!==void 0?I:j;return L.cloneElement(P,{viewBox:Y(Y({},W),{},{x:W.left,y:W.top}),active:R,label:F,payload:R?$:[],coordinate:k,accessibilityLayer:T})}),we(A,"renderBrush",function(I){var S=A.props,v=S.margin,T=S.data,P=A.state,O=P.offset,j=P.dataStartIndex,k=P.dataEndIndex,$=P.updateId;return L.cloneElement(I,{key:I.key||"_recharts-brush",onChange:qd(A.handleBrushChange,I.props.onChange),data:T,x:oe(I.props.x)?I.props.x:O.left,y:oe(I.props.y)?I.props.y:O.top+O.height+O.brushBottom-(v.bottom||0),width:oe(I.props.width)?I.props.width:O.width,startIndex:j,endIndex:k,updateId:"brush-".concat($)})}),we(A,"renderReferenceElement",function(I,S,v){if(!I)return null;var T=A,P=T.clipPathId,O=A.state,j=O.xAxisMap,k=O.yAxisMap,$=O.offset,F=I.type.defaultProps||{},W=I.props,R=W.xAxisId,B=R===void 0?F.xAxisId:R,M=W.yAxisId,X=M===void 0?F.yAxisId:M;return L.cloneElement(I,{key:I.key||"".concat(S,"-").concat(v),xAxis:j[B],yAxis:k[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:P})}),we(A,"renderActivePoints",function(I){var S=I.item,v=I.activePoint,T=I.basePoint,P=I.childIndex,O=I.isRange,j=[],k=S.props.key,$=S.item.type.defaultProps!==void 0?Y(Y({},S.item.type.defaultProps),S.item.props):S.item.props,F=$.activeDot,W=$.dataKey,R=Y(Y({index:P,dataKey:W,cx:v.x,cy:v.y,r:4,fill:rx(S.item),strokeWidth:2,stroke:"#fff",payload:v.payload,value:v.value},Re(F,!1)),gp(F));return j.push(b.renderActiveDot(F,R,"".concat(k,"-activePoint-").concat(P))),T?j.push(b.renderActiveDot(F,Y(Y({},R),{},{cx:T.x,cy:T.y}),"".concat(k,"-basePoint-").concat(P))):O&&j.push(null),j}),we(A,"renderGraphicChild",function(I,S,v){var T=A.filterFormatItem(I,S,v);if(!T)return null;var P=A.getTooltipEventType(),O=A.state,j=O.isTooltipActive,k=O.tooltipAxis,$=O.activeTooltipIndex,F=O.activeLabel,W=A.props.children,R=Vn(W,wr),B=T.props,M=B.points,X=B.isRange,q=B.baseLine,V=T.item.type.defaultProps!==void 0?Y(Y({},T.item.type.defaultProps),T.item.props):T.item.props,H=V.activeDot,pe=V.hide,ve=V.activeBar,Ve=V.activeShape,Be=!!(!pe&&j&&R&&(H||ve||Ve)),ie={};P!=="axis"&&R&&R.props.trigger==="click"?ie={onClick:qd(A.handleItemMouseEnter,I.props.onClick)}:P!=="axis"&&(ie={onMouseLeave:qd(A.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:qd(A.handleItemMouseEnter,I.props.onMouseEnter)});var J=L.cloneElement(I,Y(Y({},T.props),ie));function se(G){return typeof k.dataKey=="function"?k.dataKey(G.payload):null}if(Be)if($>=0){var ge,te;if(k.dataKey&&!k.allowDuplicatedCategory){var Pe=typeof k.dataKey=="function"?se:"payload.".concat(k.dataKey.toString());ge=mp(M,Pe,F),te=X&&q&&mp(q,Pe,F)}else ge=M==null?void 0:M[$],te=X&&q&&q[$];if(Ve||ve){var xe=I.props.activeIndex!==void 0?I.props.activeIndex:$;return[L.cloneElement(I,Y(Y(Y({},T.props),ie),{},{activeIndex:xe})),null,null]}if(!Ce(ge))return[J].concat(Sl(A.renderActivePoints({item:T,activePoint:ge,basePoint:te,childIndex:$,isRange:X})))}else{var ze,Je=(ze=A.getItemByXY(A.state.activeCoordinate))!==null&&ze!==void 0?ze:{graphicalItem:J},Tt=Je.graphicalItem,Dn=Tt.item,gn=Dn===void 0?I:Dn,ne=Tt.childIndex,ue=Y(Y(Y({},T.props),ie),{},{activeIndex:ne});return[L.cloneElement(gn,ue),null,null]}return X?[J,null,null]:[J,null]}),we(A,"renderCustomized",function(I,S,v){return L.cloneElement(I,Y(Y({key:"recharts-customized-".concat(v)},A.props),A.state))}),we(A,"renderMap",{CartesianGrid:{handler:Xd,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Xd},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Xd},YAxis:{handler:Xd},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((E=y.id)!==null&&E!==void 0?E:Uf("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=cR(A.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Hme(b,x),Bme(b,[{key:"componentDidMount",value:function(){var E,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,N=E.children,A=E.data,I=E.height,S=E.layout,v=Vn(N,wr);if(v){var T=v.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,O=wb(this.state,A,T,P),j=this.state.tooltipTicks[T].coordinate,k=(this.state.offset.top+I)/2,$=S==="horizontal",F=$?{x:j,y:k}:{y:j,x:k},W=this.state.formattedGraphicalItems.find(function(B){var M=B.item;return M.type.name==="Scatter"});W&&(F=Y(Y({},F),W.props.points[T].tooltipPosition),O=W.props.points[T].tooltipPayload);var R={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:F};this.setState(R),this.renderCursor(v),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var A,I;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(E){X0([Vn(E.children,wr)],[Vn(this.props.children,wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Vn(this.props.children,wr);if(E&&typeof E.props.shared=="boolean"){var N=E.props.shared?"axis":"item";return s.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),I=Une(A),S={chartX:Math.round(E.pageX-I.left),chartY:Math.round(E.pageY-I.top)},v=A.width/N.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,v);if(!T)return null;var P=this.state,O=P.xAxisMap,j=P.yAxisMap,k=this.getTooltipEventType(),$=WO(this.state,this.props.data,this.props.layout,T);if(k!=="axis"&&O&&j){var F=na(O).scale,W=na(j).scale,R=F&&F.invert?F.invert(S.chartX):null,B=W&&W.invert?W.invert(S.chartY):null;return Y(Y({},S),{},{xValue:R,yValue:B},$)}return $?Y(Y({},S),$):null}},{key:"inRange",value:function(E,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,S=E/A,v=N/A;if(I==="horizontal"||I==="vertical"){var T=this.state.offset,P=S>=T.left&&S<=T.left+T.width&&v>=T.top&&v<=T.top+T.height;return P?{x:S,y:v}:null}var O=this.state,j=O.angleAxisMap,k=O.radiusAxisMap;if(j&&k){var $=na(j);return TI({x:S,y:v},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,N=this.getTooltipEventType(),A=Vn(E,wr),I={};A&&N==="axis"&&(A.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=gp(this.props,this.handleOuterEvent);return Y(Y({},S),I)}},{key:"addListener",value:function(){bv.on(_v,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bv.removeListener(_v,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,N,A){for(var I=this.state.formattedGraphicalItems,S=0,v=I.length;S<v;S++){var T=I[S];if(T.item===E||T.props.key===E.key||N===vi(T.item.type)&&A===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,N=this.state.offset,A=N.left,I=N.top,S=N.height,v=N.width;return U.createElement("defs",null,U.createElement("clipPath",{id:E},U.createElement("rect",{x:A,y:I,height:S,width:v})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(N,A){var I=UO(A,2),S=I[0],v=I[1];return Y(Y({},N),{},we({},S,v.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(N,A){var I=UO(A,2),S=I[0],v=I[1];return Y(Y({},N),{},we({},S,v.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[E])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(E){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[E])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(E){var N=this.state,A=N.formattedGraphicalItems,I=N.activeItem;if(A&&A.length)for(var S=0,v=A.length;S<v;S++){var T=A[S],P=T.props,O=T.item,j=O.type.defaultProps!==void 0?Y(Y({},O.type.defaultProps),O.props):O.props,k=vi(O.type);if(k==="Bar"){var $=(P.data||[]).find(function(B){return Ece(E,B)});if($)return{graphicalItem:T,payload:$}}else if(k==="RadialBar"){var F=(P.data||[]).find(function(B){return TI(E,B)});if(F)return{graphicalItem:T,payload:F}}else if($g(T,I)||Lg(T,I)||cf(T,I)){var W=Afe({graphicalItem:T,activeTooltipItem:I,itemData:j.data}),R=j.activeIndex===void 0?W:j.activeIndex;return{graphicalItem:Y(Y({},T),{},{childIndex:R}),payload:cf(T,I)?j.data[W]:T.props.data[W]}}}return null}},{key:"render",value:function(){var E=this;if(!pA(this))return null;var N=this.props,A=N.children,I=N.className,S=N.width,v=N.height,T=N.style,P=N.compact,O=N.title,j=N.desc,k=BO(N,Rme),$=Re(k,!1);if(P)return U.createElement(EO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(J0,xs({},$,{width:S,height:v,title:O,desc:j}),this.renderClipPath(),gA(A,this.renderMap)));if(this.props.accessibilityLayer){var F,W;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(W=this.props.role)!==null&&W!==void 0?W:"application",$.onKeyDown=function(B){E.accessibilityManager.keyboardEvent(B)},$.onFocus=function(){E.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return U.createElement(EO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",xs({className:Le("recharts-wrapper",I),style:Y({position:"relative",cursor:"default",width:S,height:v},T)},R,{ref:function(M){E.container=M}}),U.createElement(J0,xs({},$,{width:S,height:v,title:O,desc:j,style:Jme}),this.renderClipPath(),gA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);we(g,"displayName",n),we(g,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,E=x.data,N=x.children,A=x.width,I=x.height,S=x.layout,v=x.stackOffset,T=x.margin,P=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var j=qO(x);return Y(Y(Y({},j),{},{updateId:0},m(Y(Y({props:x},j),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:E,prevWidth:A,prevHeight:I,prevLayout:S,prevStackOffset:v,prevMargin:T,prevChildren:N})}if(y!==b.prevDataKey||E!==b.prevData||A!==b.prevWidth||I!==b.prevHeight||S!==b.prevLayout||v!==b.prevStackOffset||!js(T,b.prevMargin)){var k=qO(x),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=Y(Y({},WO(b,E,S)),{},{updateId:b.updateId+1}),W=Y(Y(Y({},k),$),F);return Y(Y(Y({},W),m(Y({props:x},W),b)),{},{prevDataKey:y,prevData:E,prevWidth:A,prevHeight:I,prevLayout:S,prevStackOffset:v,prevMargin:T,prevChildren:N})}if(!X0(N,b.prevChildren)){var R,B,M,X,q=Vn(N,dl),V=q&&(R=(B=q.props)===null||B===void 0?void 0:B.startIndex)!==null&&R!==void 0?R:P,H=q&&(M=(X=q.props)===null||X===void 0?void 0:X.endIndex)!==null&&M!==void 0?M:O,pe=V!==P||H!==O,ve=!Ce(E),Ve=ve&&!pe?b.updateId:b.updateId+1;return Y(Y({updateId:Ve},m(Y(Y({props:x},b),{},{updateId:Ve,dataStartIndex:V,dataEndIndex:H}),b)),{},{prevChildren:N,dataStartIndex:V,dataEndIndex:H})}return null}),we(g,"renderActiveDot",function(x,b,y){var E;return L.isValidElement(x)?E=L.cloneElement(x,b):Oe(x)?E=x(b):E=U.createElement(ax,b),U.createElement(St,{className:"recharts-active-dot",key:y},E)});var w=L.forwardRef(function(b,y){return U.createElement(g,xs({},b,{ref:y}))});return w.displayName=g.displayName,w},lge=x$({chartName:"LineChart",GraphicalChild:mo,axisComponents:[{axisType:"xAxis",AxisComp:bl},{axisType:"yAxis",AxisComp:xl}],formatAxisMap:FM}),GO=x$({chartName:"BarChart",GraphicalChild:zo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bl},{axisType:"yAxis",AxisComp:xl}],formatAxisMap:FM});function uge({transactions:t=[],categories:e=[],budgets:n=[],currency:r="USD"}){const[i,a]=L.useState("last30days"),[o,s]=L.useState("all"),[l,u]=L.useState("category"),[c,f]=L.useState(!0),p=Tn.find(v=>v.code===r),m=v=>v.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),g=v=>{const T=new Date;switch(v){case"last7days":return{start:new Date(T.getTime()-7*24*60*60*1e3),end:T};case"last30days":return{start:new Date(T.getTime()-30*24*60*60*1e3),end:T};case"last90days":return{start:new Date(T.getTime()-90*24*60*60*1e3),end:T};case"thisMonth":return{start:new Date(T.getFullYear(),T.getMonth(),1),end:T};case"lastMonth":{const P=new Date(T.getFullYear(),T.getMonth()-1,1),O=new Date(T.getFullYear(),T.getMonth(),0);return{start:P,end:O}}case"last3Months":return{start:new Date(T.getFullYear(),T.getMonth()-2,1),end:T};case"last6Months":return{start:new Date(T.getFullYear(),T.getMonth()-5,1),end:T};case"thisYear":return{start:new Date(T.getFullYear(),0,1),end:T};case"lastYear":{const P=T.getFullYear()-1;return{start:new Date(P,0,1),end:new Date(P,11,31)}}case"all":return{start:new Date(0),end:T};default:return{start:new Date(T.getTime()-30*24*60*60*1e3),end:T}}},w=v=>{const{start:T,end:P}=g(v);return Math.max(1,Math.ceil((P-T)/(1e3*60*60*24)))},x=L.useMemo(()=>{if(!t||!Array.isArray(t))return[];const{start:v,end:T}=g(i);return t.filter(P=>{const O=new Date(P.date);return O>=v&&O<=T&&(o==="all"||P.categoryId===o)})},[t,i,o]),b=L.useMemo(()=>{const v=x.filter(M=>M.type==="expense"),T=x.filter(M=>M.type==="income"),P=v.reduce((M,X)=>M+X.amount,0),O=T.reduce((M,X)=>M+X.amount,0),j=O-P,k={};v.forEach(M=>{const X=e&&e.find?e.find(V=>V.id===M.categoryId):null,q=X?X.name:"Other";k[q]=(k[q]||0)+M.amount});const $={};v.forEach(M=>{const X=M.date;$[X]=($[X]||0)+M.amount});const F=Object.entries(k).sort(([,M],[,X])=>X-M).map(([M,X])=>{const q=e&&e.find?e.find(V=>V.name===M):null;return{name:M,amount:X,percentage:P>0?X/P*100:0,color:(q==null?void 0:q.color)||"#6b7280"}}),W=w(i),R=P/W,B=v.length/W;return{totalExpenses:P,totalIncome:O,netAmount:j,categoryTotals:k,dailySpending:$,topCategories:F,avgDailySpending:R,transactionVelocity:B,expenseCount:v.length,incomeCount:T.length}},[x,e,i]),y=L.useMemo(()=>{const v=b.topCategories.map(j=>({name:j.name,value:j.amount,color:j.color})),T=new Date,O=pz({start:eA(el(T),5),end:Zs(T)}).map(j=>{const k=el(j),$=Zs(j),F=t.filter(B=>{const M=new Date(B.date);return M>=k&&M<=$}),W=F.filter(B=>B.type==="income").reduce((B,M)=>B+M.amount,0),R=F.filter(B=>B.type==="expense").reduce((B,M)=>B+M.amount,0);return{month:Dc(j,"MMM yyyy"),income:W,expenses:R,balance:W-R}});return{expensesByCategory:v,monthlyTrend:O}},[b.topCategories,t]),N=(()=>{const v=[];if(b.netAmount<0?v.push({type:"warning",icon:km,title:"Spending Alert",message:`You're spending ${p==null?void 0:p.symbol} ${Math.abs(b.netAmount).toFixed(2)} more than you earn this ${i}.`}):b.netAmount>0&&v.push({type:"success",icon:_o,title:"Great Job!",message:`You saved ${p==null?void 0:p.symbol} ${b.netAmount.toFixed(2)} this ${i}.`}),b.topCategories.length>0){const T=b.topCategories[0];T.percentage>40&&v.push({type:"info",icon:uh,title:"Category Focus",message:`${T.name} accounts for ${T.percentage.toFixed(1)}% of your spending. Consider if this aligns with your priorities.`})}return b.avgDailySpending>0&&v.push({type:"info",icon:tr,title:"Daily Average",message:`You spend an average of ${p==null?void 0:p.symbol} ${b.avgDailySpending.toFixed(2)} per day.`}),v})(),A=()=>{const T={title:"Financial Insights & Reports",period:{last7days:"Last 7 Days",last30days:"Last 30 Days",last90days:"Last 90 Days",thisMonth:"This Month",lastMonth:"Last Month",last3Months:"Last 3 Months",last6Months:"Last 6 Months",thisYear:"This Year",lastYear:"Last Year",all:"All Time"}[i]||i,generatedAt:new Date().toISOString(),currency:r,summary:{totalIncome:b.totalIncome,totalExpenses:b.totalExpenses,netAmount:b.netAmount,transactionCount:x.length,expenseCount:b.expenseCount,incomeCount:b.incomeCount,avgDailySpending:b.avgDailySpending,transactionVelocity:b.transactionVelocity},categoryBreakdown:b.topCategories,spendingTips:N,transactions:x},P=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),O=URL.createObjectURL(P),j=document.createElement("a");j.href=O,j.download=`financial-insights-${i}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(O)},I=({data:v})=>{const T=Math.max(...v.map(P=>P.amount));return h.jsx("div",{className:"category-chart",children:v.map((P,O)=>h.jsx("div",{className:"chart-item",children:h.jsxs("div",{className:"chart-bar-container",children:[h.jsxs("div",{className:"chart-label",children:[h.jsx("div",{className:"category-indicator",style:{backgroundColor:P.color}}),h.jsx("span",{className:"category-name",children:P.name}),h.jsxs("span",{className:"category-percentage",children:[P.percentage.toFixed(1),"%"]})]}),h.jsx("div",{className:"chart-bar-track",children:h.jsx("div",{className:"chart-bar-fill",style:{width:`${P.amount/T*100}%`,backgroundColor:P.color}})}),h.jsxs("span",{className:"chart-amount",children:[p==null?void 0:p.symbol,P.amount.toFixed(2)]})]})},O))})},S=({data:v})=>{const[T,P]=L.useState(null),O=Object.entries(v).sort(([k],[$])=>k.localeCompare($)).slice(-14),j=Math.max(...O.map(([,k])=>k));return h.jsx("div",{className:"daily-chart",children:h.jsx("div",{className:"chart-grid",children:O.map(([k,$],F)=>{const W=new Date(k),R=W.toLocaleDateString("en",{weekday:"short"}),B=W.getDate();return h.jsxs("div",{className:"daily-bar-container",onMouseEnter:()=>P(F),onMouseLeave:()=>P(null),children:[h.jsx("div",{className:"daily-bar",style:{height:`${j>0?$/j*100:0}%`}}),T===F&&h.jsxs("div",{className:"daily-tooltip tooltip-below",children:[p==null?void 0:p.symbol,$.toFixed(2)]}),h.jsxs("div",{className:"daily-label",children:[h.jsx("div",{className:"day-name",children:R}),h.jsx("div",{className:"day-num",children:B})]})]},F)})})})};return h.jsxs("div",{className:"spending-insights",children:[h.jsx("div",{className:"insights-header",children:h.jsx("div",{className:"header-left",children:h.jsx("h2",{children:"Insights"})})}),h.jsxs("div",{className:"insights-controls",children:[h.jsxs("div",{className:"controls-left",children:[h.jsxs("div",{className:"control-group",children:[h.jsx("label",{children:"Period:"}),h.jsxs("select",{value:i,onChange:v=>a(v.target.value),className:"period-select",children:[h.jsx("option",{value:"last7days",children:"Last 7 Days"}),h.jsx("option",{value:"last30days",children:"Last 30 Days"}),h.jsx("option",{value:"last90days",children:"Last 90 Days"}),h.jsx("option",{value:"thisMonth",children:"This Month"}),h.jsx("option",{value:"lastMonth",children:"Last Month"}),h.jsx("option",{value:"last3Months",children:"Last 3 Months"}),h.jsx("option",{value:"last6Months",children:"Last 6 Months"}),h.jsx("option",{value:"thisYear",children:"This Year"}),h.jsx("option",{value:"lastYear",children:"Last Year"}),h.jsx("option",{value:"all",children:"All Time"})]})]}),h.jsxs("div",{className:"control-group",children:[h.jsx("label",{children:"Category:"}),h.jsxs("select",{value:o,onChange:v=>s(v.target.value),className:"category-select",children:[h.jsx("option",{value:"all",children:"All Categories"}),e&&e.filter?e.filter(v=>v.type==="expense").map(v=>h.jsx("option",{value:v.id,children:v.name},v.id)):[]]})]})]}),h.jsx("div",{className:"controls-right",children:h.jsxs("button",{onClick:A,className:"export-button",title:"Export detailed financial report",children:[h.jsx(SV,{size:16}),"Export Report"]})})]}),h.jsx("div",{className:"summary-stats",children:h.jsxs("div",{className:"stats-grid",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(Cm,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Most Expensive Day"}),h.jsx("div",{className:"stat-value",children:Object.entries(b.dailySpending).length>0?(()=>{const[v,T]=Object.entries(b.dailySpending).sort(([,P],[,O])=>O-P)[0];return`${p==null?void 0:p.symbol} ${T.toFixed(2)}`})():"No data"}),h.jsx("div",{className:"stat-detail",children:Object.entries(b.dailySpending).length>0?(()=>{const[v]=Object.entries(b.dailySpending).sort(([,T],[,P])=>P-T)[0];return new Date(v).toLocaleDateString()})():""})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(IV,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Top Spending Category"}),h.jsx("div",{className:"stat-value",children:Object.keys(b.categoryTotals).length>0?(()=>{const v=Object.entries(b.categoryTotals).sort(([,T],[,P])=>P-T)[0];return`${p==null?void 0:p.symbol} ${v[1].toFixed(2)}`})():"No data"}),h.jsx("div",{className:"stat-detail",children:Object.keys(b.categoryTotals).length>0?Object.entries(b.categoryTotals).sort(([,T],[,P])=>P-T)[0][0]:""})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(_o,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Largest Expense"}),h.jsx("div",{className:"stat-value",children:x.filter(v=>v.type==="expense").length>0?(()=>{const v=x.filter(T=>T.type==="expense").reduce((T,P)=>P.amount>T.amount?P:T);return`${p==null?void 0:p.symbol} ${v.amount.toFixed(2)}`})():"No data"}),h.jsx("div",{className:"stat-detail",children:x.filter(v=>v.type==="expense").length>0?x.filter(T=>T.type==="expense").reduce((T,P)=>P.amount>T.amount?P:T).description:""})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(GO,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Average Daily Spending"}),h.jsx("div",{className:"stat-value",children:x.filter(v=>v.type==="expense").length>0?(()=>{const v=x.filter(j=>j.type==="expense"),T=v.reduce((j,k)=>j+k.amount,0),P=new Set(v.map(j=>new Date(j.date).toDateString())).size,O=P>0?T/P:0;return`${p==null?void 0:p.symbol} ${O.toFixed(2)}`})():"No data"}),h.jsx("div",{className:"stat-detail",children:"per day average"})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(Dy,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Monthly Growth"}),h.jsx("div",{className:"stat-value",children:(()=>{const v=new Date,T=eA(v,1),P=t.filter($=>$.type==="expense"&&new Date($.date).getMonth()===v.getMonth()&&new Date($.date).getFullYear()===v.getFullYear()).reduce(($,F)=>$+F.amount,0),O=t.filter($=>$.type==="expense"&&new Date($.date).getMonth()===T.getMonth()&&new Date($.date).getFullYear()===T.getFullYear()).reduce(($,F)=>$+F.amount,0);if(O===0)return"No data";const j=(P-O)/O*100;return`${j>=0?"+":""}${j.toFixed(1)}%`})()}),h.jsx("div",{className:"stat-detail",children:"vs last month"})]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("div",{className:"stat-icon",children:h.jsx(g0,{size:24})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-label",children:"Most Active Day"}),h.jsx("div",{className:"stat-value",children:x.length>0?(()=>{const v={},T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];x.forEach(O=>{const j=new Date(O.date).getDay(),k=T[j];v[k]=(v[k]||0)+1});const P=Object.entries(v).sort(([,O],[,j])=>j-O)[0];return P?P[0]:"No data"})():"No data"}),h.jsx("div",{className:"stat-detail",children:x.length>0?(()=>{const v={},T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];x.forEach(O=>{const j=new Date(O.date).getDay(),k=T[j];v[k]=(v[k]||0)+1});const P=Object.entries(v).sort(([,O],[,j])=>j-O)[0];return P?`${P[1]} transactions`:""})():""})]})]})]})}),c&&N.length>0&&h.jsxs("div",{className:"tips-section",children:[h.jsx("div",{className:"tips-header",children:h.jsxs("h3",{children:[h.jsx(CV,{size:20}),"Insights & Tips"]})}),h.jsx("div",{className:"tips-grid",children:N.map((v,T)=>{const P=v.icon;return h.jsxs("div",{className:`tip-card ${v.type}`,children:[h.jsx("div",{className:"tip-icon",children:h.jsx(P,{size:20})}),h.jsxs("div",{className:"tip-content",children:[h.jsx("h4",{children:v.title}),h.jsx("p",{children:v.message})]})]},T)})})]}),!c&&h.jsxs("button",{onClick:()=>f(!0),className:"show-tips-button",children:[h.jsx(Ku,{size:16}),"Show Insights & Tips"]}),h.jsxs("div",{className:"charts-grid",children:[y.expensesByCategory.length>0&&h.jsxs("div",{className:"chart-card",children:[h.jsx("h3",{children:"Expenses by Category"}),h.jsx(hP,{width:"100%",height:400,children:h.jsxs(GO,{data:y.expensesByCategory,margin:{top:20,right:30,left:80,bottom:80},children:[h.jsx(lb,{strokeDasharray:"3 3"}),h.jsx(bl,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0}),h.jsx(xl,{tickFormatter:v=>`${p==null?void 0:p.symbol}${m(v)}`}),h.jsx(wr,{formatter:v=>[`${p==null?void 0:p.symbol} ${m(v)}`,"Amount"],labelFormatter:v=>`Category: ${v}`}),h.jsx(zo,{dataKey:"value",children:y.expensesByCategory.map((v,T)=>h.jsx(N1,{fill:v.color},`cell-${T}`))})]})})]}),y.monthlyTrend.length>0&&h.jsxs("div",{className:"chart-card",children:[h.jsx("h3",{children:"6-Month Trend"}),h.jsx(hP,{width:"100%",height:300,children:h.jsxs(lge,{data:y.monthlyTrend,children:[h.jsx(lb,{strokeDasharray:"3 3"}),h.jsx(bl,{dataKey:"month"}),h.jsx(xl,{}),h.jsx(wr,{formatter:v=>`${p==null?void 0:p.symbol} ${m(v)}`}),h.jsx(fo,{}),h.jsx(mo,{type:"monotone",dataKey:"income",stroke:"#10b981",strokeWidth:2}),h.jsx(mo,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:2}),h.jsx(mo,{type:"monotone",dataKey:"balance",stroke:"#3b82f6",strokeWidth:2})]})})]})]}),h.jsxs("div",{className:"charts-grid",children:[h.jsxs("div",{className:"chart-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("h3",{children:[h.jsx(uh,{size:20}),"Top Categories"]}),h.jsxs("div",{className:"chart-info",children:[h.jsx(v0,{size:16}),h.jsx("span",{children:"Based on total spending"})]})]}),b.topCategories.length>0?h.jsx(I,{data:b.topCategories}):h.jsxs("div",{className:"empty-chart",children:[h.jsx(uh,{size:48}),h.jsx("p",{children:"No expenses found for this period"})]})]}),h.jsxs("div",{className:"chart-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("h3",{children:[h.jsx(Dy,{size:20}),"Daily Spending Trend"]}),h.jsxs("div",{className:"chart-info",children:[h.jsx(v0,{size:16}),h.jsx("span",{children:"Last 14 days"})]})]}),Object.keys(b.dailySpending).length>0?h.jsx(S,{data:b.dailySpending}):h.jsxs("div",{className:"empty-chart",children:[h.jsx(Dy,{size:48}),h.jsx("p",{children:"No daily spending data available"})]})]})]})]})}const mx=({isOpen:t,onClose:e,title:n,children:r,type:i="info",showCloseButton:a=!0})=>{if(L.useEffect(()=>{const l=u=>{u.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[t,e]),!t)return null;const o=()=>{switch(i){case"success":return h.jsx(Gu,{className:"icon success"});case"error":return h.jsx(hn,{className:"icon error"});case"warning":return h.jsx(hn,{className:"icon warning"});case"confirm":return h.jsx(OV,{className:"icon confirm"});default:return h.jsx(v0,{className:"icon info"})}},s=l=>{l.target===l.currentTarget&&e()};return h.jsx("div",{className:"modal-overlay",onClick:s,children:h.jsxs("div",{className:`modal-content ${i}`,children:[h.jsxs("div",{className:"modal-header",children:[h.jsxs("div",{className:"modal-title-section",children:[o(),h.jsx("h3",{className:"modal-title",children:n})]}),a&&h.jsx("button",{className:"modal-close-btn",onClick:e,children:h.jsx(xo,{size:20})})]}),h.jsx("div",{className:"modal-body",children:r})]})})},cge=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmText:a="Confirm",cancelText:o="Cancel",type:s="confirm",isDestructive:l=!1})=>{const u=()=>{n(),e()};return h.jsx(mx,{isOpen:t,onClose:e,title:r,type:s,showCloseButton:!1,children:h.jsxs("div",{className:"confirm-content",children:[h.jsx("p",{className:"confirm-message",children:i}),h.jsxs("div",{className:"confirm-actions",children:[h.jsx("button",{className:"btn btn-secondary",onClick:e,children:o}),h.jsx("button",{className:`btn ${l?"btn-danger":"btn-primary"}`,onClick:u,children:a})]})]})})},ii=(t,e=2)=>{const n=Math.round(t*100)/100;if(n>=1e6){const r=n/1e6;return r%1===0?r+"M":r.toFixed(1)+"M"}if(n>=1e3){const r=n/1e3;return r%1===0?r+"k":r.toFixed(1)+"k"}return n%1===0?n.toString():n.toFixed(e).replace(/\.?0+$/,"")};function fge({goals:t,transactions:e,currency:n,categories:r,onAdd:i,onUpdate:a,onDelete:o,onAddTransaction:s}){const[l,u]=L.useState(!1),[c,f]=L.useState(null),p=L.useRef(null),[m,g]=L.useState(!1),[w,x]=L.useState(null),[b,y]=L.useState(""),[E,N]=L.useState(!0),[A,I]=L.useState(5),[S,v]=L.useState(!1),[T,P]=L.useState([]),[O,j]=L.useState({name:"",description:"",targetAmount:"",currentAmount:"",targetDate:"",category:"savings",priority:"medium",isActive:!0,notes:""}),[k,$]=L.useState({}),[F,W]=L.useState(!1),[R,B]=L.useState({}),M=Tn.find(G=>G.code===n);L.useEffect(()=>{c&&j({name:c.name,description:c.description||"",targetAmount:c.targetAmount.toString(),currentAmount:c.currentAmount.toString(),targetDate:c.targetDate,category:c.category,priority:c.priority,isActive:c.isActive,notes:c.notes||""})},[c]);const X=(G,ee)=>{const me={...k};switch(G){case"name":ee.trim()?ee.trim().length<2?me.name="Goal name must be at least 2 characters":ee.trim().length>100?me.name="Goal name must be less than 100 characters":delete me.name:me.name="Goal name is required";break;case"targetAmount":ee?isNaN(ee)||parseFloat(ee)<=0?me.targetAmount="Target amount must be a positive number":parseFloat(ee)>999999999e-2?me.targetAmount="Target amount must be less than 10,000,000":delete me.targetAmount:me.targetAmount="Target amount is required";break;case"currentAmount":ee&&(isNaN(ee)||parseFloat(ee)<0)?me.currentAmount="Current amount must be a positive number":ee&&parseFloat(ee)>999999999e-2?me.currentAmount="Current amount must be less than 10,000,000":delete me.currentAmount;break;case"targetDate":ee?new Date(ee)<=new Date?me.targetDate="Target date must be in the future":delete me.targetDate:me.targetDate="Target date is required";break}return $(me),Object.keys(me).length===0},q=()=>{const G=O.name.trim()!==""&&O.targetAmount.trim()!==""&&O.targetDate!=="",ee=Object.keys(k).length===0;return G&&ee&&!F},V=async G=>{if(G.preventDefault(),!q()){const ee={};["name","targetAmount","currentAmount","targetDate"].forEach(me=>ee[me]=!0),B(ee);return}W(!0);try{if(c){const ee={...O,targetAmount:parseFloat(O.targetAmount),currentAmount:parseFloat(O.currentAmount)||0,id:c.id};await a(ee)}else{const ee={...O,targetAmount:parseFloat(O.targetAmount),currentAmount:parseFloat(O.currentAmount)||0};await i(ee)}ve()}catch(ee){console.error("Error submitting goal:",ee)}finally{W(!1)}},H=G=>{const{name:ee,value:me,type:Ie,checked:ce}=G.target,Ee=Ie==="checkbox"?ce:me;j(Ye=>({...Ye,[ee]:Ee})),k[ee]&&$(Ye=>{const yn={...Ye};return delete yn[ee],yn})},pe=G=>{const{name:ee,value:me}=G.target;B(Ie=>({...Ie,[ee]:!0})),X(ee,me)},ve=()=>{j({name:"",description:"",targetAmount:"",currentAmount:"",targetDate:"",category:"savings",priority:"medium",isActive:!0,notes:""}),$({}),B({}),f(null),u(!1)},Ve=()=>{setTimeout(()=>{p.current&&p.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},Be=()=>{u(!0),Ve()},ie=G=>{f(G),u(!0),Ve()},J=G=>{o(G.id)},se=G=>{const ee={...G,isManuallyCompleted:!0,completedDate:new Date().toISOString().split("T")[0]};a(ee)},ge=G=>{x(G),y(""),g(!0)},te=G=>{G.preventDefault();const ee=parseFloat(b);if(ee<=0||isNaN(ee)){alert("Please enter a valid contribution amount");return}const me={...w,currentAmount:w.currentAmount+ee,lastContribution:new Date().toISOString().split("T")[0],contributionHistory:[...w.contributionHistory||[],{amount:ee,date:new Date().toISOString().split("T")[0],id:Date.now().toString()+Math.random().toString(36).substr(2,9)}]},Ie=r.find(Ye=>Ye.name==="Savings"),ce=Ie?Ie.id:"1",Ee={amount:ee,description:`Contribution to ${w.name}`,categoryId:ce,subcategory:`Goal: ${w.name}`,date:new Date().toISOString().split("T")[0],type:"expense",isGoalContribution:!0,goalId:w.id};a(me),s(Ee),g(!1),x(null),y("")},Pe=G=>{const ee=G.currentAmount/G.targetAmount*100,me=G.targetAmount-G.currentAmount,Ie=new Date(G.targetDate),Ee=Math.ceil((Ie-new Date)/(1e3*60*60*24)),Ye=Ee<0,yn=ee>=100||G.isManuallyCompleted,Yl=Math.max(1,Math.ceil(Ee/30)),qg=me/Yl;let hr="on-track";return yn?hr="completed":Ye?hr="overdue":Ee<=30?hr="urgent":ee<25&&Ee<=90&&(hr="behind"),{progress:Math.min(ee,100),remaining:me,daysRemaining:Ee,monthsRemaining:Yl,requiredMonthlySavings:Math.max(0,qg),isOverdue:Ye,isCompleted:yn,isTargetReached:ee>=100,canBeCompleted:ee>=100&&!G.isManuallyCompleted,status:hr}},xe=G=>{switch(G){case"high":return{icon:zV,color:"#ef4444",label:"High Priority"};case"medium":return{icon:tr,color:"#f59e0b",label:"Medium Priority"};case"low":return{icon:g0,color:"#6b7280",label:"Low Priority"};default:return{icon:tr,color:"#6b7280",label:"Medium Priority"}}},ze=G=>{switch(G){case"completed":return{icon:Gu,color:"#10b981",label:"Completed"};case"overdue":return{icon:Wh,color:"#ef4444",label:"Overdue"};case"urgent":return{icon:g0,color:"#f59e0b",label:"Urgent"};case"behind":return{icon:km,color:"#f97316",label:"Behind Schedule"};case"on-track":return{icon:_o,color:"#10b981",label:"On Track"};default:return{icon:tr,color:"#6b7280",label:"Active"}}},Je=[{value:"savings",label:"💰 General Savings"},{value:"emergency",label:"🚨 Emergency Fund"},{value:"vacation",label:"✈️ Vacation"},{value:"house",label:"🏠 House/Property"},{value:"car",label:"🚗 Vehicle"},{value:"education",label:"🎓 Education"},{value:"retirement",label:"👴 Retirement"},{value:"investment",label:"📈 Investment"},{value:"debt",label:"💳 Debt Payoff"},{value:"other",label:"🎯 Other"}],Tt=[{value:"high",label:"High Priority"},{value:"medium",label:"Medium Priority"},{value:"low",label:"Low Priority"}],gn=[...t.filter(G=>{const ee=Pe(G);return E?!ee.isCompleted:ee.isCompleted})].sort((G,ee)=>{const me={high:3,medium:2,low:1},Ie={overdue:5,urgent:4,behind:3,"on-track":2,completed:1},ce=Pe(G),Ee=Pe(ee),Ye=Ie[Ee.status]-Ie[ce.status];if(Ye!==0)return Ye;const yn=me[ee.priority]-me[G.priority];return yn!==0?yn:!ce.isCompleted&&!Ee.isCompleted?ce.progress-Ee.progress:0}),ne=gn.slice(0,A),ue=gn.length>A;return h.jsxs("div",{className:"goal-tracking",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Goal Tracking"}),h.jsxs("button",{onClick:Be,className:"add-button",disabled:l,children:[h.jsx(Ur,{size:20}),"Add Savings Goal"]})]}),t.length>0&&h.jsx("div",{className:"goals-filter-section",children:h.jsxs("div",{className:"filter-toggle-group",children:[h.jsxs("button",{className:`filter-toggle-btn ${E?"active":""}`,onClick:()=>{N(!0),I(5)},children:["Active (",t.filter(G=>!Pe(G).isCompleted).length,")"]}),h.jsxs("button",{className:`filter-toggle-btn ${E?"":"active"}`,onClick:()=>{N(!1),I(5)},children:["Completed (",t.filter(G=>Pe(G).isCompleted).length,")"]})]})}),t.length>0&&h.jsx("div",{className:"goals-summary-compact",children:h.jsxs("div",{className:"summary-compact-grid",children:[h.jsxs("div",{className:"summary-metric",children:[h.jsx(tr,{size:16,className:"metric-icon"}),h.jsx("span",{className:"metric-value",children:t.length}),h.jsx("span",{className:"metric-label",children:"Total"})]}),h.jsxs("div",{className:"summary-metric completed",children:[h.jsx(Gu,{size:16,className:"metric-icon"}),h.jsx("span",{className:"metric-value",children:t.filter(G=>Pe(G).isCompleted).length}),h.jsx("span",{className:"metric-label",children:"Done"})]}),h.jsxs("div",{className:"summary-metric progress",children:[h.jsx(_o,{size:16,className:"metric-icon"}),h.jsx("span",{className:"metric-value",children:t.filter(G=>!Pe(G).isCompleted&&G.isActive).length}),h.jsx("span",{className:"metric-label",children:"Active"})]}),h.jsxs("div",{className:"summary-metric amount",children:[h.jsx(y0,{size:16,className:"metric-icon"}),h.jsxs("span",{className:"metric-value",children:[(t.reduce((G,ee)=>G+ee.targetAmount,0)/1e3).toFixed(0),"k"]}),h.jsx("span",{className:"metric-label",children:"Target"})]})]})}),l&&h.jsx("div",{className:"goal-form-container",ref:p,children:h.jsxs("form",{onSubmit:V,className:"goal-form",noValidate:!0,children:[h.jsxs("div",{className:"form-header",children:[h.jsx("h3",{children:c?"Edit Savings Goal":"Add Savings Goal"}),h.jsx("button",{type:"button",onClick:ve,className:"icon-button",disabled:F,children:h.jsx(xo,{size:20})})]}),h.jsxs("div",{className:"form-content",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",children:"Goal Name *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"text",id:"name",name:"name",value:O.name,onChange:H,onBlur:pe,required:!0,placeholder:"e.g., Emergency Fund, Vacation to Europe",className:k.name&&R.name?"error":"",disabled:F,maxLength:"100"}),k.name&&R.name&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:k.name})]}),h.jsxs("div",{className:"char-count",children:[O.name.length,"/100"]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"description",children:"Description"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("textarea",{id:"description",name:"description",value:O.description,onChange:H,rows:"3",placeholder:"Describe your goal (optional)",disabled:F,maxLength:"500"}),h.jsxs("div",{className:"char-count",children:[O.description.length,"/500"]})]})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"targetAmount",children:["Target Amount (",M==null?void 0:M.symbol,") *"]}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"number",id:"targetAmount",name:"targetAmount",value:O.targetAmount,onChange:H,onBlur:pe,step:"0.01",min:"0",required:!0,placeholder:"0.00",className:k.targetAmount&&R.targetAmount?"error":"",disabled:F,autoComplete:"off"}),k.targetAmount&&R.targetAmount&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:k.targetAmount})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"currentAmount",children:["Current Amount (",M==null?void 0:M.symbol,")"]}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"number",id:"currentAmount",name:"currentAmount",value:O.currentAmount,onChange:H,onBlur:pe,step:"0.01",min:"0",placeholder:"0.00",className:k.currentAmount&&R.currentAmount?"error":"",disabled:F,autoComplete:"off"}),k.currentAmount&&R.currentAmount&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:k.currentAmount})]})]})]})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"targetDate",children:"Target Date *"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("input",{type:"date",id:"targetDate",name:"targetDate",value:O.targetDate,onChange:H,onBlur:pe,required:!0,className:k.targetDate&&R.targetDate?"error":"",disabled:F}),k.targetDate&&R.targetDate&&h.jsxs("div",{className:"error-message",children:[h.jsx(hn,{size:16}),h.jsx("span",{children:k.targetDate})]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"category",children:"Category"}),h.jsx("select",{id:"category",name:"category",value:O.category,onChange:H,disabled:F,children:Je.map(G=>h.jsx("option",{value:G.value,children:G.label},G.value))})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"priority",children:"Priority"}),h.jsx("select",{id:"priority",name:"priority",value:O.priority,onChange:H,disabled:F,children:Tt.map(G=>h.jsx("option",{value:G.value,children:G.label},G.value))})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"notes",children:"Notes"}),h.jsxs("div",{className:"input-wrapper",children:[h.jsx("textarea",{id:"notes",name:"notes",value:O.notes,onChange:H,rows:"3",placeholder:"Additional notes or action steps (optional)",disabled:F,maxLength:"500"}),h.jsxs("div",{className:"char-count",children:[O.notes.length,"/500"]})]})]}),h.jsx("div",{className:"form-group",children:h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",name:"isActive",checked:O.isActive,onChange:H,disabled:F}),h.jsx("span",{children:"Active (track progress towards this goal)"})]})})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"button",onClick:ve,className:"cancel-button",disabled:F,children:"Cancel"}),h.jsx("button",{type:"submit",className:"save-button",disabled:!q(),children:F?h.jsxs(h.Fragment,{children:[h.jsx(p_,{size:16,className:"spinning"}),c?"Updating...":"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(xf,{size:16}),c?"Update":"Save"," Goal"]})})]})]})}),ne.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"goals-list",children:ne.map(G=>{const ee=Pe(G),me=xe(G.priority),Ie=ze(ee.status),ce=me.icon,Ee=Ie.icon,Ye=Je.find(yn=>yn.value===G.category);return h.jsxs("div",{className:`goal-item ${ee.status} ${G.isActive?"":"inactive"}`,children:[h.jsxs("div",{className:"goal-header",children:[h.jsxs("div",{className:"goal-title-section",children:[h.jsx("h4",{className:"goal-name",children:G.name}),h.jsxs("div",{className:"goal-meta",children:[h.jsx("span",{className:"goal-category",children:Ye?Ye.label:"🎯 Other"}),h.jsxs("span",{className:"goal-priority",style:{color:me.color},children:[h.jsx(ce,{size:14}),me.label]}),h.jsxs("span",{className:"goal-status",style:{color:Ie.color},children:[h.jsx(Ee,{size:14}),Ie.label]})]})]}),h.jsxs("div",{className:"goal-actions",children:[!ee.isCompleted&&h.jsx("button",{onClick:()=>ge(G),className:"icon-button contribute-button",title:"Add contribution",children:h.jsx(Ur,{size:16})}),!ee.isCompleted&&h.jsx("button",{onClick:()=>ie(G),className:"icon-button edit-button",title:"Edit goal",children:h.jsx(zs,{size:16})}),h.jsx("button",{onClick:()=>J(G),className:"icon-button delete-button",title:"Delete goal",children:h.jsx(Ws,{size:16})})]})]}),G.description&&h.jsx("p",{className:"goal-description",children:G.description}),h.jsxs("div",{className:"goal-progress-section",children:[h.jsxs("div",{className:"progress-info",children:[h.jsxs("div",{className:"amount-info",children:[h.jsxs("span",{className:"current-amount",children:[M==null?void 0:M.symbol," ",ii(G.currentAmount)]}),h.jsx(EV,{size:16,className:"arrow"}),h.jsxs("span",{className:"target-amount",children:[M==null?void 0:M.symbol," ",ii(G.targetAmount)]})]}),h.jsxs("div",{className:"progress-percentage",children:[ee.progress.toFixed(1),"%"]})]}),h.jsx("div",{className:"progress-bar",children:h.jsx("div",{className:"progress-fill",style:{width:`${ee.progress}%`,backgroundColor:Ie.color}})}),h.jsxs("div",{className:"goal-stats",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Remaining"}),h.jsxs("span",{className:"stat-value",children:[M==null?void 0:M.symbol," ",ii(ee.remaining)]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Days left"}),h.jsx("span",{className:`stat-value ${ee.isOverdue?"overdue":""}`,children:ee.isOverdue?`${Math.abs(ee.daysRemaining)} days overdue`:`${ee.daysRemaining} days`})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Target date"}),h.jsx("span",{className:"stat-value",children:new Date(G.targetDate).toLocaleDateString()})]}),!ee.isCompleted&&ee.requiredMonthlySavings>0&&h.jsxs("div",{className:"stat-item recommended",children:[h.jsx("span",{className:"stat-label",children:"Monthly suggestion"}),h.jsxs("span",{className:"stat-value highlight",children:[M==null?void 0:M.symbol," ",ii(ee.requiredMonthlySavings)]})]})]})]}),G.notes&&h.jsxs("div",{className:"goal-notes",children:[h.jsx("strong",{children:"Notes:"})," ",G.notes]}),ee.canBeCompleted&&h.jsxs("div",{className:"goal-completion-cta",children:[h.jsxs("div",{className:"completion-message",children:[h.jsx(Gu,{size:20,className:"success-icon"}),h.jsx("span",{children:"🎉 Congratulations! You've reached your goal!"})]}),h.jsxs("button",{onClick:()=>se(G),className:"complete-goal-button",children:[h.jsx(vS,{size:16}),"Mark as Completed"]})]}),ee.isCompleted&&G.isManuallyCompleted&&h.jsxs("div",{className:"completion-badge",children:[h.jsx(vS,{size:20}),h.jsx("span",{children:"Goal Achieved!"}),G.completedDate&&h.jsxs("span",{className:"completion-date",children:["Completed on ",new Date(G.completedDate).toLocaleDateString()]})]})]},G.id)})}),ue&&h.jsx("div",{className:"load-more-container",children:h.jsxs("button",{onClick:()=>I(G=>G+5),className:"load-more-button",children:["Load More Goals (",gn.length-A," remaining)"]})})]}):h.jsxs("div",{className:"empty-state",children:[h.jsx(tr,{size:48}),h.jsx("h3",{children:"No Savings Goals"}),h.jsx("p",{children:"Create your first savings goal to start tracking your financial progress."}),h.jsxs("button",{onClick:Be,className:"add-button",children:[h.jsx(Ur,{size:20}),"Add Your First Goal"]})]}),m&&w&&h.jsx("div",{className:"modal-overlay",children:h.jsxs("div",{className:"contribution-modal",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h3",{children:"Add Contribution"}),h.jsx("button",{onClick:()=>g(!1),className:"icon-button",children:h.jsx(xo,{size:20})})]}),h.jsxs("form",{onSubmit:te,className:"contribution-form",children:[h.jsxs("div",{className:"goal-info",children:[h.jsx("h4",{children:w.name}),h.jsxs("div",{className:"current-progress",children:[h.jsxs("span",{children:["Current: ",M==null?void 0:M.symbol," ",ii(w.currentAmount)]}),h.jsxs("span",{children:["Target: ",M==null?void 0:M.symbol," ",ii(w.targetAmount)]})]}),h.jsxs("div",{className:"remaining-amount",children:["Remaining: ",M==null?void 0:M.symbol," ",ii(w.targetAmount-w.currentAmount)]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"contribution-amount",children:"Contribution Amount"}),h.jsxs("div",{className:"amount-input-wrapper",children:[h.jsx("span",{className:"currency-symbol",children:M==null?void 0:M.symbol}),h.jsx("input",{id:"contribution-amount",type:"number",step:"0.01",min:"0.01",value:b,onChange:G=>y(G.target.value),placeholder:"0.00",required:!0,autoFocus:!0})]})]}),h.jsxs("div",{className:"quick-amounts",children:[h.jsx("span",{className:"quick-label",children:"Quick amounts:"}),Pe(w).requiredMonthlySavings>0&&h.jsxs("button",{type:"button",onClick:()=>y(Pe(w).requiredMonthlySavings.toFixed(2)),className:"quick-amount-btn",children:["Suggested: ",M==null?void 0:M.symbol," ",ii(Pe(w).requiredMonthlySavings)]}),h.jsxs("button",{type:"button",onClick:()=>y("50"),className:"quick-amount-btn",children:[M==null?void 0:M.symbol,"50"]}),h.jsxs("button",{type:"button",onClick:()=>y("100"),className:"quick-amount-btn",children:[M==null?void 0:M.symbol,"100"]})]}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{type:"button",onClick:()=>g(!1),className:"cancel-button",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"add-button",disabled:!b||parseFloat(b)<=0,children:[h.jsx(Ur,{size:16}),"Add Contribution"]})]})]})]})}),h.jsx(mx,{isOpen:S,onClose:()=>v(!1),title:"Monthly Goal Reminders",type:"info",children:h.jsx("div",{className:"reminders-modal-content",children:T.length>0?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"reminder-intro",children:"The following goals need your attention:"}),h.jsx("div",{className:"reminder-goals-list",children:T.map(G=>{const ee=Pe(G),me=G.lastContribution?new Date(G.lastContribution):new Date(G.createdDate||"2024-01-01"),Ie=Math.ceil((new Date-me)/(1e3*60*60*24));return h.jsxs("div",{className:"reminder-goal-item",children:[h.jsxs("div",{className:"goal-info",children:[h.jsx("h4",{className:"goal-name",children:G.name}),h.jsxs("div",{className:"goal-details",children:[h.jsxs("p",{className:"goal-status",children:["Status: ",h.jsx("span",{className:`status-badge ${ee.status}`,children:ee.status.replace("-"," ")})]}),h.jsxs("p",{className:"last-contribution",children:["Last contribution: ",h.jsxs("strong",{children:[Ie," days ago"]})]}),ee.requiredMonthlySavings>0&&h.jsxs("p",{className:"monthly-suggestion",children:["Monthly suggestion: ",h.jsxs("strong",{children:[M==null?void 0:M.symbol," ",ii(ee.requiredMonthlySavings)]})]})]})]}),h.jsxs("button",{onClick:()=>{x(G),v(!1),g(!0)},className:"contribute-btn",children:[h.jsx(Ur,{size:16}),"Add Contribution"]})]},G.id)})})]}):h.jsxs("div",{className:"no-reminders",children:[h.jsx(tr,{size:48,className:"no-reminders-icon"}),h.jsx("h4",{className:"no-reminders-title",children:"All Goals Up to Date!"}),h.jsx("p",{className:"no-reminders-text",children:"Great job! All your active goals have recent contributions or are on track."})]})})})]})}const dge="modulepreload",hge=function(t){return"/cashPilot/"+t},KO={},YO=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=hge(l),l in KO)return;KO[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":dge,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},pge=()=>{const{currentUser:t}=Lf(),{transactions:e,categories:n,budgets:r,goals:i,settings:a,loading:o,error:s,addTransaction:l,addCategory:u}=qj(),[c,f]=L.useState(""),[p,m]=L.useState(!1),g=y=>{const E=new Date().toLocaleTimeString();f(N=>`${N}
[${E}] ${y}`),console.log(`[DEBUG] ${y}`)},w=async()=>{var y;g("=== TESTING FIREBASE CONNECTION ===");try{if(!t){g("❌ No authenticated user");return}g(`✅ User authenticated: ${t.email} (${t.uid})`);const{collection:E,getDocs:N,query:A,where:I,orderBy:S,addDoc:v}=await YO(async()=>{const{collection:P,getDocs:O,query:j,where:k,orderBy:$,addDoc:F}=await Promise.resolve().then(()=>ez);return{collection:P,getDocs:O,query:j,where:k,orderBy:$,addDoc:F}},void 0),{db:T}=await YO(async()=>{const{db:P}=await Promise.resolve().then(()=>nz);return{db:P}},void 0);g("Test 1: Simple collection access...");try{const P=E(T,"transactions"),O=await N(P);g(`✅ Simple collection access works. Documents: ${O.size}`)}catch(P){g(`❌ Simple collection access failed: ${P.message}`)}g("Test 2: userId filter only...");try{const P=A(E(T,"transactions"),I("userId","==",t.uid)),O=await N(P);g(`✅ User filter works. User documents: ${O.size}`)}catch(P){g(`❌ User filter failed: ${P.message}`)}g("Test 3: Compound query (userId + orderBy)...");try{const P=A(E(T,"transactions"),I("userId","==",t.uid),S("createdAt","desc")),O=await N(P);g(`✅ Compound query works. Documents: ${O.size}`)}catch(P){g(`❌ Compound query failed: ${P.message}`),g(`Error code: ${P.code}`)}g("Test 4: Check categories collection...");try{const P=A(E(T,"categories"),I("userId","==",t.uid)),O=await N(P);g(`✅ Categories query works. Documents: ${O.size}`);let j=0;O.forEach(k=>{j<3&&(g(`Category ${j+1}: ${JSON.stringify(k.data())}`),j++)})}catch(P){g(`❌ Categories query failed: ${P.message}`)}g("Test 5: Add transaction and read back...");try{const P={type:"expense",amount:1,description:"Debug Test Transaction",categoryId:((y=n[0])==null?void 0:y.id)||"test-category",date:new Date().toISOString().split("T")[0],notes:"This is a debug test",userId:t.uid,createdAt:new Date,updatedAt:new Date},O=await v(E(T,"transactions"),P);g(`✅ Transaction added with ID: ${O.id}`);const j=A(E(T,"transactions"),I("userId","==",t.uid)),k=await N(j);g(`✅ Read back successful. Total transactions: ${k.size}`)}catch(P){g(`❌ Add and read test failed: ${P.message}`)}}catch(E){g(`❌ General Error: ${E.message}`),g(`❌ Error details: ${JSON.stringify(E,null,2)}`)}},x=async()=>{g("=== TESTING CATEGORY CREATION ===");try{const y={name:"Debug Category",color:"#ff0000",type:"expense"};g("Testing direct categoryService.create...");const E=await as.create(y,t.uid);g(`✅ Direct category creation successful. ID: ${E.id}`),g("Testing context addCategory..."),await u({name:"Context Category",color:"#00ff00",type:"income"}),g("✅ Context addCategory successful")}catch(y){g(`❌ Category Error: ${y.message}`)}},b=()=>{g("=== CURRENT STATE ==="),g(`User: ${(t==null?void 0:t.email)||"Not authenticated"}`),g(`Loading: ${o}`),g(`Error: ${s||"None"}`),g(`Transactions: ${e.length}`),g(`Categories: ${n.length}`),g(`Budgets: ${r.length}`),g(`Goals: ${i.length}`),g(`Settings: ${JSON.stringify(a)}`)};return p?h.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",width:"400px",height:"500px",background:"white",border:"2px solid #ccc",borderRadius:"8px",padding:"16px",zIndex:9999,fontSize:"12px",fontFamily:"monospace",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[h.jsxs("div",{style:{marginBottom:"16px"},children:[h.jsx("button",{onClick:()=>m(!1),style:{float:"right"},children:"❌"}),h.jsx("h3",{style:{margin:0},children:"Debug Panel"})]}),h.jsxs("div",{style:{marginBottom:"16px"},children:[h.jsx("button",{onClick:b,style:{marginRight:"8px"},children:"Log State"}),h.jsx("button",{onClick:w,style:{marginRight:"8px"},children:"Test Firebase"}),h.jsx("button",{onClick:x,style:{marginRight:"8px"},children:"Test Categories"}),h.jsx("button",{onClick:()=>f(""),children:"Clear"})]}),h.jsx("textarea",{value:c,readOnly:!0,style:{width:"100%",height:"350px",border:"1px solid #ccc",borderRadius:"4px",padding:"8px",fontSize:"11px",fontFamily:"monospace",resize:"none"}})]}):h.jsx("button",{onClick:()=>m(!0),style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,background:"#ff6b6b",color:"white",border:"none",padding:"10px",borderRadius:"50%",cursor:"pointer",fontSize:"16px"},children:"🐛"})},mge=({isOpen:t,onClose:e,title:n,message:r,type:i="info"})=>h.jsx(mx,{isOpen:t,onClose:e,title:n,type:i,children:h.jsxs("div",{className:"alert-content",children:[h.jsx("p",{className:"alert-message",children:r}),h.jsx("div",{className:"alert-actions",children:h.jsx("button",{className:"btn btn-primary",onClick:e,children:"OK"})})]})}),gge=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState({}),[i,a]=L.useState(null);return{isOpen:t,modalProps:n,showAlert:({title:c,message:f,type:p="info"})=>(r({title:c,message:f,type:p,modalType:"alert"}),e(!0),new Promise(m=>{a(()=>m)})),showConfirm:({title:c,message:f,confirmText:p="Confirm",cancelText:m="Cancel",type:g="confirm",isDestructive:w=!1})=>(r({title:c,message:f,confirmText:p,cancelText:m,type:g,isDestructive:w,modalType:"confirm"}),e(!0),new Promise(x=>{a(()=>x)})),closeModal:()=>{e(!1),i&&(i(!1),a(null))},confirmModal:()=>{e(!1),i&&(i(!0),a(null))}}};function yge(){const{currentUser:t,logout:e}=Lf(),{transactions:n,categories:r,budgets:i,recurringTransactions:a,goals:o,settings:s,loading:l,error:u,addTransaction:c,updateTransaction:f,deleteTransaction:p,addCategory:m,updateCategory:g,deleteCategory:w,addBudget:x,updateBudget:b,deleteBudget:y,addGoal:E,updateGoal:N,deleteGoal:A,addRecurringTransaction:I,updateRecurringTransaction:S,deleteRecurringTransaction:v,updateSettings:T,clearError:P}=qj(),[O,j]=L.useState("dashboard"),[k,$]=L.useState(!1),[F,W]=L.useState(null),R=gge();if(l)return h.jsxs("div",{className:"loading-container",children:[h.jsx("div",{className:"loading-spinner"}),h.jsx("p",{children:"Loading your financial data..."})]});L.useEffect(()=>{document.documentElement.setAttribute("data-theme",s.theme)},[s.theme]),L.useEffect(()=>{if(u){const ne=setTimeout(()=>{P()},5e3);return()=>clearTimeout(ne)}},[u,P]),L.useEffect(()=>{let ne=window.scrollY,ue=!1;const G=()=>{const Ie=document.querySelector(".header"),ce=document.querySelector(".nav");if(Ie&&ce)if(Ie.classList.contains("hidden"))ce.style.top="0px",ce.classList.add("header-hidden");else{const Ee=Ie.offsetHeight;ce.style.top=`${Ee}px`,ce.classList.remove("header-hidden")}},ee=()=>{const Ie=window.scrollY,ce=document.querySelector(".header"),Ee=document.querySelector(".nav");if(ue=Ie>ne,ce){const Ye=ce.classList.contains("hidden");Ie>100&&ue?ce.classList.add("hidden"):(!ue||Ie<50)&&ce.classList.remove("hidden");const yn=ce.classList.contains("hidden");Ye!==yn&&G(),Ie>10?ce.classList.add("scrolled"):ce.classList.remove("scrolled")}Ee&&(Ie>10?Ee.classList.add("scrolled"):Ee.classList.remove("scrolled")),ne=Ie};G();const me=()=>{G()};return window.addEventListener("scroll",ee),window.addEventListener("resize",me),()=>{window.removeEventListener("scroll",ee),window.removeEventListener("resize",me)}},[]);const B=async ne=>{try{await c(ne),$(!1),await R.showAlert({title:"Transaction Added",message:"Transaction has been successfully saved to your account.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add transaction. Please try again.",type:"error"})}},M=async ne=>{try{await f(ne.id,ne),W(null),$(!1),await R.showAlert({title:"Transaction Updated",message:"Transaction has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update transaction. Please try again.",type:"error"})}},X=async ne=>{const ue=n.find(Ee=>Ee.id===ne);if(!ue)return;const G=r.find(Ee=>Ee.id===ue.categoryId),ee=G?G.name:"Unknown Category",me=Tn.find(Ee=>Ee.code===s.currency)||Tn[0],Ie=`${ue.type==="expense"?"-":"+"}${me.symbol}${Math.abs(ue.amount).toFixed(2)}`;if(await R.showConfirm({title:"Delete Transaction",message:`Are you sure you want to delete this transaction?

📝 ${ue.description}
💰 ${Ie}
🏷️ ${ee}
📅 ${new Date(ue.date).toLocaleDateString()}

This action cannot be undone.`,confirmText:"Delete Transaction",cancelText:"Cancel",type:"confirm",isDestructive:!0}))try{await p(ne),await R.showAlert({title:"Transaction Deleted",message:"The transaction has been successfully deleted.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete transaction. Please try again.",type:"error"})}},q=async ne=>{try{await m(ne),await R.showAlert({title:"Category Added",message:"Category has been successfully created.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add category. Please try again.",type:"error"})}},V=async ne=>{try{await g(ne.id,ne),await R.showAlert({title:"Category Updated",message:"Category has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update category. Please try again.",type:"error"})}},H=async ne=>{const ue=r.find(ce=>ce.id===ne);if(!ue)return;const G=n.filter(ce=>ce.categoryId===ne),ee=i.filter(ce=>ce.categoryId===ne);let me=`Are you sure you want to delete the category "${ue.name}"?

`;if(G.length>0&&(me+=`⚠️ This will affect ${G.length} transaction(s) using this category.
`),ee.length>0&&(me+=`⚠️ This will also delete ${ee.length} budget(s) for this category.
`),me+=`
This action cannot be undone.`,await R.showConfirm({title:"Delete Category",message:me,confirmText:"Delete Category",cancelText:"Cancel",type:"warning",isDestructive:!0}))try{await w(ne),ee.length>0&&await Promise.all(ee.map(ce=>y(ce.id))),await R.showAlert({title:"Category Deleted",message:`The category "${ue.name}" has been successfully deleted.${G.length>0?`

${G.length} transaction(s) will now show "Unknown Category".`:""}`,type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete category. Please try again.",type:"error"})}},pe=async ne=>{try{await x(ne),await R.showAlert({title:"Budget Added",message:"Budget has been successfully created.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add budget. Please try again.",type:"error"})}},ve=async ne=>{try{await b(ne.id,ne),await R.showAlert({title:"Budget Updated",message:"Budget has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update budget. Please try again.",type:"error"})}},Ve=async ne=>{const ue=i.find(ce=>ce.id===ne);if(!ue)return;const G=r.find(ce=>ce.id===ue.categoryId),ee=G?G.name:"Unknown Category",me=Tn.find(ce=>ce.code===s.currency)||Tn[0];if(await R.showConfirm({title:"Delete Budget",message:`Are you sure you want to delete this budget?

📊 ${ue.name||ee+" Budget"}
💰 ${me.symbol}${ue.amount.toFixed(2)} per ${ue.period}
🏷️ ${ee}

This action cannot be undone.`,confirmText:"Delete Budget",cancelText:"Cancel",type:"confirm",isDestructive:!0}))try{await y(ne),await R.showAlert({title:"Budget Deleted",message:"The budget has been successfully deleted.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete budget. Please try again.",type:"error"})}},Be=async ne=>{try{await E(ne),await R.showAlert({title:"Goal Added",message:"Goal has been successfully created.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add goal. Please try again.",type:"error"})}},ie=async ne=>{try{await N(ne.id,ne),await R.showAlert({title:"Goal Updated",message:"Goal has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update goal. Please try again.",type:"error"})}},J=async ne=>{try{await A(ne),await R.showAlert({title:"Goal Deleted",message:"Goal has been successfully deleted.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete goal. Please try again.",type:"error"})}},se=async ne=>{try{await I(ne),await R.showAlert({title:"Recurring Transaction Added",message:"Recurring transaction has been successfully created.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to add recurring transaction. Please try again.",type:"error"})}},ge=async ne=>{try{await S(ne.id,ne),await R.showAlert({title:"Recurring Transaction Updated",message:"Recurring transaction has been successfully updated.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to update recurring transaction. Please try again.",type:"error"})}},te=async ne=>{const ue=a.find(ce=>ce.id===ne);if(!ue)return;const G=r.find(ce=>ce.id===ue.categoryId),ee=G?G.name:"Unknown Category",me=Tn.find(ce=>ce.code===s.currency)||Tn[0];if(await R.showConfirm({title:"Delete Recurring Transaction",message:`Are you sure you want to delete this recurring transaction?

📋 ${ue.description}
💰 ${me.symbol}${ue.amount.toFixed(2)}
🔄 ${ue.frequency.charAt(0).toUpperCase()+ue.frequency.slice(1)}
🏷️ ${ee}

This will not affect already generated transactions.`,confirmText:"Delete Recurring Transaction",cancelText:"Cancel",type:"confirm",isDestructive:!0}))try{await v(ne),await R.showAlert({title:"Recurring Transaction Deleted",message:"The recurring transaction has been successfully deleted.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to delete recurring transaction. Please try again.",type:"error"})}},Pe=async(ne,ue)=>{try{const G=a.find(ee=>ee.id===ne);G&&await S(ne,{...G,isActive:ue})}catch{await R.showAlert({title:"Error",message:"Failed to update recurring transaction status.",type:"error"})}},xe=async ne=>{try{await T(ne),await R.showAlert({title:"Settings Updated",message:"Your settings have been successfully saved.",type:"success"})}catch{await R.showAlert({title:"Error",message:"Failed to save settings. Please try again.",type:"error"})}},ze=async()=>{const ne=new Date;let ue=0;for(const G of a.filter(ee=>ee.isActive)){const ee=new Date(G.startDate),me=G.endDate?new Date(G.endDate):null;if(me&&ne>me||ee>ne)continue;if(Je(G,ne)){const ce=ne.toISOString().split("T")[0];if(!n.find(Ye=>Ye.date===ce&&Ye.recurringId===G.id))try{const Ye={type:G.type,amount:G.amount,description:`${G.description} (Auto)`,categoryId:G.categoryId,date:ce,recurringId:G.id,notes:G.notes||""};await c(Ye),ue++}catch(Ye){console.error("Error generating recurring transaction:",Ye)}}}ue>0&&console.log(`Generated ${ue} recurring transactions`)},Je=(ne,ue)=>{const G=new Date(ne.startDate);switch(ne.frequency){case"daily":return ue>=G;case"weekly":return ue>=G&&ue.getDay()===ne.dayOfWeek;case"monthly":const ee=Math.min(ne.dayOfMonth,Tt(ue));return ue>=G&&ue.getDate()===ee;case"yearly":return ue>=G&&ue.getMonth()===G.getMonth()&&ue.getDate()===G.getDate();default:return!1}},Tt=ne=>new Date(ne.getFullYear(),ne.getMonth()+1,0).getDate();L.useEffect(()=>{if(l||a.length===0)return;ze();const ne=setInterval(ze,24*60*60*1e3);return()=>clearInterval(ne)},[l,a]),L.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[O]);const Dn=async()=>{const ne=s.theme==="light"?"dark":"light";await xe({...s,theme:ne})},gn=[{id:"dashboard",label:"Dashboard",icon:uh},{id:"transactions",label:"Transactions",icon:BV},{id:"budgets",label:"Budgets",icon:tr},{id:"recurring",label:"Recurring",icon:Yu},{id:"goals",label:"Goals",icon:AV},{id:"categories",label:"Categories",icon:PV},{id:"insights",label:"Insights & Reports",icon:_o}];return h.jsxs("div",{className:"app",children:[u&&h.jsxs("div",{className:"error-banner",style:{position:"fixed",top:0,left:0,right:0,background:"#ef4444",color:"white",padding:"8px 16px",textAlign:"center",zIndex:9999},children:[u," ",h.jsx("button",{onClick:P,style:{background:"transparent",border:"1px solid white",color:"white",marginLeft:"8px",padding:"2px 8px",borderRadius:"4px",cursor:"pointer"},children:"✕"})]}),h.jsx("header",{className:"header",style:{marginTop:u?"40px":"0"},children:h.jsxs("div",{className:"header-content",children:[h.jsx("div",{className:"header-left",children:h.jsxs("div",{className:"logo",onClick:()=>j("dashboard"),children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M4 8C4 6.89543 4.89543 6 6 6H24C25.1046 6 26 6.89543 26 8V24C26 25.1046 25.1046 26 24 26H6C4.89543 26 4 25.1046 4 24V8Z",fill:"currentColor",fillOpacity:"0.1",stroke:"currentColor",strokeWidth:"2"}),h.jsx("path",{d:"M4 8V12C4 13.1046 4.89543 14 6 14H20C21.1046 14 22 13.1046 22 12V10",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("circle",{cx:"19",cy:"5",r:"4",fill:"var(--primary-color)",stroke:"var(--primary-dark)",strokeWidth:"1"}),h.jsx("path",{d:"M18.5 3V7M19.5 3V7M17.5 4.5H20.5C20.7761 4.5 21 4.72386 21 5C21 5.27614 20.7761 5.5 20.5 5.5H17.5C17.2239 5.5 17 5.72386 17 6C17 6.27614 17.2239 6.5 17.5 6.5H20.5",stroke:"white",strokeWidth:"0.8",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"7",y:"17",width:"12",height:"1.5",rx:"0.75",fill:"currentColor",fillOpacity:"0.3"}),h.jsx("rect",{x:"7",y:"20",width:"8",height:"1.5",rx:"0.75",fill:"currentColor",fillOpacity:"0.2"})]})}),h.jsx("h1",{children:"CashPilot"})]})}),h.jsxs("div",{className:"header-right",children:[h.jsx("button",{onClick:Dn,className:"icon-button",title:"Toggle theme",children:s.theme==="light"?h.jsx(DV,{size:20}):h.jsx(VV,{size:20})}),h.jsx("select",{value:s.currency,onChange:ne=>xe({...s,currency:ne.target.value}),className:"currency-select",children:Tn.map(ne=>h.jsxs("option",{value:ne.code,children:[ne.symbol," ",ne.code]},ne.code))}),h.jsxs("div",{className:"user-menu",children:[h.jsx("span",{className:"user-name",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),h.jsx("button",{onClick:e,className:"icon-button",title:"Sign out",children:h.jsx(NV,{size:20})})]})]})]})}),h.jsx("nav",{className:"nav",children:h.jsx("div",{className:"nav-content",children:gn.map(ne=>{const ue=ne.icon;return h.jsxs("button",{onClick:()=>j(ne.id),className:`nav-button ${O===ne.id?"active":""}`,children:[h.jsx(ue,{size:20}),h.jsx("span",{children:ne.label})]},ne.id)})})}),h.jsx("main",{className:"main",children:h.jsxs("div",{className:"main-content",children:[O==="dashboard"&&h.jsx(v8,{transactions:n,categories:r,budgets:i,goals:o,recurringTransactions:a,currency:s.currency,onNavigateToTab:j}),O==="transactions"&&h.jsxs("div",{children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h2",{children:"Transactions"}),h.jsxs("button",{onClick:()=>{W(null),$(!0)},className:"add-button",children:[h.jsx($V,{size:20}),"Add Transaction"]})]}),h.jsx(y8,{transactions:n,categories:r,currency:s.currency,onEdit:ne=>{W(ne),$(!0)},onDelete:X})]}),O==="categories"&&h.jsx(w8,{categories:r,onAdd:q,onUpdate:V,onDelete:H}),O==="budgets"&&h.jsx(b8,{budgets:i,categories:r,transactions:n,currency:s.currency,onAdd:pe,onUpdate:ve,onDelete:Ve}),O==="recurring"&&h.jsx(E8,{recurringTransactions:a,categories:r,currency:s.currency,onAdd:se,onUpdate:ge,onDelete:te,onToggleActive:Pe}),O==="insights"&&h.jsx(uge,{transactions:n,categories:r,budgets:i,currency:s.currency}),O==="goals"&&h.jsx(fge,{goals:o,transactions:n,currency:s.currency,categories:r,onAdd:Be,onUpdate:ie,onDelete:J,onAddTransaction:B})]})}),k&&h.jsx("div",{className:"modal-overlay",onClick:()=>$(!1),children:h.jsx("div",{className:"modal",onClick:ne=>ne.stopPropagation(),children:h.jsx(oz,{transaction:F,categories:r,currency:s.currency,onSubmit:F?M:B,onCancel:()=>{$(!1),W(null)}})})}),R.modalProps.modalType==="alert"&&h.jsx(mge,{isOpen:R.isOpen,onClose:R.closeModal,title:R.modalProps.title,message:R.modalProps.message,type:R.modalProps.type}),R.modalProps.modalType==="confirm"&&h.jsx(cge,{isOpen:R.isOpen,onClose:R.closeModal,onConfirm:R.confirmModal,title:R.modalProps.title,message:R.modalProps.message,confirmText:R.modalProps.confirmText,cancelText:R.modalProps.cancelText,type:R.modalProps.type,isDestructive:R.modalProps.isDestructive}),h.jsx(pge,{})]})}function vge(){return h.jsx(rz,{children:h.jsx(wge,{})})}function wge(){const{currentUser:t,loading:e}=Lf();return e?h.jsxs("div",{className:"loading-container",children:[h.jsx("div",{className:"loading-spinner"}),h.jsx("p",{children:"Loading..."})]}):t?h.jsx(iz,{children:h.jsx(yge,{})}):h.jsx(az,{})}Ev.createRoot(document.getElementById("root")).render(h.jsx(U.StrictMode,{children:h.jsx(vge,{})}));
